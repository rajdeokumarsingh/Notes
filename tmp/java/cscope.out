cscope 15 $HOME/perforce/xmm6321.5.17/packages/apps/FMRadio/java -q 0000002463 0000386626
	@Android.mk

1 #
#Cİyrighˆ(
C
è2013 
C­™®
 
AÎŸnû
 
Soáw¬e
 
LTD
 (
Pek®l
)

2 #
#Liûn£d 
und”
 
the
 
A·che
 
Liûn£
, 
V”siÚ
 2.0 (the "License");

3 #you 
may
 
nÙ
 
u£
 
this
 
fe
 
exû±
 
š
 
com¶Ÿnû
 
w™h
 
the
 
Liûn£
.

4 #You 
may
 
obš
 
a
 
cİy
 
of
 
the
 
Liûn£
 
©


6 #
#UÆes 
»quœed
 
by
 
­¶iÿbË
 
Ïw
 
Ü
 
ag»ed
 
to
 
š
 
wr™šg
, 
soáw¬e


7 #di¡ribu‹d 
und”
 
the
 
Liûn£
 
is
 
di¡ribu‹d
 
Ú
 
ª
 "AS IS" 
BASIS
,

8 #WITHOUT 
WARRANTIES
 
OR
 
CONDITIONS
 
OF
 
ANY
 
KIND
, 
e™h”
 
ex´ess
 
Ü
 
im¶›d
.

9 #S“ 
the
 
Liûn£
 th
¥ecific
 
Ïnguage
 
gov”nšg
 
³rmissiÚs
 
ªd


10 #lim™©iÚ 
und”
 
the
 
Liûn£
.

12 
	gLOCAL_PATH
:ğ
$
(
ÿÎ
 
my
-
dœ
)

14 
šşude
 
	$$
(
CLEAR_VARS
)

16 
LOCAL_MODULE_TAGS
 :ğ
İtiÚ®


17 
LOCAL_SRC_FILES
 :ğ
	`$
(
ÿÎ
 
®l
-
java
-
fes
-
und”
, 
rds
)

18 
LOCAL_MODULE
 :ğ
rds
-
decod”


19 
šşude
 
	$$
(
BUILD_STATIC_JAVA_LIBRARY
)

22 
šşude
 
	$$
(
CLEAR_VARS
)

24 
LOCAL_MODULE_TAGS
 :ğ
İtiÚ®


25 
LOCAL_SRC_FILES
 :ğ
	`$
(
ÿÎ
 
®l
-
java
-
fes
-
und”
, 
¤c
) \

26 
¤c
/
com
/
³k®l
/
fm¿dio
/
IFMRadioS”viû
.
aidl
 \

27 
¤c
/
com
/
³k®l
/
fm¿dio
/
IRemÙeS”viûC®lback
.
aidl


29 
LOCAL_STATIC_JAVA_LIBRARIES
 :ğ
rds
-
decod”


31 
LOCAL_PACKAGE_NAME
 :ğ
FMRadio


33 
LOCAL_PROGUARD_FLAGS
 :ğ-
šşude
 
	`$
(
LOCAL_PATH
)/
´ogu¬d
.
æags


35 
šşude
 
	`$
(
BUILD_PACKAGE
)

	@AndroidManifest.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
mªiã¡
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
·ckage
="com.pekall.fmradio" >

22 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.READ_PHONE_STATE" />

23 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.WAKE_LOCK" />

24 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.MODIFY_AUDIO_SETTINGS" />

25 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.WRITE_EXTERNAL_STORAGE" />

26 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.RECORD_AUDIO" />

27 <
u£s
-
³rmissiÚ
 
ªdroid
:
Çme
="android.permission.WRITE_SETTINGS" />

29 <
­¶iÿtiÚ


30 
ªdroid
:
icÚ
="@drawable/fmradio_icon"

31 
ªdroid
:
Ïb–
="@string/app_name" >

32 <
u£s
-
lib¿ry
 
ªdroid
:
Çme
="android.test.runner" />

34 <
´ovid”


35 
ªdroid
:
Çme
=".FMDataProvider"

36 
ªdroid
:
authÜ™›s
="com.pekall.provider.fmradio" >

37 </
´ovid”
>

39 <
aùiv™y


40 
ªdroid
:
Çme
=".FMRadio"

41 
ªdroid
:
Ïb–
="@string/app_name"

42 
ªdroid
:
cÚfigChªges
="orientation|keyboardHidden"

43 
ªdroid
:
ÏunchMode
="singleTask"

44 
ªdroid
:
sü“nOr›Á©iÚ
="portrait"

45 
ªdroid
:
theme
="@android:style/Theme.Holo.Light" >

46 <
š‹Á
-
f‹r
 >

47 <
aùiÚ
 
ªdroid
:
Çme
="android.intent.action.MAIN" />

49 <
ÿ‹gÜy
 
ªdroid
:
Çme
="android.intent.category.LAUNCHER" />

50 </
š‹Á
-
f‹r
>

51 <
š‹Á
-
f‹r
 >

52 <
aùiÚ
 
ªdroid
:
Çme
="com.pekall.fmradio.LAUNCHEFMRADIO" />

54 <
ÿ‹gÜy
 
ªdroid
:
Çme
="android.intent.category.DEFAULT" />

55 </
š‹Á
-
f‹r
>

56 </
aùiv™y
>

58 <
aùiv™y


59 
ªdroid
:
Çme
=".FMSaveChannel"

60 
ªdroid
:
Ïb–
="FMSaveChannel"

61 
ªdroid
:
sü“nOr›Á©iÚ
="portrait" >

62 </
aùiv™y
>

64 <
aùiv™y


65 
ªdroid
:
Çme
=".FMClearChannel"

66 
ªdroid
:
Ïb–
="FMClearChannel"

67 
ªdroid
:
sü“nOr›Á©iÚ
="portrait" >

68 </
aùiv™y
>

70 <
aùiv™y


71 
ªdroid
:
Çme
=".CopyRightActivity"

72 
ªdroid
:
Ïb–
="@string/copyright"

73 
ªdroid
:
sü“nOr›Á©iÚ
="portrait" >

74 </
aùiv™y
>

76 <
aùiv™y


77 
ªdroid
:
Çme
=".RecordListActivity"

78 
ªdroid
:
Ïb–
="RecordListActivity"

79 
ªdroid
:
cÚfigChªges
="keyboardHidden|orientation"

80 
ªdroid
:
sü“nOr›Á©iÚ
="portrait" >

81 </
aùiv™y
>

83 <!-- 
£rviû
 
ªdroid
:
Çme
="FMRadioS”viû"‡ndroid:
´oûss
=":remote" -->

84 <
£rviû


85 
ªdroid
:
expÜ‹d
="true"

86 
ªdroid
:
Çme
=".FMRadioService" >

87 <
š‹Á
-
f‹r
 >

89 
This
 
is
 
ª
 
aùiÚ
 
code
 
you
 
ÿn
 
u£
 
to
 
£Ëù
 
the
 
£rviû


90 
w™hout
 
ex¶ic™ly
 
suµlyšg
 
the
 
im¶em’tiÚ
 
şass
.

92 <
aùiÚ
 
ªdroid
:
Çme
="com.pekall.fmradio.FMRADIO_SERVICE" />

93 </
š‹Á
-
f‹r
>

94 </
£rviû
>

96 <
»ûiv”
 
ªdroid
:
Çme
="com.pekall.fmradio.MediaButtonIntentReceiver" >

97 <
š‹Á
-
f‹r
 >

98 <
aùiÚ
 
ªdroid
:
Çme
="android.intent.action.MEDIA_BUTTON" />

99 </
š‹Á
-
f‹r
>

100 </
»ûiv”
>

102 <
»ûiv”
 
ªdroid
:
Çme
=".FMRadioAppWidgetProvider" >

103 <
š‹Á
-
f‹r
 >

104 <
aùiÚ
 
ªdroid
:
Çme
="android.appwidget.action.APPWIDGET_UPDATE" />

105 </
š‹Á
-
f‹r
>

107 <
m‘a
-
d©a


108 
ªdroid
:
Çme
="android.appwidget.provider"

109 
ªdroid
:
»sourû
="@xml/fm_widget" />

110 </
»ûiv”
>

111 </
­¶iÿtiÚ
>

113 <
š¡rum’tiÚ


114 
ªdroid
:
Çme
="android.test.InstrumentationTestRunner"

115 
ªdroid
:
Ïb–
="FMRest"

116 
ªdroid
:
rg‘Package
="com.pekall.fmradio" />

118 </
mªiã¡
>

	@rds/rds/app/Application.java

26 
·ckage
 
	grds
.
	g­p
;

28 
impÜt
 
	grds
.
	gcÜe
.
	gTuÃdStiÚ
;

29 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

31 
impÜt
 
	gjava
.
	gio
.
	gPrštSŒ—m
;

32 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

33 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

35 
public
 
ab¡¿ù
 cÏs 
	cAµliÿtiÚ
 {

36 
´Ùeùed
 
TuÃdStiÚ
 
	m¡©iÚ
 = 
nuÎ
;

37 
´Ùeùed
 
PrštSŒ—m
 
	mcÚsŞe
 = 
Sy¡em
.
out
;

38 
´iv©e
 
	mLškedLi¡
<
	mChªgeLi¡’”
> 
	mchªgeLi¡’”s
 = 
Ãw
 
LškedLi¡
<
ChªgeLi¡’”
>();

40 
public
 
	$£tStiÚ
(
TuÃdStiÚ
 
¡©iÚ
) {

41 
this
.
¡©iÚ
 = station;

44 
public
 
ab¡¿ù
 
	`»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
,

45 
v”siÚ
, [] 
blocks
, 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
);

47 
public
 
ab¡¿ù
 
SŒšg
 
	`g‘Name
();

49 
public
 
	$addChªgeLi¡’”
(
ChªgeLi¡’”
 
l
) {

50 
chªgeLi¡’”s
.
	`addLa¡
(
l
);

51 
	}
}

53 
´Ùeùed
 
	$fœeChªgeLi¡’”s
() {

54 
ChªgeLi¡’”
 
l
 : 
chªgeLi¡’”s
) {

55 
l
.
	`nÙifyChªge
();

57 
	}
}

	@rds/rds/app/ChangeListener.java

26 
·ckage
 
	grds
.
	g­p
;

28 
public
 
š‹rçû
 
	gChªgeLi¡’”
 {

29 
public
 
nÙifyChªge
();

	@rds/rds/app/InHouse.java

26 
·ckage
 
	grds
.
	g­p
;

28 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

29 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

30 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

32 
impÜt
 
	grds
.
	gcÜe
.
	gRDS
;

33 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

35 
public
 cÏs 
	cInHou£
 
ex‹nds
 
	mAµliÿtiÚ
 {

36 
´iv©e
 
fš®
 
	mLi¡
<
	mMes§ge
> 
	mmes§ges
 = 
Ãw
 
A¼ayLi¡
<
Mes§ge
>();

38 
public
 
	$InHou£
() {

41 @
Ov”ride


42 
public
 
SŒšg
 
	$g‘Name
() {

44 
	}
}

46 @
Ov”ride


47 
public
 
	$»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
, 
v”siÚ
, [] 
blocks
,

48 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
) {

49 if(
blocksOk
[1] && blocksOk[2] && blocksOk[3]) {

50 
Mes§ge
 
m
 = 
Ãw
 
	`Mes§ge
(
blocks
[1] & 0x1F, blocks[2], blocks[3]);

51 
	`synchrÚized
(
this
) {

52 
mes§ges
.
	`add
(
m
);

54 
cÚsŞe
.
	`´št
(
m
.
	`g‘Dump
());

56 
	}
}

58 
public
 
synchrÚized
 
	$g‘Mes§geCouÁ
() {

59  
mes§ges
.
	`size
();

60 
	}
}

62 
public
 
synchrÚized
 
SŒšg
 
	$g‘Mes§ge
(
šdex
) {

63  
mes§ges
.
	`g‘
(
šdex
).
	`g‘Dump
();

64 
	}
}

66 
public
 şas 
	cMes§ge
 {

67 
´iv©e
 
fš®
 
	gw1
, 
	gw2
, 
	gw3
;

68 
´iv©e
 
fš®
 
SŒšg
 
	gcÚ‹Ás
;

70 
public
 
Mes§ge
(
w1
, 
w2
, 
w3
) {

71 
	gthis
.
	gw1
 = 
w1
;

72 
	gthis
.
	gw2
 = 
w2
;

73 
	gthis
.
	gw3
 = 
w3
;

75 
	gcÚ‹Ás
 =

76 
Ch¬aù”
.
toSŒšg
(
ch¬aù”
((
w2
 >> 8) & 0xFF)) +

77 
Ch¬aù”
.
toSŒšg
(
ch¬aù”
(
w2
 & 0xFF)) +

78 
Ch¬aù”
.
toSŒšg
(
ch¬aù”
((
w3
 >> 8) & 0xFF)) +

79 
Ch¬aù”
.
toSŒšg
(
ch¬aù”
(
w3
 & 0xFF));

82 
´iv©e
 
ch¬aù”
(
v
) {

83 if(
	gv
 >ğ32 && 
v
<=255è 
RDS
.
toCh¬
(v);  '.';

86 
public
 
SŒšg
 
g‘Dump
() {

87  
	gSŒšg
.
fÜm©
("%02X/%04X-%04X", 
w1
, 
w2
, 
w3
è+ " (" + 
	gcÚ‹Ás
 + ")";

	@rds/rds/app/Paging.java

26 
·ckage
 
	grds
.
	g­p
;

28 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

29 
impÜt
 
	gjava
.
	g‹xt
.
	gD©eFÜm©
;

30 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

31 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

32 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

33 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

35 
impÜt
 
	grds
.
	gcÜe
.
	gRDS
;

36 
impÜt
 
	grds
.
	gcÜe
.
	gTuÃdStiÚ
;

37 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

39 
public
 cÏs 
	cPagšg
 
ex‹nds
 
	mAµliÿtiÚ
 {

40 
´iv©e
 
	mLškedLi¡
<
	mMes§ge
> 
	mmes§ges
 = 
Ãw
 
LškedLi¡
<
Mes§ge
>();

41 
´iv©e
 
Mes§ge
 
	mcu¼’tMes§ge
 = 
nuÎ
;

42 
´iv©e
 
	mÏ¡Idx
;

44 
´iv©e
 
	mÏ¡B1
 = -1;

45 
´iv©e
 
	mÃxtIÁ”v®
 = -1;

46 
´iv©e
 
	mcu¼’tIÁ”v®
 = -1;

47 
´iv©e
 
	mš‹rv®B™Numb”
 = -1;

48 
´iv©e
 
	mš‹rv®ResuÉ
 = 
IÁeg”
.
MIN_VALUE
;

50 
´iv©e
 
SŒšg
 
	mŠgd
;

52 
´iv©e
 
fš®
 
D©eFÜm©
 
	mtimeFÜm©
 = 
Ãw
 
Sim¶eD©eFÜm©
("HH:mm:ss");

54 
public
 
	$Pagšg
(
TuÃdStiÚ
 
¡©iÚ
, 
SŒšg
 
Šgd
) {

55 
	`£tStiÚ
(
¡©iÚ
);

56 
this
.
Šgd
 =ngd;

59 @
Ov”ride


60 
public
 
SŒšg
 
	$g‘Name
() {

62 
	}
}

64 @
Ov”ride


65 
public
 
	$»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
, 
v”siÚ
, [] 
blocks
, 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
) {

66 
Mes§ge
 
ÃwMes§ge
 = 
nuÎ
;

67 
SŒšg
 
timeF›ld
 = "-";

68 if(
¡©iÚ
 !ğ
nuÎ
) {

69 
D©e
 
d
 = 
¡©iÚ
.
	`g‘R—lTimeFÜSŒ—mTime
(
time
);

70 if(
d
 !ğ
nuÎ
è
timeF›ld
 = 
timeFÜm©
.
	`fÜm©
(d);

73 
	`synchrÚized
(
this
) {

76 if(
ty³
 =ğ7 && 
v”siÚ
 =ğ0 && 
blocksOk
[2] && blocksOk[3]) {

77 
SŒšg
 
addrSŒ
 = "" +

78 
	`decodeBCD
(
blocks
[2], 3) + decodeBCD(blocks[2], 2) + "/" +

79 
	`decodeBCD
(
blocks
[2], 1) + "" + decodeBCD(blocks[2], 0) + "" + decodeBCD(blocks[3], 3) + "" + decodeBCD(blocks[3], 2);

81 
ab
 = (
blocks
[1]>>4) & 1;

82 
cÚsŞe
.
	`´št
("RP: fÏg=" + ()('A' + 
ab
) + ", ");

83 if(
cu¼’tMes§ge
 !ğ
nuÎ
 && cu¼’tMes§ge.
	`g‘AB
(è!ğ
ab
) {

84 
cu¼’tMes§ge
.
	`£tCom¶‘e
();

85 
cu¼’tMes§ge
 = 
nuÎ
;

88 if((
blocks
[1] & 0x8) == 8) {

89 
idx
 = 
blocks
[1] & 0x7;

90 if(
idx
 == 0) {

92 
cÚsŞe
.
	`´št
("AÍh¨mes§ge: " + 
addrSŒ
);

94 
ÃwMes§ge
 = 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
timeF›ld
, 
addrSŒ
, 
Mes§geTy³
.
ALPHA
, 
ab
);

95 
Ï¡Idx
 = 0;

97 if(
cu¼’tMes§ge
 =ğ
nuÎ
 || cu¼’tMes§ge.
	`g‘Ty³
(è!ğ
Mes§geTy³
.
ALPHA
) {

99 
ÃwMes§ge
 = 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
timeF›ld
, 
nuÎ
, 
Mes§geTy³
.
ALPHA
, 
ab
);

100 
Ï¡Idx
 = 0;

103 if(
idx
 != 7) {

104 
Ï¡Idx
++; if(lastIdx>6)†astIdx=1;

106 
Ï¡Idx
 !ğ
idx
) {

107 
cu¼’tMes§ge
.
	`addText
("????");

108 
Ï¡Idx
++; if(lastIdx>6)†astIdx=1;

112 
cÚsŞe
.
	`´št
("AÍh¨mes§ge: msg[" + 
idx
 + "]=\"");

113 
i
=2; i<=3; i++) {

114 
SŒšg
 
·¹
 = 
RDS
.
	`toCh¬
((
blocks
[
i
]>>8) & 0xFF) + "" + RDS.toChar(blocks[i] & 0xFF);

115 
cÚsŞe
.
	`´št
(
·¹
);

116 
cu¼’tMes§ge
.
	`addText
(
·¹
);

119 
cÚsŞe
.
	`´št
("\"");

121 if(
idx
 =ğ7è
cu¼’tMes§ge
.
	`£tCom¶‘e
();

125 if((
blocks
[1] & 0xCè=ğ4è
cÚsŞe
.
	`´št
("18/15-dig™‚um”iømsg: " + 
addrSŒ
);

126 if((
blocks
[1] & 0xE) == 2) {

127 
cÚsŞe
.
	`´št
("10-dig™ msg " + (1+(
blocks
[1] & 1)) + "/2: ");

128 if((
blocks
[1] & 1) == 0) {

129 
SŒšg
 
msg
 = 
Ch¬aù”
.
	`toSŒšg
(
	`decodeBCD
(
blocks
[3], 1)) + Character.toString(decodeBCD(blocks[3], 0));

130 
cÚsŞe
.
	`´št
(
addrSŒ
 +

131 ", msg=" + 
msg
 + "...");

133 
ÃwMes§ge
 = 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
timeF›ld
, 
addrSŒ
, 
Mes§geTy³
.
NUMERIC_10
, 
ab
);

134 
cu¼’tMes§ge
.
	`addText
(
msg
);

136 
SŒšg
 
msg
 = 
	`decodeBCDWÜd
(
blocks
[2]) + decodeBCDWord(blocks[3]);

137 
cÚsŞe
.
	`´št
("msg=..." + 
msg
);

139 if(
cu¼’tMes§ge
 =ğ
nuÎ
 || cu¼’tMes§ge.
	`g‘Ty³
(è!ğ
Mes§geTy³
.
NUMERIC_10
) {

140 
ÃwMes§ge
 = 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
timeF›ld
, 
nuÎ
, 
Mes§geTy³
.
NUMERIC_10
, 
ab
);

141 
cu¼’tMes§ge
.
	`addText
("...");

144 
cu¼’tMes§ge
.
	`addText
(
msg
);

147 if((
blocks
[1] & 0xFè=ğ1è
cÚsŞe
.
	`´št
("Part of func");

148 if((
blocks
[1] & 0xF) == 0) {

149 
cÚsŞe
.
	`´št
("B“p: " + 
addrSŒ
);

150 
ÃwMes§ge
 = 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
timeF›ld
, 
addrSŒ
, 
Mes§geTy³
.
BEEP
, 
ab
);

155 if(
ÃwMes§ge
 !ğ
nuÎ
è
mes§ges
.
	`addLa¡
(newMessage);

156 if(
cu¼’tMes§ge
 !ğ
nuÎ
 && cu¼’tMes§ge.
	`isCom¶‘e
()) currentMessage =‚ull;

159 
	`fœeChªgeLi¡’”s
();

163 
	}
}

165 
public
 
	gLi¡
<
	gMes§ge
> 
	$g‘Mes§ges
() {

166  
mes§ges
;

167 
	}
}

169 
´iv©e
 
	$decodeBCD
(
bcd
, 
pos
) {

170 
v®
 = ((
bcd
>>(
pos
*4)) & 0xF);

171 if(
v®
 < 10)  ()('0' + val);

172 if(
v®
 == 10)  ' ';

174 
	}
}

176 
´iv©e
 
SŒšg
 
	$decodeBCDWÜd
(
wÜd
) {

177 
SŒšg
 
»s
 = "";

178 
i
=3; i>=0; i--è
»s
 +ğ
	`decodeBCD
(
wÜd
, i);

179  
»s
;

180 
	}
}

182 
public
 şas 
	cMes§ge
 {

183 
´iv©e
 
fš®
 
SŒšg
 
	gaddr
;

184 
´iv©e
 
fš®
 
Mes§geTy³
 
	gty³
;

185 
´iv©e
 
SŒšg
 
	gmesg
;

186 
´iv©e
 
boŞ—n
 
	gcom¶‘e
 = 
çl£
;

187 
´iv©e
 
fš®
 
SŒšg
 
	gtime
;

188 
´iv©e
 
fš®
 
	gab
;

190 
public
 
Mes§ge
(
SŒšg
 
time
, SŒšg 
addr
, 
Mes§geTy³
 
ty³
, 
ab
) {

191 
	gthis
.
	gtime
 = 
time
;

192 
	gthis
.
	gaddr
 = 
addr
;

193 
	gthis
.
	gty³
 = 
ty³
;

194 
	gthis
.
	gab
 = 
ab
;

195 
	gmesg
 = "";

198 
public
 
g‘AB
() {

199  
	gab
;

202 
public
 
addText
(
SŒšg
 
‹xt
) {

203 
	gthis
.
	gmesg
 +ğ
‹xt
;

206 
public
 
£tCom¶‘e
() {

207 
	gthis
.
	gcom¶‘e
 = 
Œue
;

210 
public
 
boŞ—n
 
isCom¶‘e
() {

211  
	gcom¶‘e
;

214 
public
 
Mes§geTy³
 
g‘Ty³
() {

215  
	gty³
;

218 
public
 
SŒšg
 
g‘Add»ss
() {

219  
	gaddr
 =ğ
nuÎ
 ? "Unknown" : 
addr
;

222 
public
 
SŒšg
 
g‘CÚ‹Ás
() {

223  
	gmesg
;

226 
public
 
SŒšg
 
g‘Time
() {

227  
	gtime
;

231 
public
 
	eMes§geTy³
 {

232 
ALPHA
("®pha"), 
NUMERIC_10
("10-dig™"), 
BEEP
("beep");

234 
´iv©e
 
Mes§geTy³
(
SŒšg
 
ÿ±iÚ
) {

235 
	gthis
.
	gÿ±iÚ
 = 
ÿ±iÚ
;

238 
public
 
SŒšg
 
toSŒšg
() {

239  
	gÿ±iÚ
;

242 
´iv©e
 
fš®
 
SŒšg
 
	gÿ±iÚ
;

245 
public
 
synchrÚized
 
SŒšg
 
	$syncInfo
(
b1
, 
b0
) {

246 
ŞdIÁ”v®ResuÉ
 = 
š‹rv®ResuÉ
;

248 
SŒšg
 
»s
 = "UÃx³ùed”mš©iÚ (#" + 
š‹rv®B™Numb”
 + ", b1=" + 
b1
 + ", b0=" + 
b0
 + ")";

250 if(
Ï¡B1
 =ğ0 && 
b1
 =ğ1 && 
b0
 == 0) {

251 
»s
 = "SOI (#1)";

252 if(
ÃxtIÁ”v®
 != -1) {

253 
»s
 +ğ" IÁ?=" + 
ÃxtIÁ”v®
;

254 
š‹rv®ResuÉ
 = -1-
ÃxtIÁ”v®
;

255 } 
š‹rv®ResuÉ
 = 
IÁeg”
.
MIN_VALUE
;

256 
cu¼’tIÁ”v®
 = 0;

257 
š‹rv®B™Numb”
 = 2;

260 if(
š‹rv®B™Numb”
 =ğ2 && 
b1
 == 0) {

261 
š‹rv®ResuÉ
 = 
IÁeg”
.
MIN_VALUE
;

262 
	`fœeChªgeLi¡’”s
();

266 if(
š‹rv®B™Numb”
 > 2 && 
b1
 == 1) {

267 
š‹rv®ResuÉ
 = 
IÁeg”
.
MIN_VALUE
;

268 
	`fœeChªgeLi¡’”s
();

269  "E¼, B1 should b0 fÜ 1A #" + 
š‹rv®B™Numb”
 + " in interval";

272 if(
š‹rv®B™Numb”
 >= 2 && intervalBitNumber <= 5) {

273 
cu¼’tIÁ”v®
 = (cu¼’tIÁ”v® << 1è| 
b0
;

274 
»s
 = "b0=" + 
b0
 + " (#" + 
š‹rv®B™Numb”
 + ")";

275 
š‹rv®B™Numb”
++;

278 if(
š‹rv®B™Numb”
 > 5) {

279 
»s
 = "#" + 
š‹rv®B™Numb”
 + ", IÁ=" + 
cu¼’tIÁ”v®
;

280 
ÃxtIÁ”v®
 = (
cu¼’tIÁ”v®
 + 1) % 10;

281 
š‹rv®ResuÉ
 = 
cu¼’tIÁ”v®
;

282 
š‹rv®B™Numb”
++;

285 
Ï¡B1
 = 
b1
;

287 if(
ŞdIÁ”v®ResuÉ
 !ğ
š‹rv®ResuÉ
è
	`fœeChªgeLi¡’”s
();

289  
»s
;

290 
	}
}

292 
public
 
synchrÚized
 
SŒšg
 
	$fuÎMšu‹
() {

293 
š‹rv®ResuÉ
 = 
ÃxtIÁ”v®
 = 0;

294 
cu¼’tIÁ”v®
 = 0;

295 
š‹rv®B™Numb”
 = 2;

296 
Ï¡B1
 = 1;

297 
	`fœeChªgeLi¡’”s
();

298  "SOI (#1èIÁ=" + 
ÃxtIÁ”v®
;

299 
	}
}

301 
public
 
synchrÚized
 
	$g‘IÁ”v®
() {

302  
š‹rv®ResuÉ
;

303 
	}
}

305 
public
 
	$£tTNGD
(
SŒšg
 
Šgd
) {

306 
this
.
Šgd
 =ngd;

307 
	}
}

309 
public
 
SŒšg
 
	$g‘TNGD
() {

310  
Šgd
;

311 
	}
}

	@rds/rds/app/oda/AlertC.java

26 
·ckage
 
	grds
.
	g­p
.
	goda
;

28 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

29 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

30 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

31 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

32 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

33 
impÜt
 
	gjava
.
	gut
.
	gM­
;

35 
impÜt
 
	grds
.
	gcÜe
.
	gOth”N‘wÜk
;

36 
impÜt
 
	grds
.
	gcÜe
.
	gRDS
;

37 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

39 
public
 cÏs 
	cAË¹C
 
ex‹nds
 
	mODA
 {

40 
public
 
fš®
 
	mAID
 = 0xCD46;

42 
´iv©e
 [] 
	mcodesTd
 = {0, 1, 2, 3};

43 
´iv©e
 [] 
	gcodesTa
 = {1, 2, 4, 8};

44 
´iv©e
 [] 
	gcodesTw
 = {1, 2, 4, 8};

45 
´iv©e
 [] 
	gcodesG­
 = {3, 5, 8, 11};

48 
´iv©e
 
	gSŒšg
[] 
	g´ovid”Name
 = {"????", "????"};

51 
´iv©e
 
	gÉn
 = -1;

52 
´iv©e
 
	gafi
 = -1;

53 
´iv©e
 
	gmgs
 = -1;

54 
´iv©e
 
	gmode
 = 0;

55 
´iv©e
 
	gsid
 = -1;

57 
´iv©e
 
	gM­
<
	gIÁeg”
, 
	gOth”N‘wÜk
> 
	gÙh”N‘wÜks
 = 
Ãw
 
HashM­
<
IÁeg”
, OtherNetwork>();

58 
´iv©e
 
	gLi¡
<
	gMes§ge
> 
	gmes§ges
 = 
Ãw
 
A¼ayLi¡
<
Mes§ge
>();

59 
´iv©e
 
Mes§ge
 
	gcu¼’tMes§ge
;

60 
´iv©e
 
B™¡»am
 
	gmuÉiGroupB™s
;

62 
´iv©e
 
	gcu¼’tCÚtIndex
 = -1;

63 
´iv©e
 
	gÃxtGroupEx³ùed
 = -1;

64 
´iv©e
 
	gtÙ®GroupsEx³ùed
 = -1;

66 
public
 
	$AË¹C
() {

67 
	}
}

69 @
Ov”ride


70 
public
 
	$»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
, 
v”siÚ
, [] 
blocks
, 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
) {

71 
boŞ—n
 
mes§geJu¡Com¶‘ed
 = 
çl£
;

74 if(!
blocksOk
[2] || !blocksOk[3]) ;

76 if(
ty³
 =ğ3 && 
v”siÚ
 == 0) {

77 
v¬
 = (
blocks
[2]>>14) & 0x3;

78 
cÚsŞe
.
	`´št
("Sys.InfØv=" + 
v¬
+ ", ");

80 if(
v¬
 == 0) {

81 
Én
 = (
blocks
[2]>>6) & 0x3F;

82 
afi
 = (
blocks
[2]>>5) & 1;

83 
mode
 = (
blocks
[2]>>4) & 1;

84 
mgs
 = 
blocks
[2] & 0xF;

93 
cÚsŞe
.
	`´štf
("LTN=%d, AFI=%d, Mode=%d, MGS=% ", 
Én
, 
afi
, 
mode
, 
	`decodeMGS
(
mgs
));

94 } if(
v¬
 == 1) {

95 
g­
 = 
codesG­
[(
blocks
[2]>>12) & 3];

96 
sid
 = (
blocks
[2]>>6) & 0x3F;

97 

 = 
codesTa
[(
blocks
[2]>>4) & 3];

98 
tw
 = 
codesTw
[(
blocks
[2]>>2) & 3];

99 
td
 = 
codesTd
[
blocks
[2] & 3];

101 
cÚsŞe
.
	`´štf
("SID=%d", 
sid
);

102 if(
mode
 =ğ0è
cÚsŞe
.
	`´štf
(", mode=0 (basicè=> mš g­=%d groups", 
g­
);

103 if(
mode
 =ğ1è
cÚsŞe
.
	`´štf
(", mode=1 (’hªûdè=> mš g­=%d groups, Ta=%ds, Tw=%ds, Td=%ds", 
g­
, 

, 
tw
, 
td
);

108 if(
ty³
 =ğ8 && 
v”siÚ
 == 0) {

109 
x4
 = (
blocks
[1] & 0x10)>>4;

110 
cÚsŞe
.
	`´št
("T=" + 
x4
 + " ");

112 if(
x4
 == 0) {

113 
sšgË_group
 = (
blocks
[1] & 0x8)>>3;

114 if(
sšgË_group
 == 1) {

115 
cÚsŞe
.
	`´št
("single-group: ");

116 
dp
 = 
blocks
[1] & 7;

117 
div
 = (
blocks
[2]>>15) & 1;

118 
dœ
 = (
blocks
[2]>>14) & 1;

119 
ex‹Á
 = (
blocks
[2]>>11) & 7;

120 
ev’t
 = 
blocks
[2] & 0x7FF;

121 
loÿtiÚ
 = 
blocks
[3];

122 
cÚsŞe
.
	`´št
("DP=" + 
dp
 + ", DIV=" + 
div
 + ", DIR=" + 
dœ
 + ",ƒxt=" + 
ex‹Á
 + ",ƒvt=" + 
ev’t
 + ",†oc=" + 
loÿtiÚ
);

123 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
dœ
, 
ex‹Á
, 
ev’t
, 
loÿtiÚ
);

126 
cu¼’tMes§ge
.
com¶‘e
 = 
Œue
;

127 
mes§geJu¡Com¶‘ed
 = 
Œue
;

130 
cu¼’tCÚtIndex
 = -1;

131 
ÃxtGroupEx³ùed
 = -1;

134 
idx
 = 
blocks
[1] & 7;

136 if(
idx
 == 0 || idx == 7) {

137 
cÚsŞe
.
	`´štf
("nÚ-¡ªd¬d mes§g[F=0, CI=%d]: %04X-%04X", 
idx
, 
blocks
[2], blocks[3]);

140 
cÚsŞe
.
	`´št
("muÉi-grou°[" + 
idx
 + "]: ");

141 
fœ¡
 = (
blocks
[2]>>15) & 1;

142 if(
fœ¡
 == 1) {

143 
cÚsŞe
.
	`´št
("1st, ");

145 
dœ
 = (
blocks
[2]>>14) & 1;

146 
ex‹Á
 = (
blocks
[2]>>11) & 7;

147 
ev’t
 = 
blocks
[2] & 0x7FF;

148 
loÿtiÚ
 = 
blocks
[3];

149 
cÚsŞe
.
	`´št
("DIR=" + 
dœ
 + ",ƒxt=" + 
ex‹Á
 + ",ƒvt=" + 
ev’t
 + ",†oc=" + 
loÿtiÚ
);

151 
cu¼’tMes§ge
 = 
Ãw
 
	`Mes§ge
(
dœ
, 
ex‹Á
, 
ev’t
, 
loÿtiÚ
);

152 
muÉiGroupB™s
 = 
Ãw
 
	`B™¡»am
();

153 
cu¼’tCÚtIndex
 = 
idx
;

154 
ÃxtGroupEx³ùed
 = 2;

156 
£cÚd
 = (
blocks
[2]>>14) & 1;

157 
»maššg
 = (
blocks
[2]>>12) & 3;

158 if(
£cÚd
 == 1) {

159 
tÙ®GroupsEx³ùed
 = 2 + 
»maššg
;

160 
cÚsŞe
.
	`´št
("2nd ");

161 } 
cÚsŞe
.
	`´št
("later ");

163 
groupNumb”
 = 
tÙ®GroupsEx³ùed
-
»maššg
;

165 if(
ÃxtGroupEx³ùed
 >= 0) {

166 
cÚsŞe
.
	`´št
("(#" + 
groupNumb”
 + "/" + 
tÙ®GroupsEx³ùed
 +

167 "è[»m=" + 
»maššg
 + "]");

169 if(
idx
 !ğ
cu¼’tCÚtIndex
) {

170 
cÚsŞe
.
	`´štf
(" ignÜšg, bad cÚtšu™y index (wa %d),…robably mis£d groups", 
cu¼’tCÚtIndex
);

171 
cu¼’tCÚtIndex
 = -1;

172 
ÃxtGroupEx³ùed
 = -1;

173 } if(
groupNumb”
 !ğ
ÃxtGroupEx³ùed
) {

174 
cÚsŞe
.
	`´št
(" ignÜšg,‚exˆex³ùed i #" + 
ÃxtGroupEx³ùed
);

176 
ÃxtGroupEx³ùed
++;

177 if(
ÃxtGroupEx³ùed
 > 
tÙ®GroupsEx³ùed
)‚extGroupExpected = -1;

179 
muÉiGroupB™s
.
	`add
(
blocks
[2] & 0xFFF, 12);

180 
muÉiGroupB™s
.
	`add
(
blocks
[3], 16);

182 
cÚsŞe
.
	`´št
(" ");

184 
cÚsŞe
.
	`´št
(" [" + 
muÉiGroupB™s
 + "] ");

186 
muÉiGroupB™s
.
	`couÁ
() >= 4) {

187 
Ïb–
 = 
muÉiGroupB™s
.
	`³ek
(4);

188 if(
muÉiGroupB™s
.
	`couÁ
(è< 4 + 
Mes§ge
.
Ïb–Sizes
[
Ïb–
]) {

191 
muÉiGroupB™s
.
	`ke
(4);

192 
v®ue
 = 
muÉiGroupB™s
.
	`ke
(
Mes§ge
.
Ïb–Sizes
[
Ïb–
]);

193 if(!(
Ïb–
 =ğ0 && 
v®ue
 == 0)) {

194 
cÚsŞe
.
	`´št
(
Ïb–
 + "->" + 
v®ue
 + ", ");

195 
cu¼’tMes§ge
.
	`addF›ld
(
Ïb–
, 
v®ue
);

197 
cÚsŞe
.
	`´št
("EOM");

205 if(
»maššg
 == 0) {

206 
cu¼’tMes§ge
.
com¶‘e
 = 
Œue
;

207 
mes§geJu¡Com¶‘ed
 = 
Œue
;

212 if(
cu¼’tCÚtIndex
 =ğ
idx
) {

213 
cÚsŞe
.
	`´št
("»m=" + 
»maššg
 + ", ignoring„epeated†ast group of multi-group message");

215 
cÚsŞe
.
	`´št
("»m=" + 
»maššg
 + ", ignoring (missed first group of multi-group message)");

222 
addr
 = 
blocks
[1] & 0xF;

223 
cÚsŞe
.
	`´št
("Tuning Info: ");

225 
Oth”N‘wÜk
 
Ú
 = 
nuÎ
;

226 if(
addr
 >= 6 &&‡ddr <= 9){

227 
Ú
 = 
Ùh”N‘wÜks
.
	`g‘
(
blocks
[3]);

228 if(
Ú
 =ğ
nuÎ
èÚ = 
Ãw
 
	`Oth”N‘wÜk
(
blocks
[3]);

229 
Ùh”N‘wÜks
.
	`put
(
blocks
[3], 
Ú
);

233 
addr
) {

235 
´ovid”Name
[
addr
-4] = 
SŒšg
.
	`fÜm©
("%c%c%c%c", 
RDS
.
	`toCh¬
((
blocks
[2]>>8) & 0xFF), RDS.toChar(blocks[2] & 0xFF), RDS.toChar((blocks[3]>>8) & 0xFF), RDS.toChar(blocks[3] & 0xFF));

236 
cÚsŞe
.
	`´štf
("Prov.Çme[%d]=\"%s\" ", 
addr
-4, 
´ovid”Name
[addr-4]);

240 
af1
 = (
blocks
[2] >> 8) & 0xFF;

241 
af2
 = 
blocks
[2] & 0xFF;

243 
cÚsŞe
.
	`´štf
("Oth” N‘wÜk, ON.PI=%04X", 
blocks
[3]);

244 
cÚsŞe
.
	`´št
(", ON." + 
Ú
.
	`addAFPaœ
(
af1
, 
af2
));

248 
cÚsŞe
.
	`´štf
("Oth” N‘wÜks, ON.PI=%04X", 
blocks
[3]);

249 
cÚsŞe
.
	`´štf
(", ON.", 
Ú
.
	`addM­³dF»q
((
blocks
[2]>>8) & 0xFF, blocks[2] & 0xFF));

253 
cÚsŞe
.
	`´štf
("Oth” N‘wÜks, ON.PI=%04X, ON.PI=%04X", 
blocks
[2], blocks[3]);

257 
cÚsŞe
.
	`´štf
("Oth” N‘wÜk, ON.PI=%04X", 
blocks
[3]);

258 
Én
 = (
blocks
[2]>>10) & 0x3F;

259 
mgs
 = (
blocks
[2]>>6) & 0xF;

260 
sid
 = 
blocks
[2] & 0x3F;

261 
cÚsŞe
.
	`´štf
(", ON.LTN=" + 
Én
 + ", ON.MGS=" + 
	`decodeMGS
(
mgs
è+ ", ON.SID=" + 
sid
);

264 : 
cÚsŞe
.
	`´št
("addr=" + 
addr
);

271 if(
mes§geJu¡Com¶‘ed
) {

273 
Li¡
<
Mes§ge
> 
mes§gesToRemove
 = 
Ãw
 
LškedLi¡
<Message>();

274 
ŞdUpd©e
 = 0;

275 
Mes§ge
 
m
 : 
mes§ges
) {

276 if(
cu¼’tMes§ge
.
	`ov”rides
(
m
)) {

277 
mes§gesToRemove
.
	`add
(
m
);

278 
ŞdUpd©e
 = 
m
.
upd©eCouÁ
;

282 
Mes§ge
 
msgToRemove
 : 
mes§gesToRemove
) {

283 
mes§ges
.
	`»move
(
msgToRemove
);

287 
mes§ges
.
	`add
(
cu¼’tMes§ge
);

289 
cu¼’tMes§ge
.
upd©eCouÁ
 = 
ŞdUpd©e
 + 1;

295 
	`fœeChªgeLi¡’”s
();

296 
	}
}

298 
´iv©e
 
SŒšg
 
	$decodeMGS
(
mgs
) {

299 if(
mgs
 < 0)  "";

301 ((
mgs
&8) != 0 ? "I" : "") +

302 ((
mgs
&4) != 0 ? "N" : "") +

303 ((
mgs
&2) != 0 ? "R" : "") +

304 ((
mgs
&1) != 0 ? "U" : "");

305 
	}
}

307 
public
 
	gLi¡
<
	gMes§ge
> 
	$g‘Mes§ges
() {

308  
mes§ges
;

309 
	}
}

311 @
Ov”ride


312 
public
 
SŒšg
 
	$g‘Name
() {

314 
	}
}

316 @
Ov”ride


317 
public
 
	$g‘AID
() {

318  
AID
;

319 
	}
}

321 
public
 
SŒšg
 
	$g‘Provid”Name
() {

322  
´ovid”Name
[0] +…roviderName[1];

323 
	}
}

325 
public
 
	$g‘LTN
() {

326  
Én
;

327 
	}
}

329 
public
 
	$g‘AFI
() {

330  
afi
;

331 
	}
}

333 
public
 
SŒšg
 
	$g‘MGS
() {

334  
	`decodeMGS
(
mgs
);

335 
	}
}

337 
public
 
	$g‘Mode
() {

338  
mode
;

339 
	}
}

341 
public
 
	$g‘SID
() {

342  
sid
;

343 
	}
}

345 
´iv©e
 şas 
	cB™¡»am
 {

346 
´iv©e
 
	gb™s
;

347 
´iv©e
 
	gcouÁ
;

349 
public
 
B™¡»am
() {

350 
	gb™s
 = 0L;

353 
public
 
³ek
(
couÁ
) {

354  (èĞĞ
	gb™s
 >> (
	gthis
.
	gcouÁ
 - count) ) & ( (1L << count) - 1 ) );

357 
public
 
ke
(
couÁ
) {

358 
	g»s
 = 
³ek
(
couÁ
);

359 
	gthis
.
	gcouÁ
 -ğ
couÁ
;

360 
	gb™s
 &ğ(1L << 
this
.
couÁ
) - 1;

361  
	g»s
;

364 
public
 
add
(
b™s
, 
couÁ
) {

365 
	gthis
.
	gcouÁ
 +ğ
couÁ
;

366 
	gthis
.
	gb™s
 <<ğ
couÁ
;

367 
	gthis
.
	gb™s
 |ğ
b™s
;

370 
public
 
couÁ
() {

371  
	gcouÁ
;

374 @
Ov”ride


375 
public
 
SŒšg
 
toSŒšg
() {

376 
SŒšgBufãr
 
	g»s
 = 
Ãw
 StringBuffer();

377 
SŒšgBufãr
 
	gtheB™s
 = 
Ãw
 SŒšgBufãr(
LÚg
.
toBš¬ySŒšg
(
b™s
));

378 
	g»s
.
­³nd
(
couÁ
).append('/');

379 
	gi
=0; i<
	gcouÁ
-
	gtheB™s
.
Ëngth
(); i++)

380 
	g»s
.
­³nd
('0');

381  
	g»s
.
­³nd
(
theB™s
).
toSŒšg
();

385 
public
 şas 
	cMes§ge
 {

386 
´iv©e
 
fš®
 
	gdœeùiÚ
;

387 
´iv©e
 
fš®
 
	gex‹Á
;

388 
´iv©e
 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gev’ts
;

389 
´iv©e
 
fš®
 
	gloÿtiÚ
;

390 
´iv©e
 
	gdiv”siÚ
 = 0;

391 
´iv©e
 
	gdu¿tiÚ
 = 0;

392 
´iv©e
 
	gurg’cy
 = 0;

393 
´iv©e
 
boŞ—n
 
	gdœeùiÚ®
 = 
Œue
;

394 
´iv©e
 
boŞ—n
 
	gdyÇmic
 = 
Œue
;

395 
´iv©e
 
boŞ—n
 
	g¥ok’
 = 
çl£
;

396 
´iv©e
 
	g¡•s
 = 0;

397 
´iv©e
 
	gËngth
 = 0;

398 
´iv©e
 
	g¥“d
 = 0;

399 
´iv©e
 
	gquªtif›r
 = 0;

400 
´iv©e
 
	gsuµInfo
 = 0;

401 
´iv©e
 
boŞ—n
 
	gcom¶‘e
 = 
çl£
;

402 
´iv©e
 
	gupd©eCouÁ
 = 0;

404 
public
 
fš®
 [] 
	gÏb–Sizes
 = {3, 3, 5, 5, 5, 8, 8, 8, 8, 11, 16, 16, 16, 16, 0, 0};

406 
public
 
Mes§ge
(
dœeùiÚ
, 
ex‹Á
, 
ev’t
, 
loÿtiÚ
) {

407 
	gthis
.
	gdœeùiÚ
 = 
dœeùiÚ
;

408 
	gthis
.
	gex‹Á
 = 
ex‹Á
;

409 
	gthis
.
	gev’ts
 = 
Ãw
 
A¼ayLi¡
<
IÁeg”
>(1);

410 
	gev’ts
.
add
(
ev’t
);

411 
	gthis
.
	gloÿtiÚ
 = 
loÿtiÚ
;

414 
public
 
Mes§ge
(
dœeùiÚ
, 
ex‹Á
, 
ev’t
, 
loÿtiÚ
, 
div”siÚ
, 
du¿tiÚ
) {

415 
this
(
dœeùiÚ
, 
ex‹Á
, 
ev’t
, 
loÿtiÚ
);

416 
	gthis
.
	gdiv”siÚ
 = 
div”siÚ
;

417 
	gthis
.
	gdu¿tiÚ
 = 
du¿tiÚ
;

420 
public
 
addF›ld
(
Ïb–
, 
v®ue
) {

421 
	gÏb–
) {

423 0: 
du¿tiÚ
 = 
v®ue
;

428 
v®ue
) {

429 0: 
urg’cy
++; ;

430 1: 
urg’cy
--; ;

431 2: 
dœeùiÚ®
 = !directional; ;

432 3: 
dyÇmic
 = !dynamic; ;

433 4: 
¥ok’
 = !spoken; ;

434 5: 
div”siÚ
 = 1; ;

435 6: 
¡•s
 += 8; ;

436 7: 
¡•s
 += 16; ;

442 if(
v®ue
 =ğ0è
Ëngth
 = 100;

443 if(
	gv®ue
 <ğ10è
Ëngth
 = 
v®ue
;

444 if(
	gv®ue
 <ğ15è
Ëngth
 = 10 + (
v®ue
-10)*2;

445 
	gËngth
 = 20 + (
v®ue
-15)*5;

449 
¥“d
 = 5*
v®ue
;

454 
quªtif›r
 = 
v®ue
;

458 
suµInfo
 = 
v®ue
;

462 
ev’ts
.
add
(
v®ue
);

469 
public
 
boŞ—n
 
ov”rides
(
Mes§ge
 
m
) {

471 (
	gloÿtiÚ
 =ğ
m
.
loÿtiÚ
 ||†ocation == 65535) &&

472 (
dœeùiÚ
 =ğ
m
.direction) &&

473 
hasAnEv’tFromTheSameUpd©eCÏssAs
(
m
) &&

474 (!
isFÜeÿ¡Mes§ge
(è|| 
du¿tiÚ
 =ğ
m
.duration);

486 
´iv©e
 
boŞ—n
 
hasAnEv’tFromTheSameUpd©eCÏssAs
(
Mes§ge
 
m
) {

487 
IÁeg”
 
	gu
 : 
ev’ts
) {

488 
IÁeg”
 
v
 : 
m
.
ev’ts
) {

489 if(
upd©eCÏs£s
[
u
] =ğupd©eCÏs£s[
v
]è 
Œue
;

492  
	gçl£
;

500 
´iv©e
 
boŞ—n
 
isFÜeÿ¡Mes§ge
() {

501 
IÁeg”
 
	gu
 : 
ev’ts
) {

502 
c
 = 
upd©eCÏs£s
[
u
];

503 if(
	gc
 >ğ32 && 
c
 <ğ39è 
Œue
;

505  
	gçl£
;

508 @
Ov”ride


509 
public
 
SŒšg
 
toSŒšg
() {

510  
	gloÿtiÚ
 + ": " + 
	gev’ts
 + "(" + 
	gupd©eCouÁ
 + ")";

513 
public
 
g‘LoÿtiÚ
() {

514  
	gloÿtiÚ
;

517 
public
 
	gLi¡
<
	gIÁeg”
> 
g‘Ev’ts
() {

518  
	gev’ts
;

521 
public
 
g‘Upd©eCouÁ
() {

522  
	gupd©eCouÁ
;

530 
´iv©e
 
	gby‹
[] 
	gupd©eCÏs£s
 = {

	@rds/rds/app/oda/AlertCwithAlertPlus.java

26 
·ckage
 
	grds
.
	g­p
.
	goda
;

28 
public
 cÏs 
	cAË¹Cw™hAË¹Plus
 
ex‹nds
 
	mAË¹C
 {

29 
public
 
fš®
 
	mAID
 = 0x4B02;

32 @
Ov”ride


33 
public
 
SŒšg
 
	$g‘Name
() {

37 @
Ov”ride


38 
public
 
	$g‘AID
() {

39  
AID
;

40 
	}
}

	@rds/rds/app/oda/EN301700.java

26 
·ckage
 
	grds
.
	g­p
.
	goda
;

28 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

30 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

41 
public
 cÏs 
	cEN301700
 
ex‹nds
 
	mODA
 {

42 
public
 
fš®
 
	mAID
 = 0x0093;

44 @
Ov”ride


45 
public
 
	$g‘AID
() {

46  
AID
;

50 
´iv©e
 
äeqKHz
 = -1;

53 
´iv©e
 
eid
 = -1;

56 
´iv©e
 
SŒšg
 
mode
 = 
nuÎ
;

58 @
Ov”ride


59 
public
 
	$»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
, 
v”siÚ
, [] 
blocks
,

60 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
) {

62 if(!(
blocksOk
[1] && blocksOk[2] && blocksOk[3])) ;

64 if(
ty³
 == 3) {

65 
cÚsŞe
.
	`´št
("No data in group 3A");

69 
es
 = (
blocks
[1] >> 4) & 1;

71 if(
es
 == 0) {

81 
numMode
 = (
blocks
[1] >> 2) & 3;

83 
numMode
) {

84 0: 
mode
 = "Unspecified mode"; ;

85 1: 
mode
 = "Mode I"; ;

86 2: 
mode
 = "Mode II or III"; ;

87 3: 
mode
 = "Mode IV"; ;

90 
cÚsŞe
.
	`´št
(
mode
 + ", ");

93 
äeq
 = 
blocks
[2] | ((blocks[1] & 3)<<16);

96 
äeqKHz
 = 16 * 
äeq
;

99 
eid
 = 
blocks
[3];

101 
cÚsŞe
.
	`´št
(
äeqKHz
 + " kHz, ");

103 
cÚsŞe
.
	`´štf
("En£mbË ID=%04X", 
eid
);

106 
v¬ŸÁ
 = 
blocks
[1] & 0xF;

108 
cÚsŞe
.
	`´št
("v=" + 
v¬ŸÁ
 + ", ");

110 
v¬ŸÁ
) {

112 
cÚsŞe
.
	`´štf
("En£mbË ID=%04X, ", 
blocks
[2]);

115 
cÚsŞe
.
	`´št
("Unhandled, ");

118 
cÚsŞe
.
	`´štf
("S”viû ID=%04X", 
blocks
[3]);

122 
	`fœeChªgeLi¡’”s
();

123 
	}
}

125 @
Ov”ride


126 
public
 
SŒšg
 
	$g‘Name
() {

128 
	}
}

136 
public
 
	$g‘F»qu’cyInKHz
() {

137  
äeqKHz
;

138 
	}
}

145 
public
 
SŒšg
 
	$g‘Mode
() {

146  
mode
;

147 
	}
}

154 
public
 
	$g‘En£mbËId
() {

155  
eid
;

156 
	}
}

	@rds/rds/app/oda/ODA.java

26 
·ckage
 
	grds
.
	g­p
.
	goda
;

28 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

29 
impÜt
 
	gjava
.
	gut
.
	gM­
;

31 
impÜt
 
	grds
.
	g­p
.
	gAµliÿtiÚ
;

33 
public
 
ab¡¿ù
 cÏs 
	cODA
 
ex‹nds
 
	mAµliÿtiÚ
 {

34 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mCÏss
<? 
ex‹nds
 
	mODA
>> 
	modas
 = 
Ãw
 
HashM­
<
IÁeg”
, Class<?ƒxtends ODA>>();

36 
public
 
ab¡¿ù
 
g‘AID
();

38 
´iv©e
 (
	maid
, 
	mCÏss
<? 
ex‹nds
 
	mODA
> 
	moda
) {

39 
	modas
.
put
(
aid
, 
oda
);

42 
public
 
ODA
 
	$fÜAID
(
aid
) {

43 
Œy
 {

44 
CÏss
<? 
ex‹nds
 
ODA
> 
theCÏss
 = 
odas
.
	`g‘
(
aid
);

45 if(
theCÏss
 !ğ
nuÎ
èheCÏss.
	`ÃwIn¡ªû
();

46  
nuÎ
;

47 } 
	`ÿtch
 (
In¡ªtŸtiÚExû±iÚ
 
e
) {

48  
nuÎ
;

49 } 
	`ÿtch
 (
IÎeg®AcûssExû±iÚ
 
e
) {

50  
nuÎ
;

52 
	}
}

55 (
	gRTPlus
.
	gAID
, RTPlus.
	gşass
);

56 (
	gAË¹C
.
	gAID
, AË¹C.
	gşass
);

57 (
	gAË¹Cw™hAË¹Plus
.
	gAID
, AË¹Cw™hAË¹Plus.
	gşass
);

58 (
	gEN301700
.
	gAID
, EN301700.
	gşass
);

	@rds/rds/app/oda/RTPlus.java

27 
·ckage
 
	grds
.
	g­p
.
	goda
;

29 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

30 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

31 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

33 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

35 
public
 cÏs 
	cRTPlus
 
ex‹nds
 
	mODA
 {

36 
public
 
	mAID
 = 0x4BD7;

38 
´iv©e
 
	mSŒšg
[] 
	mşassNames
 = {

105 
´iv©e
 
	gLi¡
<
	gRTPlusI‹m
> 
	ghi¡Üy
 = 
Ãw
 
A¼ayLi¡
<
RTPlusI‹m
>();

107 @
Ov”ride


108 
public
 
SŒšg
 
	$g‘Name
() {

110 
	}
}

112 @
Ov”ride


113 
public
 
	$»ûiveGroup
(
PrštWr™”
 
cÚsŞe
, 
ty³
, 
v”siÚ
, [] 
blocks
, 
boŞ—n
[] 
blocksOk
, 
RDSTime
 
time
) {

115 if(
ty³
 =ğ3 && 
v”siÚ
 =ğ0 && 
blocksOk
[2]) {

116 
”t
 = (
blocks
[2]>>13) & 1;

117 
cÚsŞe
.
	`´št
("Aµl› tØ" + (
”t
 == 1 ? "eRT" : "RT") + ", ");

119 
cb
 = (
blocks
[2]>>12) & 1;

120 
cÚsŞe
.
	`´št
((
cb
 == 0 ? "NO" : "Using") + "emplate");

122 if(
cb
 == 1) {

123 
scb
 = (
blocks
[2]>>8) & 0xF;

124 
Š
 = 
blocks
[2] & 0xFF;

126 
cÚsŞe
.
	`´štf
(", SCB=%01X,em¶©#%02X", 
scb
, 
Š
);

130 if(
v”siÚ
 =ğ0 && 
ty³
 != 3) {

131 
ruÂšg
 = (
blocks
[1]>>4) & 1;

132 
toggË
 = (
blocks
[1]>>3) & 1;

134 
cÚsŞe
.
	`´štf
("RuÂšg=%d, ToggË=%d, ", 
ruÂšg
, 
toggË
);

136 [] 
ùy³
 = 
Ãw
 [] {0, 0}, 
¡¬t
 =‚ew [2], 
Ën
 =‚ew [2];

138 if(
blocksOk
[2]) {

139 
ùy³
[0] = ((
blocks
[1] & 7)<<3) | ((blocks[2] >> 13) & 7);

140 
¡¬t
[0] = (
blocks
[2] >> 7) & 0x3F;

141 
Ën
[0] = (
blocks
[2] >> 1) & 0x3F;

144 if(
blocksOk
[2] && blocksOk[3]) {

145 
ùy³
[1] = ((
blocks
[2] & 1) << 5) | ((blocks[3]>>11) & 0x1F);

146 
¡¬t
[1] = (
blocks
[3] >> 5) & 0x3F;

147 
Ën
[1] = 
blocks
[3] & 0x1F;

150 
i
=0; i<2; i++) {

151 if(
ùy³
[
i
] != 0) {

152 
SŒšg
 
¹
 = 
¡©iÚ
 =ğ
nuÎ
 ?‚uÎ : stiÚ.
	`g‘RT
().
	`toSŒšg
();

153 
SŒšg
 
‹xt
 = 
nuÎ
;

154 if(
¹
 !ğ
nuÎ
) {

155 if(
¡¬t
[
i
] < 
¹
.
	`Ëngth
()) {

157 
’dIndex
 = 
¡¬t
[
i
] + 
Ën
[i] + 1;

159 if(
¹
.
	`Ëngth
(è< 
’dIndex
)ƒndIndex =„t.length();

160 
‹xt
 = 
¹
.
	`sub¡ršg
(
¡¬t
[
i
], 
’dIndex
);

163 
cÚsŞe
.
	`´št
(
ùy³
[
i
] + "/" + 
şassNames
[ùy³[i]] + "@" + 
¡¬t
[i] + ":" + 
Ën
[i]);

164 if(
‹xt
 !ğ
nuÎ
) {

165 
cÚsŞe
.
	`´št
(" = \"" + 
‹xt
 + "\"");

168 
cÚsŞe
.
	`´št
(" ");

170 if(
Ën
[
i
] > 0) {

171 
	`addToHi¡Üy
(
¡©iÚ
.
	`g‘RT
().
	`g‘Cu¼’tIndex
(), 
ùy³
[
i
], 
¡¬t
[i], 
Ën
[i]);

176 
	}
}

178 
´iv©e
 
	$addToHi¡Üy
(
‹xtIndex
, 
ty³
, 
¡¬t
, 
Ën
) {

180 
RTPlusI‹m
 
i
 : 
hi¡Üy
) {

181 if(
i
.
‹xtIndex
 =ğ‹xtIndex && i.
ty³
 ==ype) ;

185 
hi¡Üy
.
	`add
(
Ãw
 
	`RTPlusI‹m
(
‹xtIndex
, 
ty³
, 
¡¬t
, 
Ën
));

186 
	}
}

188 
public
 
SŒšg
 
	$g‘Hi¡ÜyFÜIndex
(
‹xtIndex
, 
SŒšg
 
‹xt
) {

189 
SŒšgBud”
 
»s
 = 
Ãw
 
	`SŒšgBud”
();

190 
RTPlusI‹m
 
i
 : 
hi¡Üy
) {

191 if(
i
.
‹xtIndex
 ==extIndex) {

192 
’dIndex
 = 
i
.
¡¬t
 + i.
Ën
 + 1;

194 if(
‹xt
.
	`Ëngth
(è< 
’dIndex
)ƒndIndex =ext.length();

196 
»s
.
	`­³nd
(
şassNames
[
i
.
ty³
])

197 .
	`­³nd
("=\"").­³nd(
‹xt
.
	`sub¡ršg
(
i
.
¡¬t
, 
’dIndex
))

198 .
	`­³nd
("\"&nbsp;&nbsp;&nbsp;&nbsp;");

202  
»s
.
	`toSŒšg
();

203 
	}
}

205 @
Ov”ride


206 
public
 
	$g‘AID
() {

207  
AID
;

208 
	}
}

210 
´iv©e
 şas 
	cRTPlusI‹m
 {

211 
public
 
fš®
 
	g‹xtIndex
;

212 
public
 
fš®
 
	gty³
;

213 
public
 
fš®
 
	g¡¬t
;

214 
public
 
fš®
 
	gËn
;

216 
public
 
RTPlusI‹m
(
‹xtIndex
, 
ty³
, 
¡¬t
, 
Ën
) {

217 
	gthis
.
	g‹xtIndex
 = 
‹xtIndex
;

218 
	gthis
.
	gty³
 = 
ty³
;

219 
	gthis
.
	g¡¬t
 = 
¡¬t
;

220 
	gthis
.
	gËn
 = 
Ën
;

	@rds/rds/core/BitStreamBreakOut.java

26 
·ckage
 
	grds
.
	gcÜe
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

30 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
impÜt
 
	grds
.
	gšput
.
	gBšSŒšgFeB™R—d”
;

33 
impÜt
 
	grds
.
	gšput
.
	gB™R—d”
;

35 
public
 cÏs 
	cB™SŒ—mB»akOut
 {

36 
public
 
	$maš
(
SŒšg
[] 
¬gs
è
throws
 
FeNÙFoundExû±iÚ
 {

37 
B™R—d”
 
»ad”
 = 
Ãw
 
	`BšSŒšgFeB™R—d”
Òew 
	`Fe
(
¬gs
[0]));

38 
block
 = 0;

39 
SŒšgBufãr
 
¡rBlock
 = 
Ãw
 
	`SŒšgBufãr
();

41 
Œue
) {

42 
boŞ—n
 
b™
 = 
çl£
;

43 
Œy
 {

44 
b™
 = 
»ad”
.
	`g‘B™
();

45 } 
	`ÿtch
(
IOExû±iÚ
 
e
) {

49 
block
 = (block << 1) & 0x3FFFFFF;

50 if(
b™
è
block
 |= 1;

51 
¡rBlock
.
	`­³nd
(
b™
 ? '1' : '0');

52 
synd
 = 
RDS
.
	`ÿlcSyndrome
(
block
);

54 
i
=0; i<4; i++) {

55 
j
=0; j<2; j++) {

56 if(
synd
 =ğ
RDS
.
syndromes
[
i
][
j
]) {

57 if(
¡rBlock
.
	`Ëngth
() > 26) {

58 
Sy¡em
.
out
.
	`´št
(
¡rBlock
.
	`sub¡ršg
(0, sŒBlock.
	`Ëngth
() - 26 - 1));

59 
Sy¡em
.
out
.
	`´št
(
¡rBlock
.
	`sub¡ršg
(¡rBlock.
	`Ëngth
() - 26));

61 
Sy¡em
.
out
.
	`´št
(
¡rBlock
);

63 
¡rBlock
.
	`£tL’gth
(0);

65 
Sy¡em
.
out
.
	`´št
(" " + ()('A' + 
i
));

66 
Sy¡em
.
out
.
	`´šn
((
j
==1) ? "'" : "");

73 
	}
}

	@rds/rds/core/GroupLevelDecoder.java

26 
·ckage
 
	grds
.
	gcÜe
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

29 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

30 
impÜt
 
	gjava
.
	gio
.
	gSŒšgWr™”
;

31 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

32 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

33 
impÜt
 
	gjava
.
	gut
.
	gG»gÜŸnC®’d¬
;

34 
impÜt
 
	gjava
.
	gut
.
	gSim¶eTimeZÚe
;

36 
impÜt
 
	grds
.
	g­p
.
	gAµliÿtiÚ
;

37 
impÜt
 
	grds
.
	g­p
.
	gInHou£
;

38 
impÜt
 
	grds
.
	g­p
.
	gPagšg
;

39 
impÜt
 
	grds
.
	g­p
.
	goda
.
	gAË¹C
;

40 
impÜt
 
	grds
.
	g­p
.
	goda
.
	gODA
;

41 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

42 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

43 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

44 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’tVis™Ü
;

45 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gStiÚChªgeEv’t
;

46 
impÜt
 
	grds
.
	glog
.
	gAµliÿtiÚChªged
;

47 
impÜt
 
	grds
.
	glog
.
	gClockTime
;

48 
impÜt
 
	grds
.
	glog
.
	gEONR‘uº
;

49 
impÜt
 
	grds
.
	glog
.
	gEONSw™ch
;

50 
impÜt
 
	grds
.
	glog
.
	gGroupReûived
;

51 
impÜt
 
	grds
.
	glog
.
	gLog
;

52 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

53 
impÜt
 
	grds
.
	glog
.
	gStiÚLo¡
;

54 
impÜt
 
	grds
.
	glog
.
	gStiÚTuÃd
;

56 
public
 cÏs 
	cGroupLev–Decod”
 {

57 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "rds.GroupLevelDecoder";

59 
´iv©e
 [] 
	mqu®™yHi¡Üy
 = 
Ãw
 [40];

60 
´iv©e
 
	mhi¡ÜyPŒ
 = 0;

61 
´iv©e
 
TuÃdStiÚ
 
	m¡©iÚ
 = 
nuÎ
;

62 
´iv©e
 
boŞ—n
 
	msynûd
 = 
Œue
;

63 
´iv©e
 
Log
 
	mlog
;

64 
´iv©e
 
	mgroupCouÁSšûEÚSw™ch
 = 0;

67 
´iv©e
 
fš®
 
	mSŒšg
[] 
	mRP_TNGD_VALUES
 = {

78 
public
 
	$GroupLev–Decod”
(
Log
 
log
) {

79 
this
.
log
 =†og;

80 
	}
}

82 
public
 
	$lo£Sync
() {

83 
synûd
 = 
çl£
;

84 
	}
}

86 
´iv©e
 
	$´oûssBasicTunšgB™s
(
PrštWr™”
 
cÚsŞe
, 
block1
, 
RDSTime
 
time
) {

88 

 = (
block1
>>4) & 1;

89 
ms
 = (
block1
>>3) & 1;

90 
addr
 = 
block1
 & 3;

92 
cÚsŞe
.
	`´št
("TA=" + 

 + ", " + (
ms
==1 ? "M/s" : "m/S") + ", ");

94 
boŞ—n
 
diInfo
 = ((
block1
>>2) & 1) == 1;

95 
¡©iÚ
.
	`£tDIb™
(
addr
, 
diInfo
, 
cÚsŞe
);

97 
boŞ—n
 
ÃwTa
 = (

 == 1);

99 if(
¡©iÚ
.
	`g‘TP
(è&& (¡©iÚ.
	`g‘TA
(è!ğ
ÃwTa
)) {

100 
¡©iÚ
.
	`addT¿fficEv’t
(
time
, (
ÃwTa
 ? "start" : "end") + " ofraffic‡nnouncement");

103 
¡©iÚ
.
	`£tTA
(

 == 1);

106  
addr
;

107 
	}
}

109 
´iv©e
 
	$´oûssGroup
(
nbOk
, 
boŞ—n
[] 
blocksOk
, [] 
blocks
, 
RDSTime
 
time
) {

110 
SŒšgWr™”
 
cÚsŞeWr™”
 = 
Ãw
 
	`SŒšgWr™”
();

111 
PrštWr™”
 
cÚsŞe
 = 
Ãw
 
	`PrštWr™”
(
cÚsŞeWr™”
);

114 
AµliÿtiÚ
 
ÃwAµ
 = 
nuÎ
;

116 
TuÃdStiÚ
 
wÜkšgStiÚ
 = 
¡©iÚ
;

118 
qu®™yHi¡Üy
[
hi¡ÜyPŒ
] = 
nbOk
;

119 
hi¡ÜyPŒ
 = (hi¡ÜyPŒ + 1è% 
qu®™yHi¡Üy
.
Ëngth
;

124 
ty³
 = -1, 
v”siÚ
 = -1;

125 if(
blocksOk
[1]) {

126 
ty³
 = ((
blocks
[1]>>12) & 0xF);

127 
v”siÚ
 = ((
blocks
[1]>>11) & 1);

131 
pi
 = -1;

133 if(
blocksOk
[0]) {

134 
pi
 = 
blocks
[0];

135 } if(
v”siÚ
 =ğ1 && 
blocksOk
[2]) {

136 
pi
 = 
blocks
[2];

139 if(
pi
 != -1) {

140 
cÚsŞe
.
	`´štf
("PI=%04X", 
pi
);

142 
SŒšg
 
ÿÎsign
 = 
¡©iÚ
.
	`g‘C®lsign
();

143 if(
ÿÎsign
 !ğ
nuÎ
) {

144 
cÚsŞe
.
	`´štf
(" [" + 
ÿÎsign
 + "]");

147 
cÚsŞe
.
	`´št
(", ");

149 if(
¡©iÚ
.
	`g‘PI
() == 0) {

151 
¡©iÚ
.
	`£tPI
(
pi
);

153 } 
cÚsŞe
.
	`´št
(" ");

155 if(!
synûd
) ;

157 if(
blocksOk
[1]) {

158 
wÜkšgStiÚ
.
	`addGroupToSts
(
ty³
, 
v”siÚ
, 
nbOk
);

160 

 = (
blocks
[1]>>10) & 1;

161 
wÜkšgStiÚ
.
	`£tTP
(

 == 1);

163 
±y
 = (
blocks
[1]>>5) & 0x1F;

164 
wÜkšgStiÚ
.
	`£tPTY
(
±y
);

166 
cÚsŞe
.
	`´št
("Ty³ " + 
ty³
 + ()('A' + 
v”siÚ
è+ ", TP=" + 

 + ", PTY=" + 
±y
 + ", ");

168 } 
wÜkšgStiÚ
.
	`addUnknownGroupToSts
(
nbOk
);

171 if(
ty³
 == 0) {

172 
addr
 = 
	`´oûssBasicTunšgB™s
(
cÚsŞe
, 
blocks
[1], 
time
);

175 if(
blocksOk
[3]) {

176 
ch1
 = 
RDS
.
	`toCh¬
Ğ(
blocks
[3]>>8) & 0xFF);

177 
ch2
 = 
RDS
.
	`toCh¬
(
blocks
[3] & 0xFF);

178 
cÚsŞe
.
	`´št
("PS…os=" + 
addr
 + ": \"" + 
	`toASCII
(
ch1
è+oASCII(
ch2
) + "\" ");

179 
wÜkšgStiÚ
.
	`g‘PS
().
	`£tCh¬s
(
addr
, 
ch1
, 
ch2
);

183 if(
v”siÚ
 =ğ0 && 
blocksOk
[2]) {

185 
cÚsŞe
.
	`´št
(
wÜkšgStiÚ
.
	`addAFPaœ
((
blocks
[2]>>8) & 0xFF, blocks[2] & 0xFF));

190 if(
ty³
 =ğ1 && 
v”siÚ
 == 0) {

191 
Šgd
 = (
blocks
[1]>>2) & 7;

192 
bsi
 = (
blocks
[1]) & 3;

193 
cÚsŞe
.
	`´št
("RP CÚfig: [" + 
RP_TNGD_VALUES
[
Šgd
]);

194 if(
Šgd
 > 0) {

195 
AµliÿtiÚ
 
­p
 = 
wÜkšgStiÚ
.
	`g‘AµliÿtiÚFÜGroup
(7, 0);

196 if(
­p
 =ğ
nuÎ
) {

197 
ÃwAµ
 = 
­p
 = 
Ãw
 
	`Pagšg
(
wÜkšgStiÚ
, 
RP_TNGD_VALUES
[
Šgd
]);

199 
wÜkšgStiÚ
.
	`£tAµliÿtiÚFÜGroup
(7, 0, 
­p
);

200 } if(!(
­p
 
š¡ªûof
 
Pagšg
)) {

201 
cÚsŞe
.
	`´št
("E¼Ü:hi grou°šdiÿ‹ th´e£nû oà·gšg, whgrou°7A i u£d fÜ '" + 
­p
.
	`g‘Name
() + "'!");

204 
cÚsŞe
.
	`´št
(", " + ((
Pagšg
)
­p
).
	`syncInfo
((
bsi
 >> 1) & 1, bsi & 1));

206 
cÚsŞe
.
	`´št
("], ");

210 if(
ty³
 =ğ1 && 
blocksOk
[3]) {

211 
pš
 = 
blocks
[3];

212 
wÜkšgStiÚ
.
	`£tPIN
(
pš
);

213 
cÚsŞe
.
	`´štf
("PIN=%04X [%s] ", 
pš
, 
¡©iÚ
.
	`g‘PINText
());

217 if(
ty³
 =ğ1 && 
v”siÚ
 =ğ0 && 
blocksOk
[2]) {

218 
v¬ŸÁ
 = (
blocks
[2] >> 12) & 0x7;

219 
Ï
 = (
blocks
[2] >> 15) & 0x1;

220 
cÚsŞe
.
	`´št
("LA=" + 
Ï
 + " v=" + 
v¬ŸÁ
 + " ");

221 
v¬ŸÁ
) {

223 
İc
 = (
blocks
[2] >> 8) & 0xF;

224 
ecc
 = 
blocks
[2] & 0xFF;

225 
cÚsŞe
.
	`´štf
("OPC=%01X ECC=%02X ", 
İc
, 
ecc
);

226 
wÜkšgStiÚ
.
	`£tECC
(
ecc
);

227 if(
pi
 !ğ0è
cÚsŞe
.
	`´št
("[" + 
RDS
.
	`g‘ISOCouÁryCode
(Õi>>12è& 0xF, 
ecc
) + "] ");

231 
tmcid
 = 
blocks
[2] & 0xFFF;

232 
cÚsŞe
.
	`´štf
("TMC (Şd wayèID=0x%03X / (dec)%d", 
tmcid
,mcid);

235 
AµliÿtiÚ
 
­p
 = 
wÜkšgStiÚ
.
	`g‘AµliÿtiÚFÜGroup
(8, 0);

236 if(
­p
 =ğ
nuÎ
) {

237 
AµliÿtiÚ
 
­pTMC
 = 
Ãw
 
	`AË¹C
();

238 
wÜkšgStiÚ
.
	`£tAµliÿtiÚFÜGroup
(8, 0, 
­pTMC
);

239 
­pTMC
.
	`£tStiÚ
(
wÜkšgStiÚ
);

240 } if(!(
­p
 
š¡ªûof
 
AË¹C
)) {

241 
cÚsŞe
.
	`´št
("E¼Ü:hi grou°šdiÿ‹ th´e£nû oàTMC, whgrou°8A i u£d fÜ '" + 
­p
.
	`g‘Name
() + "'!");

247 
İ”©ÜCode
 = 
blocks
[2] & 0xFFF;

248 if(
İ”©ÜCode
 != 0) {

249 
cÚsŞe
.
	`´štf
("Enhªûd Pagšg O³¿tÜ Code: %03X", 
İ”©ÜCode
);

255 
ÏngID
 = 
blocks
[2] & 0xFF;

256 
wÜkšgStiÚ
.
	`£tLªguage
(
ÏngID
);

257 
cÚsŞe
.
	`´štf
("Lªguage: %02X [%s]", 
ÏngID
,

258 
ÏngID
 < 
RDS
.
Ïnguages
.
Ëngth
 ? RDS.languages[langID][1] : "");

262 
cÚsŞe
.
	`´štf
("Brßdÿ¡” d©a: %03X", 
blocks
[2] & 0xFFF);

266 
cÚsŞe
.
	`´štf
("EWS id’tifiÿtiÚ: %03X", 
blocks
[2] & 0xFFF);

270 
cÚsŞe
.
	`´štf
("UnhªdËd d©a: %03X", 
blocks
[2] & 0xFFF);

275 if(
ty³
 =ğ2 && (
blocksOk
[2] || blocksOk[3])) {

276 
addr
 = 
blocks
[1] & 0xF;

277 
ab
 = (
blocks
[1]>>4) & 1;

281 
ch1
 = 
RDS
.
	`toCh¬
Ğ(
blocks
[2]>>8) & 0xFF);

282 
ch2
 = 
RDS
.
	`toCh¬
(
blocks
[2] & 0xFF);

283 
ch3
 = 
RDS
.
	`toCh¬
Ğ(
blocks
[3]>>8) & 0xFF);

284 
ch4
 = 
RDS
.
	`toCh¬
(
blocks
[3] & 0xFF);

286 if(!
blocksOk
[2]) {

287 
ch1
 = 
ch2
 = '?';

289 if(!
blocksOk
[3]) {

290 
ch3
 = 
ch4
 = '?';

293 
Text
 
¹
 = (
ab
 =ğ0è? 
wÜkšgStiÚ
.
	`g‘RT
() :

294 
wÜkšgStiÚ
.
	`g‘RTV”siÚB
();

299 if(
v”siÚ
 =ğ0 && 
blocksOk
[2] && blocksOk[3]) {

300 
¹
.
	`£tCh¬s
(
addr
, 
ch1
, 
ch2
, 
ch3
, 
ch4
);

303 if(
blocksOk
[2] && 
v”siÚ
 == 0) {

304 
¹
.
	`£tCh¬s
(
addr
*2, 
ch1
, 
ch2
);

306 if(
blocksOk
[3]) {

307 
¹
.
	`£tCh¬s
(
v”siÚ
 =ğ0 ? 
addr
*2+1 :‡ddr, 
ch3
, 
ch4
);

311 
¹
.
	`£tFÏg
(
ab
);

313 
cÚsŞe
.
	`´št
("RT A/B==" + (
ab
 =ğ0 ? 'A' : 'B'è+ "…os=" + 
addr
 + ": \"");

314 if(
v”siÚ
 =ğ0è
cÚsŞe
.
	`´št
(
	`toASCII
(
ch1
è+ "" +oASCII(
ch2
));

315 
cÚsŞe
.
	`´št
(
	`toASCII
(
ch3
è+ "" +oASCII(
ch4
));

316 
cÚsŞe
.
	`´št
('\"');

320 if(
ty³
 =ğ3 && 
v”siÚ
 =ğ0 && 
blocksOk
[3]) {

321 
aid
 = 
blocks
[3];

322 
odaG
 = (
blocks
[1]>>1) & 0xF;

323 
odaV
 = 
blocks
[1] & 1;

325 if(
aid
 =ğ0è
cÚsŞe
.
	`´št
("NO AID: ");

326 
cÚsŞe
.
	`´štf
("AID #%04X ", 
aid
);

329 
AµliÿtiÚ
 
­p
 = 
wÜkšgStiÚ
.
	`g‘AµliÿtiÚFÜGroup
(
odaG
, 
odaV
);

330 if(
­p
 !ğ
nuÎ
) {

331 if(!(
­p
 
š¡ªûof
 
ODA
)) {

332 
cÚsŞe
.
	`´štf
("Cu¼’y grou°assigÃdØ'%s' (nÚ-ODA); iˆshould‚Ù bassigÃdØAID %04X", 
­p
.
	`g‘Name
(), 
aid
);

333 } if(((
ODA
)
­p
).
	`g‘AID
(è!ğ
aid
) {

334 
cÚsŞe
.
	`´štf
("Cu¼’ˆAID fÜ grou°(%04XèdÛ nÙ m©ch‚ew AID (%04X)", ((
ODA
)
­p
).
	`g‘AID
(), 
aid
);

335 
­p
 = 
nuÎ
;

338 
­p
 = 
ODA
.
	`fÜAID
(
aid
);

340 
wÜkšgStiÚ
.
	`£tODA
(
aid
, 
blocks
[1] & 0x1F, 
­p
);

342 if(
­p
 !ğ
nuÎ
) {

343 
ÃwAµ
 = 
­p
;

344 
wÜkšgStiÚ
.
	`£tAµliÿtiÚFÜGroup
(
odaG
, 
odaV
, 
­p
);

345 
­p
.
	`£tStiÚ
(
wÜkšgStiÚ
);

347 
cÚsŞe
.
	`´št
("Unknown AID!");

351 if(
­p
 !ğ
nuÎ
) {

352 
cÚsŞe
.
	`´št
("(" + 
­p
.
	`g‘Name
() + "): ");

354 
cÚsŞe
.
	`´št
(" ");

356 if(
odaG
 =ğ0 && 
odaV
 =ğ0è
cÚsŞe
.
	`´št
("only in group 3A ");

357 if(
odaG
 =ğ0xF && 
odaV
 =ğ1è
cÚsŞe
.
	`´št
("temporary data fault‡tƒncoder ");

358 
cÚsŞe
.
	`´št
("grou°" + 
odaG
 + ()('A' + 
odaV
) + " ");

361 if(
­p
 !ğ
nuÎ
 && 
blocksOk
[2]) {

362 
cÚsŞe
.
	`´štf
("ODA d©a=%04X", 
blocks
[2]);

364 
cÚsŞe
.
	`´šn
();

365 
cÚsŞe
.
	`´št
("\t" + 
­p
.
	`g‘Name
() + " --> ");

366 
­p
.
	`»ûiveGroup
(
cÚsŞe
, 
ty³
, 
v”siÚ
, 
blocks
, 
blocksOk
, 
time
);

371 if(
ty³
 =ğ4 && 
v”siÚ
 =ğ0 && 
blocksOk
[2] && blocksOk[3]) {

372 
mjd
 = ((
blocks
[1] & 0x3)<<15) | ((blocks[2] & 0xFFFE)>>1);

374 
hour
 = ((
blocks
[2] & 1)<<4) | ((blocks[3] & 0xF000)>>12);

375 
mšu‹
 = ((
blocks
[3]>>6) & 0x3F);

376 
sign
 = (
blocks
[3] & 0x20) == 0 ? 1 : -1;

377 
off£t
 = 
blocks
[3] & 0x1F;

379 
yp
 = ()((
mjd
 - 15078.2)/365.25);

380 
mp
 = ()ĞĞ
mjd
 - 14956.1 - ()(
yp
 * 365.25) ) / 30.6001 );

381 
day
 = 
mjd
 - 14956 - ()Ğ
yp
 * 365.25 ) - ()Ğ
mp
 * 30.6001 );

382 
k
 = (
mp
 == 14 || mp == 15) ? 1 : 0;

383 
y—r
 = 1900 + 
yp
 + 
k
;

384 
mÚth
 = 
mp
 - 1 - 
k
 * 12;

386 
C®’d¬
 
ÿl
 = 
Ãw
 
	`G»gÜŸnC®’d¬
(
y—r
, 
mÚth
-1, 
day
, 
hour
, 
mšu‹
);

387 
ÿl
.
	`add
(
C®’d¬
.
MINUTE
, 
sign
 * 
off£t
 * 30);

388 
ÿl
.
	`£tTimeZÚe
(
Ãw
 
	`Sim¶eTimeZÚe
(
sign
 * 
off£t
 * 30 * 60 * 1000, ""));

389 
D©e
 
d©e
 = 
ÿl
.
	`g‘Time
();

391 
SŒšg
 
d©‘ime
 = SŒšg.
	`fÜm©
("%02d:%02d%c%dmin %04d-%02d-%02d",

392 
hour
, 
mšu‹
, 
sign
>0 ? '+' : '-', 
off£t
*30, 
y—r
, 
mÚth
, 
day
);

393 
cÚsŞe
.
	`´štf
("CT " + 
d©‘ime
);

394 
wÜkšgStiÚ
.
	`£tD©e
(
d©e
, 
d©‘ime
, 
time
);

395 
log
.
	`addMes§ge
(
Ãw
 
	`ClockTime
(
time
, 
d©e
));

398 
AµliÿtiÚ
 
­p
 = 
wÜkšgStiÚ
.
	`g‘AµliÿtiÚFÜGroup
(7, 0);

399 if(
­p
 !ğ
nuÎ
 &&‡µ 
š¡ªûof
 
Pagšg
) {

401 
cÚsŞe
.
	`´št
(", [RT: " + ((
Pagšg
)
­p
).
	`fuÎMšu‹
() + "]");

408 if(((
ty³
 >ğ5 &&y³ <ğ9è|| (ty³ >ğ11 &&y³ <ğ13)è&& 
v”siÚ
 == 0) {

409 
a
 = (
blocks
[1] & 0x1F);

411 
ty³
) {

412 5: 
cÚsŞe
.
	`´št
("TDC/ODA "); ;

413 6: 
cÚsŞe
.
	`´št
("IH/ODA "); ;

414 7: 
cÚsŞe
.
	`´št
("RP/ODA "); ;

415 8: 
cÚsŞe
.
	`´št
("TMC/ODA "); ;

416 9: 
cÚsŞe
.
	`´št
("EWS/ODA "); ;

417 11: 
cÚsŞe
.
	`´št
("ODA "); ;

418 12: 
cÚsŞe
.
	`´št
("ODA "); ;

419 13: 
cÚsŞe
.
	`´št
("ERP/ODA "); ;

422 if(
blocksOk
[2] && blocksOk[3]) {

423 
cÚsŞe
.
	`´štf
("%02X/%04X-%04X", 
a
, 
blocks
[2], blocks[3]);

424 if(
ty³
 == 5 ||ype == 6) {

425 
cÚsŞe
.
	`´štf
(" (%c%c%c%c)",

426 
	`toASCII
(()((
blocks
[2]>>8) & 0xFF)),oASCII(()(blocks[2] & 0xFF)),

427 
	`toASCII
(()((
blocks
[3]>>8) & 0xFF)),oASCII(()(blocks[3] & 0xFF)));

431 
AµliÿtiÚ
 
­p
 = 
wÜkšgStiÚ
.
	`g‘AµliÿtiÚFÜGroup
(
ty³
, 
v”siÚ
);

433 if(
­p
 =ğ
nuÎ
) {

434 if(
ty³
 == 6) {

435 
ÃwAµ
 = 
Ãw
 
	`InHou£
();

436 
wÜkšgStiÚ
.
	`£tAµliÿtiÚFÜGroup
(6, 0, 
ÃwAµ
);

440 if(
­p
 !ğ
nuÎ
) {

441 
cÚsŞe
.
	`´šn
();

442 
cÚsŞe
.
	`´št
("\t" + 
­p
.
	`g‘Name
() + " --> ");

443 
­p
.
	`»ûiveGroup
(
cÚsŞe
, 
ty³
, 
v”siÚ
, 
blocks
, 
blocksOk
, 
time
);

450 if(
ty³
 =ğ10 && 
v”siÚ
 =ğ0 && 
blocksOk
[1]) {

451 
ab
 = (
blocks
[1] >> 4) & 1;

452 
pos
 = 
blocks
[1] & 1;

454 
cÚsŞe
.
	`´št
("PTYN, fÏg=" + ()('A' + 
ab
è+ ",…os=" + 
pos
 + ": \"");

456 if(
blocksOk
[2]) {

457 
c1
 = 
RDS
.
	`toCh¬
((
blocks
[2]>>8) & 0xFF);

458 
c2
 = 
RDS
.
	`toCh¬
(
blocks
[2] & 0xFF);

459 
wÜkšgStiÚ
.
	`g‘PTYN
().
	`£tCh¬s
(
pos
*2, 
c1
, 
c2
);

460 
cÚsŞe
.
	`´št
(
Ch¬aù”
.
	`toSŒšg
(
	`toASCII
(
c1
)è+ Ch¬aù”.toSŒšgÑoASCII(
c2
)));

461 } 
cÚsŞe
.
	`´št
("??");

463 if(
blocksOk
[3]) {

464 
c1
 = 
RDS
.
	`toCh¬
((
blocks
[3]>>8) & 0xFF);

465 
c2
 = 
RDS
.
	`toCh¬
(
blocks
[3] & 0xFF);

466 
wÜkšgStiÚ
.
	`g‘PTYN
().
	`£tCh¬s
(
pos
*2+1, 
c1
, 
c2
);

467 
cÚsŞe
.
	`´št
(
Ch¬aù”
.
	`toSŒšg
(
	`toASCII
(
c1
)è+ Ch¬aù”.toSŒšgÑoASCII(
c2
)));

468 } 
cÚsŞe
.
	`´št
("??");

470 
cÚsŞe
.
	`´št
("\"");

474 if(
ty³
 == 14) {

475 
StiÚ
 
Ú
 = 
nuÎ
;

476 
cÚsŞe
.
	`´št
("EON, ");

479 
ÚPI
 = -1;

480 if(
blocksOk
[3]) {

481 
ÚPI
 = 
blocks
[3];

482 
cÚsŞe
.
	`´štf
("ON.PI=%04X%s, ", 
ÚPI
, onPI =ğ
wÜkšgStiÚ
.
	`g‘PI
() ? " (self)" : "");

484 if(
ÚPI
 !ğ
wÜkšgStiÚ
.
	`g‘PI
()) {

485 
Ú
 = 
wÜkšgStiÚ
.
	`g‘ON
(
ÚPI
);

486 if(
Ú
 =ğ
nuÎ
) {

487 
Ú
 = 
Ãw
 
	`Oth”N‘wÜk
(
ÚPI
);

488 
wÜkšgStiÚ
.
	`addON
(
Ú
);

495 
Ú
 = 
wÜkšgStiÚ
;

499 
Ú
 = (
blocks
[1]>>4) & 1;

500 if(
Ú
 !ğ
nuÎ
èÚ.
	`£tTP
(
Ú
 == 1);

501 
cÚsŞe
.
	`´št
("ON.TP=" + 
Ú
 + ", ");

503 if(
v”siÚ
 == 0) {

504 
v¬ŸÁ
 = 
blocks
[1] & 0xF;

505 
cÚsŞe
.
	`´št
("v=" + 
v¬ŸÁ
 + ", ");

508 if(
blocksOk
[2]) {

509 if(
v¬ŸÁ
 >= 0 && variant <= 3) {

510 
ch1
 = 
RDS
.
	`toCh¬
Ğ(
blocks
[2]>>8) & 0xFF);

511 
ch2
 = 
RDS
.
	`toCh¬
Ğ
blocks
[2] & 0xFF);

512 
cÚsŞe
.
	`´št
("ON.PS…os=" + 
v¬ŸÁ
 + ": \"" + 
	`toASCII
(
ch1
è+oASCII(
ch2
) + "\", ");

514 if(
Ú
 !ğ
nuÎ
èÚ.
	`g‘PS
().
	`£tCh¬s
(
v¬ŸÁ
, 
ch1
, 
ch2
);

517 if(
v¬ŸÁ
 == 4) {

518 if(
Ú
 !ğ
nuÎ
) {

519 
cÚsŞe
.
	`´št
("ON.AF: " + 
Ú
.
	`addAFPaœ
((
blocks
[2]>>8)&0xFF, blocks[2]&0xFF) + " ");

523 if(
v¬ŸÁ
 >= 5 && variant <= 8) {

524 if(
Ú
 !ğ
nuÎ
) {

525 
cÚsŞe
.
	`´št
("ON.AF: " + 
Ú
.
	`addM­³dF»q
((
blocks
[2]>>8) & 0xFF, blocks[2] & 0xFF));

529 if(
v¬ŸÁ
 == 12) {

530 
cÚsŞe
.
	`´štf
("LškagšfÜm©iÚ: %04X ", 
blocks
[2]);

533 if(
v¬ŸÁ
 == 13) {

534 
Ú±y
 = (
blocks
[2]>>11) & 0x1F;

535 
Ú
 = (
blocks
[2]) & 1;

536 
cÚsŞe
.
	`´štf
("ON.PTY=%d, ON.TA=%d ", 
Ú±y
, 
Ú
);

537 if(
Ú
 !ğ
nuÎ
) {

538 
Ú
.
	`£tPTY
(
Ú±y
);

539 
Ú
.
	`£tTA
(
Ú
 == 1);

543 if(
v¬ŸÁ
 == 14) {

544 
Úpš
 = 
blocks
[2];

545 
cÚsŞe
.
	`´štf
("ON.PIN=%04X ", 
Úpš
);

546 if(
Ú
 !ğ
nuÎ
) {

547 
Ú
.
	`£tPIN
(
Úpš
);

548 
cÚsŞe
.
	`´št
("[" + 
Ú
.
	`g‘PINText
() + "]");

553 
Ú
 = (
blocks
[1]>>3) & 1;

554 
SŒšg
 
mes§ge
 = (
Ú
==1 ? "Switch‚owo ON" : "Switch back from ON");

555 
cÚsŞe
.
	`´št
("ON.TA=" + 
Ú
 + ", " + 
mes§ge
);

556 if(
Ú
 == 1) {

557 
log
.
	`addMes§ge
(
Ãw
 
	`EONSw™ch
(
time
, 
Ú
));

559 
log
.
	`addMes§ge
(
Ãw
 
	`EONR‘uº
(
time
, 
Ú
));

561 if(
ÚPI
 >ğ0è
mes§ge
 +ğ
SŒšg
.
	`fÜm©
(": PI=%04X", onPI);

562 if(
Ú
 !ğ
nuÎ
è
mes§ge
 +ğ" (" + on.
	`g‘StiÚName
().
	`Œim
() + ")";

563 if(
groupCouÁSšûEÚSw™ch
 > 20è
¡©iÚ
.
	`addT¿fficEv’t
(
time
, 
mes§ge
);

564 
groupCouÁSšûEÚSw™ch
 = 0;

570 if(
ty³
 =ğ15 && 
v”siÚ
 == 0) {

571 
addr
 = 
blocks
[1] & 1;

572 
cÚsŞe
.
	`´št
("DEPRECATED RBDS-Úly fa¡ PS,…os=" + 
addr
 + ": \"");

573 
i
=2; i<=3; i++) {

574 if(
blocksOk
[
i
]) {

575 
ch1
 = 
RDS
.
	`toCh¬
Ğ(
blocks
[
i
]>>8) & 0xFF);

576 
ch2
 = 
RDS
.
	`toCh¬
(
blocks
[
i
] & 0xFF);

577 
cÚsŞe
.
	`´št
(
Ch¬aù”
.
	`toSŒšg
(
	`toASCII
(
ch1
)è+ Ch¬aù”.toSŒšgÑoASCII(
ch2
)));

578 } 
cÚsŞe
.
	`´št
("??");

580 
cÚsŞe
.
	`´št
("\", TA=" + ((
blocks
[1]>>4) & 1));

584 if(
ty³
 =ğ15 && 
v”siÚ
 == 1) {

585 
	`´oûssBasicTunšgB™s
(
cÚsŞe
, 
blocks
[1], 
time
);

586 if(
blocksOk
[3]è
	`´oûssBasicTunšgB™s
(
cÚsŞe
, 
blocks
[3], 
time
);

589 
ªdroid
.
ut
.
Log
.
	`i
(
LOGTAG
, "decoder†og: " +

590 
cÚsŞeWr™”
.
	`toSŒšg
());

592 
log
.
	`addMes§ge
(
Ãw
 
	`GroupReûived
(
time
, 
blocks
, 
nbOk
, 
cÚsŞeWr™”
.
	`toSŒšg
()));

595 if(
ÃwAµ
 !ğ
nuÎ
 && 
¡©iÚ
 =ğ
wÜkšgStiÚ
)

596 
log
.
	`addMes§ge
(
Ãw
 
	`AµliÿtiÚChªged
(
time
, 
nuÎ
, 
ÃwAµ
));

598 
groupCouÁSšûEÚSw™ch
++;

599 
	}
}

602 
public
 
TuÃdStiÚ
 
	$g‘TuÃdStiÚ
() {

603  
¡©iÚ
;

604 
	}
}

606 
public
 
	$nÙifyF»qu’cyChªge
(
RDSTime
 
time
) {

607 
¡©iÚ
 = 
Ãw
 
	`TuÃdStiÚ
(
time
);

608 
	}
}

611 
´iv©e
 
fš®
 
GroupR—d”Ev’tVis™Ü
 
	g»ad”Ev’tVis™Ü
 = 
Ãw
 
	$GroupR—d”Ev’tVis™Ü
() {

612 @
Ov”ride


613 
public
 
	`vis™
(
StiÚChªgeEv’t
 
¡©iÚChªgeEv’t
) {

614 if(
¡©iÚ
 !ğ
nuÎ
)

615 
log
.
	`addMes§ge
(
Ãw
 
	`StiÚLo¡
(
¡©iÚ
.
	`g‘TimeOfLa¡PI
(), station));

616 
RDSTime
 
time
 = 
¡©iÚChªgeEv’t
.
	`g‘Time
();

617 
¡©iÚ
 = 
Ãw
 
	`TuÃdStiÚ
(
time
);

618 
log
.
	`addMes§ge
(
Ãw
 
	`StiÚTuÃd
(
time
, 
¡©iÚ
));

621 @
Ov”ride


622 
public
 
	`vis™
(
GroupEv’t
 
groupEv’t
) {

623 
RDSTime
 
time
 = 
groupEv’t
.
	`g‘Time
();

628 if(
¡©iÚ
 =ğ
nuÎ
) {

629 
¡©iÚ
 = 
Ãw
 
	`TuÃdStiÚ
(
time
);

630 
log
.
	`addMes§ge
(
Ãw
 
	`StiÚTuÃd
(
time
, 
¡©iÚ
));

634 [] 
blocks
 = 
groupEv’t
.blocks;

636 
boŞ—n
[] 
blocksOk
 = 
Ãw
 boolean[4];

637 
nbOk
 = 0;

638 
i
=0; i<4; i++) {

641 
blocksOk
[
i
] = (
blocks
[i] >= 0);

642 if(
blocksOk
[
i
]è
nbOk
++;

645 
	`´oûssGroup
(
nbOk
, 
blocksOk
, 
blocks
, 
time
);

646 if(
log
 !ğ
nuÎ
èlog.
	`nÙifyGroup
();

649 @
Ov”ride


650 
public
 
	`vis™
(
F»qu’cyChªgeEv’t
 
äequ’cyChªgeEv’t
) {

653 
	}
};

663 
public
 
	$´oûssOÃGroup
(
GroupR—d”Ev’t
 
evt
è
throws
 
IOExû±iÚ
 {

664 
evt
.
	`acû±
(
»ad”Ev’tVis™Ü
);

692 
	}
}

694 
´iv©e
 
SŒšg
 
	$toASCII
(
SŒšg
 
s
) {

695 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
(
s
.
	`Ëngth
());

696 
i
=0; i<
s
.
	`Ëngth
(); i++) {

697 
cu¼’t
 = 
s
.
	`ch¬At
(
i
);

698 
»s
.
	`­³nd
(
cu¼’t
 >= 32 && current < 128 ? current : '.');

700  
»s
.
	`toSŒšg
();

701 
	}
}

703 
´iv©e
 
	$toASCII
(
c
) {

704  
c
 >= 32 && c < 128 ? c : '.';

705 
	}
}

707 
public
 
	$»£t
() {

708 
¡©iÚ
 = 
nuÎ
;

709 
	}
}

	@rds/rds/core/OtherNetwork.java

26 
·ckage
 
	grds
.
	gcÜe
;

27 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

28 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

29 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

30 
impÜt
 
	gjava
.
	gut
.
	gM­
;

31 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

34 
public
 cÏs 
	cOth”N‘wÜk
 
ex‹nds
 
	mStiÚ
 {

35 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mS‘
<IÁeg”>> 
	mm­³dAFs
 = 
Ãw
 
HashM­
<
IÁeg”
, Set<Integer>>();

37 @
Ov”ride


38 
public
 
SŒšg
 
	$addM­³dF»q
(
chªÃl
, 
m­³dChªÃl
) {

39 
äeq
 = 
	`chªÃlToF»qu’cy
(
chªÃl
);

40 
m­³dF»q
 = 
	`chªÃlToF»qu’cy
(
m­³dChªÃl
);

43 
S‘
<
IÁeg”
> 
li¡OfM­³dF»qs
 = 
m­³dAFs
.
	`g‘
(
äeq
);

46 if(
li¡OfM­³dF»qs
 =ğ
nuÎ
) {

47 
li¡OfM­³dF»qs
 = 
Ãw
 
HashS‘
<
IÁeg”
>();

48 
m­³dAFs
.
	`put
(
äeq
, 
li¡OfM­³dF»qs
);

52 
li¡OfM­³dF»qs
.
	`add
(
m­³dF»q
);

54  
	`äequ’cyToSŒšg
(
äeq
è+ " -> " + f»qu’cyToSŒšg(
m­³dF»q
);

57 @
Ov”ride


58 
public
 
SŒšg
 
	$afsToSŒšg
() {

59 if(
m­³dAFs
.
	`size
() == 0)

60  
su³r
.
	`afsToSŒšg
();

62 
SŒšg
 
»s
 = "Mapped AFs: ";

63 
M­
.
EÁry
<
IÁeg”
, 
S‘
<IÁeg”>> 
e
 : 
m­³dAFs
.
	`’ŒyS‘
()) {

64 
»s
 +ğ"[" + 
	`äequ’cyToSŒšg
(
e
.
	`g‘Key
()) + " -> ";

65 
I‹¿tÜ
<
IÁeg”
> 
™
 = 
e
.
	`g‘V®ue
().
	`™”©Ü
(); it.
	`hasNext
(); ) {

66 
»s
 +ğ
	`äequ’cyToSŒšg
(
™
.
	`Ãxt
());

67 if(
™
.
	`hasNext
()è
»s
 += ", ";

69 
»s
 += "] ";

71  
»s
;

72 
	}
}

74 
public
 
SŒšg
 
	$toSŒšg
() {

75 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

76 
»s
.
	`­³nd
(
SŒšg
.
	`fÜm©
("\tPI=%04X PS*=\"%s\" ", 
pi
, 
	`g‘StiÚName
())).­³nd(
	`afsToSŒšg
());

77  
»s
.
	`toSŒšg
();

78 
	}
}

80 
public
 
	$Oth”N‘wÜk
(
pi
) {

81 
	`»£t
(
pi
);

82 
	}
}

	@rds/rds/core/RBDSCallsigns.java

26 
·ckage
 
	grds
.
	gcÜe
;

28 
public
 cÏs 
	cRBDSC®lsigns
 {

29 
´iv©e
 
fš®
 
SŒšg
 
	mÿÇdŸnP»fixes
[] = {"CF", "CH", "CI", "CJ", "CK"};

30 
´iv©e
 
fš®
 
	gÿÇdŸnBa£
 = 49152 + 257;

31 
´iv©e
 
fš®
 
	gÿÇdŸnTİ
 = 
ÿÇdŸnBa£
 + 5*26*27 + 5*26*27/255;

33 
´iv©e
 
fš®
 
	gusKoff£t
 = 4096;

34 
´iv©e
 
fš®
 
	gusWoff£t
 = 
usKoff£t
 + 26*26*26;

35 
´iv©e
 
fš®
 
	gusWtİ
 = 
usWoff£t
 + 26*26*26;

37 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gus3Ë‰”
 = {

57 
nuÎ
,

58 
nuÎ
,

59 
nuÎ
,

66 
nuÎ
,

67 
nuÎ
,

69 
nuÎ
,

74 
nuÎ
,

78 
nuÎ
,

84 
nuÎ
,

90 
nuÎ
,

92 
nuÎ
,

94 
nuÎ
,

97 
nuÎ
,

98 
nuÎ
,

99 
nuÎ
,

103 
nuÎ
,

104 
nuÎ
,

105 
nuÎ
,

106 
nuÎ
,

107 
nuÎ
,

108 
nuÎ
,

119 
nuÎ
,

137 
nuÎ
,

138 
nuÎ
,

141 
nuÎ
,

142 
nuÎ
,

143 
nuÎ
,

144 
nuÎ
,

146 
nuÎ
,

147 
nuÎ
,

148 
nuÎ
,

152 
nuÎ
,

153 
nuÎ
,

155 
nuÎ
,

159 
public
 
SŒšg
 
	$ÿÎSign
(
pi
) {

161 if((
pi
 & 0xFF00) == 0xAF00) {

163 
pi
 = (pi & 0x00FF) << 8;

164 } if((
pi
 & 0xF000) == 0xA000) {

166 
pi
 = (pi & 0x00FF) | ((pi & 0x0F00) << 4);

169 if(
pi
 >ğ
usKoff£t
 &&…˜< 
usWtİ
) {

171 
th»eL‘‹rCode
;

172 
SŒšgBud”
 
ÿÎsign
 = 
Ãw
 
	`SŒšgBud”
();

173 if(
pi
 < 
usWoff£t
) {

174 
ÿÎsign
.
	`­³nd
('K');

175 
th»eL‘‹rCode
 = 
pi
 - 
usKoff£t
;

177 
ÿÎsign
.
	`­³nd
('W');

178 
th»eL‘‹rCode
 = 
pi
 - 
usWoff£t
;

181 
i
=0; i<3; i++) {

182 
ÿÎsign
.
	`š£¹
(1, ()('A' + (
th»eL‘‹rCode
 % 26)));

183 
th»eL‘‹rCode
 /= 26;

186  
ÿÎsign
.
	`toSŒšg
();

188 } if(
pi
 >ğ
usWtİ
 &&…˜< usWtİ + 
us3Ë‰”
.
Ëngth
) {

189  
us3Ë‰”
[
pi
 - 
usWtİ
];

190 } if(
pi
 >ğ
ÿÇdŸnBa£
 &&…˜< 
ÿÇdŸnTİ
) {

192 
šcAndShiá
 = 
pi
 - 
ÿÇdŸnBa£
;

193 
shiá
 = 
šcAndShiá
 / 256;

194 
šüem’t
 = 
šcAndShiá
 - 
shiá
;

195 
´efix
 = 
šüem’t
 / (26*27);

196 
thœd
 = (
šüem’t
 - 26*27*
´efix
) / 27;

197 
fou¹h
 = 
šüem’t
 - 26*27*
´efix
 - 
thœd
 * 27;

199 
SŒšgBud”
 
ÿÎsign
 = 
Ãw
 
	`SŒšgBud”
(
ÿÇdŸnP»fixes
[
´efix
]);

200 
ÿÎsign
.
	`­³nd
(()(
thœd
 + 'A'));

201 if(
fou¹h
 > 0è
ÿÎsign
.
	`­³nd
(()(fourth - 1 + 'A'));

203  
ÿÎsign
.
	`toSŒšg
();

204 } if((
pi
 & 0xF000) == 0xB000) {

205 
pi
 & 0x00FF) {

216 :  
nuÎ
;

219  
nuÎ
;

221 
	}
}

223 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

224 
fš®
 [] 
‹¡
 = {

230 
pi
 : 
‹¡
) {

231 
Sy¡em
.
out
.
	`´štf
("%04X -> %s\n", 
pi
, 
	`ÿÎSign
(pi));

233 
	}
}

	@rds/rds/core/RDS.java

26 
·ckage
 
	grds
.
	gcÜe
;

28 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

31 
public
 cÏs 
	cRDS
 {

32 
´iv©e
 
fš®
 
	mm©H
[] = {

38 
public
 
fš®
 
	gsyndromes
[][] = {{0x3D8, 0x3D8}, {0x3D4, 0x3D4}, {0x25C, 0x3CC}, {0x258, 0x258}};

40 
public
 
fš®
 [] 
	goff£tWÜds
 = {

44 
public
 
fš®
 
	gSŒšg
[][] 
	gÏnguages
 = {

169 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_E0
 = {" ", "DE", "DZ", "AD", "IL", "IT", "BE", "RU", "PS", "AL", "AT", "HU", "MT", "DE", " ", "EG"};

170 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_E1
 = {" ", "GR", "CY", "SM", "CH", "JO", "FI", "LU", "BG", "DK", "GI", "IQ", "GB", "LY", "RO", "FR"};

171 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_E2
 = {" ", "MA", "CZ", "PL", "VA", "SK", "SY", "TN", " ", "LI", "IS", "MC", "LT", "RS/YU", "ES", "NO"};

172 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_E3
 = {" ", "ME", "IE", "TR", "MK", "TJ", " ", " ", "NL", "LV", "LB", "AZ", "HR", "KZ", "SE", "BY"};

173 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_E4
 = {" ", "MD", "EE", "KG", " ", " ", "UA", "KS", "PT", "SI", "AM", "UZ", "GE", " ", "TM", "BA"};

174 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_D0
 = {" ", "CM", "DZ/CF", "DJ", "MG", "ML", "AO", "GQ", "GA", " ", "ZA", "BF", "CG", "TG", "BJ", "MW"};

175 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_D1
 = {" ", "NA", "LR", "GH", "MR", "CV/ST", " ", "SN", "GM", "BI", "??", "BW", "KM", "TZ", "ET", "NG"};

176 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_D2
 = {" ", "SL", "ZW", "MZ", "UG", "SZ", "GN", "SO", "NE", "TD", "GW", "CD", "CI", " ", "ZM", "ER"};

177 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_D3
 = {" ", " ", " ", "EH", "??", "RW", "LS", " ", "SC", " ", "MU", " ", "SD", " ", " ", " "};

178 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A0
 = {"US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", "US/VI/PR", " ", "US/VI/PR", "US/VI/PR"};

180 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A1
 = {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "CA", "CA", "CA", "CA", "GL"};

181 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A2
 = {" ", "AI", "AG", "EC", " ", "BB", "BZ", "KY", "CR", "CU", "AR", "BR", "BM", "AN", "GP", "BS"};

182 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A3
 = {" ", "BO", "CO", "JM", "MQ", "GF", "PY", "NI", " ", "PA", "DM", "DO", "CL", "GD", " ", "GY"};

183 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A4
 = {" ", "GT", "HN", "AW", " ", "MS", "TT", "PE", "SR", "UY", "KN", "LC", "SV", "HT", "VE", " "};

184 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A5
 = {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "MX", "VC", "MX", "MX", "MX/VG"};

185 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_A6
 = {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", "PM"};

186 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_F0
 = {" ", "AU", "AU", "AU", "AU", "AU", "AU", "AU", "AU", "SA", "AF", "MM", "CN", "KP", "BH", "MY"};

187 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_F1
 = {" ", "KI", "BT", "BD", "PK", "FJ", "OM", "NR", "IR", "NZ", "SB", "BN", "LK", "TW", "KR", "HK"};

188 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_F2
 = {" ", "KW", "QA", "KH", "WS", "IN", "MO", "VN", "PH", "JP", "SG", "MV", "ID", "AE", "NP", "VU"};

189 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_F3
 = {" ", "LA", "TH", "TO", " ", " ", " ", " ", " ", "PG", " ", "YE", " ", " ", "FM", "MN"};

190 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gecc_F4
 = {" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "};

193 
public
 
fš®
 
SŒšg
 
	$g‘ISOCouÁryCode
(
piCC
, 
ecc
) {

194 
ecc
) {

196 0xE0:  
ecc_E0
[
piCC
];

197 0xE1:  
ecc_E1
[
piCC
];

198 0xE2:  
ecc_E2
[
piCC
];

199 0xE3:  
ecc_E3
[
piCC
];

200 0xE4:  
ecc_E4
[
piCC
];

201 0xD0:  
ecc_D0
[
piCC
];

202 0xD1:  
ecc_D1
[
piCC
];

203 0xD2:  
ecc_D2
[
piCC
];

204 0xD3:  
ecc_D3
[
piCC
];

205 0xA0:  
ecc_A0
[
piCC
];

206 0xA1:  
ecc_A1
[
piCC
];

207 0xA2:  
ecc_A2
[
piCC
];

208 0xA3:  
ecc_A3
[
piCC
];

209 0xA4:  
ecc_A4
[
piCC
];

210 0xA5:  
ecc_A5
[
piCC
];

211 0xA6:  
ecc_A6
[
piCC
];

212 0xF0:  
ecc_F0
[
piCC
];

213 0xF1:  
ecc_F1
[
piCC
];

214 0xF2:  
ecc_F2
[
piCC
];

215 0xF3:  
ecc_F3
[
piCC
];

216 0xF4:  
ecc_F4
[
piCC
];

219 
	}
}

221 
public
 
fš®
 
SŒšg
 
	$g‘CouÁryName
(
piCC
, 
ecc
) {

222 
SŒšg
 
isoCC
 = 
	`g‘ISOCouÁryCode
(
piCC
, 
ecc
);

224 
Œy
 {

225 
LoÿË
 
loÿË
 = 
Ãw
 
	`LoÿË
("’", 
isoCC
);

226  
loÿË
.
	`g‘Di¥ÏyCouÁry
(
LoÿË
.
ENGLISH
);

227 } 
	`ÿtch
(
Exû±iÚ
 
e
) {

228  
isoCC
;

230 
	}
}

232 
public
 
fš®
 
	$ÿlcSyndrome
(
bloc
) {

233 
synd
 = 0;

234 
i
=0; i<26; i++) {

235 if((
bloc
 & 1è!ğ0è
synd
 ^ğ
m©H
[
i
];

236 
bloc
 >>= 1;

238  
synd
;

239 
	}
}

272 
´iv©e
 
fš®
 [] 
	gch¬m­
 = 
Ãw
 [] {

308 
public
 
	$toCh¬
(
code
) {

311  ()
code
;

312 
	}
}

314 
public
 
	gRDS_BITRATE
 = 1187.5f;

316 
public
 
	gSŒšg
[] 
	grdsPtyLab–s
 = {

351 
public
 
	gSŒšg
[] 
	grbdsPtyLab–s
 = {

	@rds/rds/core/Station.java

26 
·ckage
 
	grds
.
	gcÜe
;

27 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

28 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

29 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

30 
impÜt
 
	gjava
.
	gut
.
	gM­
;

31 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

33 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

40 
public
 
ab¡¿ù
 cÏs 
	cStiÚ
 {

41 
´Ùeùed
 
	mpi
;

42 
´Ùeùed
 
Text
 
	mps
 = 
Ãw
 Text(8);

43 
´Ùeùed
 
fš®
 
	mM­
<
	mIÁeg”
, 
	mAFLi¡
> 
	mafs
 = 
Ãw
 
HashM­
<
IÁeg”
, AFList>();

44 
´Ùeùed
 
AFLi¡
 
	mcu¼’tAFLi¡
 = 
nuÎ
;

45 
´Ùeùed
 
	m±y
 = 0;

46 
´Ùeùed
 
Text
 
	m±yn
 = 
Ãw
 Text(8);

47 
´iv©e
 
boŞ—n
 
	m
, 
	m
;

48 
´Ùeùed
 
SŒšg
 
	mpšText
 = "";

49 
´Ùeùed
 
RDSTime
 
	mtimeOfLa¡PI
 = 
nuÎ
;

60 
´Ùeùed
 
boŞ—n
 
	mrbds
 = 
çl£
;

63 
´Ùeùed
 
	$»£t
(
pi
) {

64 
this
.
pi
 =…i;

66 
ps
.
	`»£t
();

68 
afs
.
	`ş—r
();

69 
cu¼’tAFLi¡
 = 
nuÎ
;

73 
´Ùeùed
 
	$£tPI
(
pi
) {

74 
this
.
pi
 =…i;

75 
	}
}

77 
public
 
	$pšgPI
(
RDSTime
 
time
) {

78 
this
.
timeOfLa¡PI
 = 
time
;

79 
	}
}

81 
´Ùeùed
 
	$chªÃlToF»qu’cy
(
chªÃl
) {

82 if(
chªÃl
 >= 0 && channel <= 204)  875 + channel;

83 if(
chªÃl
 == 205)  -1;

85 
	}
}

87 
´Ùeùed
 
SŒšg
 
	$äequ’cyToSŒšg
(
äeq
) {

88 if(
äeq
 == 875)  "Illegal";

89 if(
äeq
 == 0)  "Unhandled";

90 if(
äeq
 == -1)  "None";

91  
SŒšg
.
	`fÜm©
("%d.%d", 
äeq
/10, freq%10);

92 
	}
}

94 
public
 
synchrÚized
 
SŒšg
 
	$addAFPaœ
(
a
, 
b
) {

95 if(
a
 >= 224 &&‡ <= 249) {

96 if(
b
 >= 0 && b <= 205) {

97 
cu¼’tAFLi¡
 = 
afs
.
	`g‘
(
b
);

98 if(
cu¼’tAFLi¡
 =ğ
nuÎ
) {

99 
cu¼’tAFLi¡
 = 
Ãw
 
	`AFLi¡
(
b
);

100 
afs
.
	`put
(
b
, 
cu¼’tAFLi¡
);

103  "AF: #" + (
a
-224è+ ", f»q=" + 
	`äequ’cyToSŒšg
(
cu¼’tAFLi¡
.
	`g‘T¿nsm™‹rF»qu’cy
());

106 if(
a
 >ğ0 &&‡ <ğ205 && 
b
 >= 0 && b <= 205) {

107 
SŒšg
 
»s
 = 
cu¼’tAFLi¡
 =ğ
nuÎ
 ?‚uÎ : cu¼’tAFLi¡.
	`addPaœ
(
a
, 
b
);

108 if(
»s
 =ğ
nuÎ
) {

112 
cu¼’tAFLi¡
 = 
Ãw
 
	`AFLi¡
(-1);

113 
»s
 = 
cu¼’tAFLi¡
.
	`addPaœ
(
a
, 
b
);

115  "AF: " + 
»s
;

116 }  "UnhªdËd AF…aœ: " + 
a
 + ", " + 
b
;

118 
	}
}

120 
public
 
synchrÚized
 
SŒšg
 
	$afsToSŒšg
() {

121 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

122 
i
 = 0;

123 
AFLi¡
 
l
 : 
afs
.
	`v®ues
()) {

124 
i
++;

125 if(
l
.
	`g‘T¿nsm™‹rF»qu’cy
() == 0) ;

126 
»s
.
	`­³nd
("AF ").­³nd(
l
);

127 if(
i
 < 
afs
.
	`size
()è
»s
.
	`­³nd
("\n");

130  
»s
.
	`toSŒšg
();

131 
	}
}

133 
public
 
Text
 
	$g‘PS
() {

134  
ps
;

135 
	}
}

137 
public
 
SŒšg
 
	$g‘StiÚName
() {

138  
ps
.
	`g‘Mo¡F»qu’tOrP¬tŸlText
();

139 
	}
}

171 
public
 
SŒšg
 
	$g‘DyÇmicPSmes§ge
() {

172 
Li¡
<
SŒšg
> 
msg
 = 
ps
.
	`g‘Pa¡Mes§ges
(
Œue
);

175 if(
msg
.
	`size
() == 0)  "";

177 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

178 
SŒšg
 
´ev
 = 
nuÎ
;

179 
i
=
msg
.
	`size
()-1; i>=0 && 
»s
.
	`Ëngth
() < 80; i--) {

180 
SŒšg
 
cu¼’t
 = 
msg
.
	`g‘
(
i
);

181 if(
´ev
 !ğ
nuÎ
 &&…»v.
	`sub¡ršg
(0, 6).
	`equ®s
(
cu¼’t
.substring(1, 7))) {

187 
»s
.
	`š£¹
(0, 
cu¼’t
.
	`ch¬At
(0));

191 
»s
.
	`š£¹
(0, 
cu¼’t
.
	`Œim
() + " ");

193 
´ev
 = 
cu¼’t
;

195  
»s
.
	`toSŒšg
();

196 
	}
}

204 
public
 
	$g‘PI
() {

205  
pi
;

206 
	}
}

209 
public
 
	$£tPTY
(
±y
) {

210 
this
.
±y
 =…ty;

211 
	}
}

213 
public
 
	$g‘PTY
() {

214  
±y
;

215 
	}
}

217 
public
 
Text
 
	$g‘PTYN
() {

218  
±yn
;

219 
	}
}

221 
public
 
SŒšg
 
	$g‘PTYÏb–
() {

222  (
rbds
 ? 
RDS
.
rbdsPtyLab–s
 : RDS.
rdsPtyLab–s
è[
±y
];

223 
	}
}

225 
public
 
SŒšg
 
	$addM­³dF»q
(
chªÃl
, 
m­³dChªÃl
) {

227  
nuÎ
;

228 
	}
}

230 
public
 
	$£tTP
(
boŞ—n
 

) {

231 
this
.

 =p;

232 
	}
}

234 
public
 
	$£tTA
(
boŞ—n
 

) {

235 
this
.

 =a;

236 
	}
}

238 
public
 
boŞ—n
 
	$g‘TP
() {

239  

;

240 
	}
}

242 
public
 
boŞ—n
 
	$g‘TA
() {

243  

;

244 
	}
}

247 
public
 
SŒšg
 
	$ŒafficInfoSŒšg
() {

248 if(

) {

249  "TP" + (

 ? " + TA" : "");

251 if(

)  "ON with TP";

254 
	}
}

256 
public
 
	$£tPIN
(
pš
) {

257 
day
 = (
pš
>>11) & 0x1F;

258 
hour
 = (
pš
>>6) & 0x1F;

259 
mš
 = 
pš
 & 0x3F;

260 
pšText
 = 
SŒšg
.
	`fÜm©
("D=%d, H=%02d:%02d", 
day
, 
hour
, 
mš
);

261 
	}
}

263 
public
 
SŒšg
 
	$g‘PINText
() {

264  
pšText
;

265 
	}
}

267 
public
 
SŒšg
 
	$g‘C®lsign
() {

268 if(
rbds
) {

269  
RBDSC®lsigns
.
	`ÿÎSign
(
this
.
pi
);

271  
nuÎ
;

273 
	}
}

276 şas 
	cAFLi¡
 {

277 
´iv©e
 
fš®
 
	mŒªsm™‹rF»qu’cy
;

278 
´iv©e
 
fš®
 
	mS‘
<
	mIÁeg”
> 
	mafs
 = 
Ãw
 
HashS‘
<
IÁeg”
>(24);

279 
´iv©e
 
	mm‘hod
 = '?';

281 
public
 
	$AFLi¡
(
Œªsm™‹rF»qu’cy
) {

282 
this
.
Œªsm™‹rF»qu’cy
 = 
StiÚ
.
	`chªÃlToF»qu’cy
(transmitterFrequency);

285 
public
 
	$g‘T¿nsm™‹rF»qu’cy
() {

286  
Œªsm™‹rF»qu’cy
;

287 
	}
}

289 
public
 
SŒšg
 
	$addPaœ
(
a
, 
b
) {

290 
fA
 = 
StiÚ
.
	`chªÃlToF»qu’cy
(
a
);

291 
fB
 = 
StiÚ
.
	`chªÃlToF»qu’cy
(
b
);

292 
SŒšg
 
ty³IfB
 = 
fA
 < 
fB
 ? "same" : "variant";

293 if(
fA
 =ğ
Œªsm™‹rF»qu’cy
 && fA > 0) {

294 
m‘hod
 = 'B';

295 if(
fB
 > 0è
afs
.
	`add
(fB);

296  "M‘hod B: " + 
StiÚ
.
	`äequ’cyToSŒšg
(
Œªsm™‹rF»qu’cy
è+ " -> " + StiÚ.äequ’cyToSŒšg(
fB
è+ " (" + 
ty³IfB
 + ")";

297 } if(
fB
 =ğ
Œªsm™‹rF»qu’cy
 && fB > 0) {

298 
m‘hod
 = 'B';

299 if(
fA
 > 0è
afs
.
	`add
(fA);

300  "M‘hod B: " + 
StiÚ
.
	`äequ’cyToSŒšg
(
Œªsm™‹rF»qu’cy
è+ " -> " + StiÚ.äequ’cyToSŒšg(
fA
è+ " (" + 
ty³IfB
 + ")";

301 } if(
fA
 > 0 || 
fB
 > 0){

302 if(
Œªsm™‹rF»qu’cy
 != 0) {

303 if(
m‘hod
 == 'B') {

310  
nuÎ
;

312 
m‘hod
 = 'A';

314 
SŒšg
 
»s
 = (
m‘hod
 == 'A' ? "Method A: " : "Unknown method: ");

315 if(
fA
 > 0) {

316 
afs
.
	`add
(
fA
);

317 
»s
 +ğ
StiÚ
.
	`äequ’cyToSŒšg
(
fA
) + " ";

319 if(
fB
 > 0) {

320 
afs
.
	`add
(
fB
);

321 
»s
 +ğ
StiÚ
.
	`äequ’cyToSŒšg
(
fB
);

323  
»s
;

325 
	}
}

327 
public
 
SŒšg
 
	$toSŒšg
() {

328 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
("Li¡[").
	`­³nd
(
m‘hod
).­³nd(", sz=").­³nd(
afs
.
	`size
()).append("]: ");

329 
»s
.
	`­³nd
(
StiÚ
.
	`äequ’cyToSŒšg
(
Œªsm™‹rF»qu’cy
)).append(" -> ");

330 
af
 : 
afs
) {

331 
»s
.
	`­³nd
(
StiÚ
.
	`äequ’cyToSŒšg
(
af
)).append(" ");

333  
»s
.
	`toSŒšg
();

334 
	}
}

	@rds/rds/core/StreamLevelDecoder.java

26 
·ckage
 
	grds
.
	gcÜe
;

27 
impÜt
 
	gjava
.
	gio
.
	gEOFExû±iÚ
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

29 
impÜt
 
	gjava
.
	gio
.
	gPrštSŒ—m
;

30 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

32 
impÜt
 
	grds
.
	gšput
.
	gB™R—d”
;

33 
impÜt
 
	grds
.
	gšput
.
	gGroupR—d”
;

34 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

35 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

36 
impÜt
 
	grds
.
	glog
.
	gSequ’tŸlTime
;

39 
public
 cÏs 
	cSŒ—mLev–Decod”
 
im¶em’ts
 
	mGroupR—d”
 {

40 
´iv©e
 
fš®
 
	mSYNC_THRESHOLD
 = 2;

41 
´iv©e
 
fš®
 
	mSYNC_CONFIRM_DURATION
 = 5;

42 
´iv©e
 
fš®
 
	mSYNC_LOSS_DURATION
 = 10;

44 
´iv©e
 
fš®
 
PrštSŒ—m
 
	mcÚsŞe
;

46 
´iv©e
 
fš®
 
B™R—d”
 
	m»ad”
;

47 
´iv©e
 
B™Inv”siÚ
 
	mšv”siÚ
 = B™Inv”siÚ.
AUTO
;

49 
´iv©e
 
	mblock
 = 0;

50 
´iv©e
 
	mblockCouÁ
 = 0;

51 
´iv©e
 
	mb™CouÁ
 = 0;

52 
´iv©e
 [] 
	mgroup
 = {0, 0, 0, 0};

53 
´iv©e
 
boŞ—n
 
	gsynûd
 = 
çl£
;

54 
´iv©e
 
	gnbOk
 = 0;

55 
´iv©e
 
	gboŞ—n
[] 
	gblocksOk
 = {
çl£
, false, false, false};

56 
´iv©e
 
	gnbUnsync
 = 0;

57 
´iv©e
 
	ggroupCouÁ
 = 0;

58 
´iv©e
 
	gb™Time
 = 0;

59 
´iv©e
 
boŞ—n
 
	gÃg©ivePŞ¬™y
 = 
çl£
;

60 
	g´iv©e
 @
Suµ»ssW¬nšgs
("unchecked"è
	gLškedLi¡
<
	gIÁeg”
> 
	gnbSyncAtOff£t
[][][] = 
Ãw
 
LškedLi¡
[26][4][2];

63 
public
 
	$SŒ—mLev–Decod”
(
PrštSŒ—m
 
cÚsŞe
, 
B™R—d”
 
»ad”
) {

64 
this
.
cÚsŞe
 = console;

66 
this
.
»ad”
 =„eader;

68 
	`”a£SyncA¼ay
(
nbSyncAtOff£t
);

69 
	}
}

71 
´iv©e
 
fš®
 
”a£SyncA¼ay
(
LškedLi¡
<
IÁeg”
> 
nbSyncAtOff£t
[][][]) {

72 
	gi
=0; i<
	gnbSyncAtOff£t
.
	gËngth
; i++)

73 
	gj
=0; j<
	gnbSyncAtOff£t
[
i
].
	gËngth
; j++)

74 
	gk
=0; k<
	gnbSyncAtOff£t
[
i
][
j
].
	gËngth
; k++)

75 
	gnbSyncAtOff£t
[
i
][
j
][
k
] = 
Ãw
 
LškedLi¡
<
IÁeg”
>();

78 @
Ov”ride


79 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

80 
Œue
) {

82 
boŞ—n
 
b™
 = 
çl£
;

83 
Œy
 {

84 
b™
 = 
»ad”
.
	`g‘B™
();

85 } 
	`ÿtch
(
EOFExû±iÚ
 
e
) {

86 
throw
 
Ãw
 
	`EndOfSŒ—m
();

88 
block
 = (block << 1) & 0x3FFFFFF;

89 if(
b™
è
block
 |= 1;

90 
b™CouÁ
++;

91 
b™Time
++;

93 if(! 
synûd
) {

94 [] 
synd
 = { 
RDS
.
	`ÿlcSyndrome
(
block
), RDS.calcSyndrome(~block) };

96 
cÚsŞe
.
	`´št
(".");

98 
i
=0; i<4; i++) {

99 
j
=0; j<2; j++) {

100 if(
j
==0 && 
šv”siÚ
 =ğ
B™Inv”siÚ
.
INVERT
 ||

101 
j
==1 && 
šv”siÚ
 =ğ
B™Inv”siÚ
.
NOINVERT
) ;

102 if(
synd
[
j
] =ğ
RDS
.
syndromes
[
i
][0] || synd[j] == RDS.syndromes[i][1]) {

103 
off£t
 = 
b™Time
 % 26;

104 
p£udoBlock
 = (
b™Time
 / 26 + 4 - 
i
) % 4;

106 
cÚsŞe
.
	`´št
("[" + (
j
==0 ? "+" : "-"è+ (()('A'+
i
)è+ ":" + 
off£t
 + "/" + 
p£udoBlock
 + "]");

109 
nbSyncAtOff£t
[
off£t
][
p£udoBlock
][
j
].
	`addLa¡
(
b™Time
);

112 
nbSyncAtOff£t
[
off£t
][
p£udoBlock
][
j
].
	`g‘Fœ¡
(è< 
b™Time
 - 
SYNC_CONFIRM_DURATION
 * 104)

113 
nbSyncAtOff£t
[
off£t
][
p£udoBlock
][
j
].
	`»moveFœ¡
();

116 if(
nbSyncAtOff£t
[
off£t
][
p£udoBlock
][
j
].
	`size
(è> 
SYNC_THRESHOLD
) {

117 
synûd
 = 
Œue
;

118 
	`”a£SyncA¼ay
(
nbSyncAtOff£t
);

120 
group
[
i
] = (
block
 >> 10) & 0xFFFF;

121 
blockCouÁ
 = (
i
+1) % 4;

122 
b™CouÁ
 = 0;

123 
nbOk
 = 1;

124 
k
=0; k<4; k++è
blocksOk
[k] = (k =ğ
i
);

125 
Ãg©ivePŞ¬™y
 = (
j
==1);

127 if(
Ãg©ivePŞ¬™y
è
group
[
i
] = ~ group[i];

129 
cÚsŞe
.
	`´šn
("\nGÙ synchrÚiz©iÚ oÀblock " + ()('A' + 
i
è+ "! (" + (
j
==0 ? "positive" : "negative") + "…olarity)");

130 
cÚsŞe
.
	`´št
(" ");

131 
k
=0; k<
i
; k++è
cÚsŞe
.
	`´št
(".");

132 
cÚsŞe
.
	`´št
("S");

133 if(
blockCouÁ
 =ğ0è
cÚsŞe
.
	`´šn
();

141 if(
b™CouÁ
 == 26) {

142 if(
Ãg©ivePŞ¬™y
è
block
 = ~block;

143 
group
[
blockCouÁ
] = (
block
>>10) & 0xFFFF;

144 
synd
 = 
RDS
.
	`ÿlcSyndrome
(
block
);

146 if(
synd
 =ğ
RDS
.
syndromes
[
blockCouÁ
][0] || synd == RDS.syndromes[blockCount][1]) {

147 
nbOk
++;

148 
blocksOk
[
blockCouÁ
] = 
Œue
;

149 if(
synd
 =ğ
RDS
.
syndromes
[
blockCouÁ
][0]è
cÚsŞe
.
	`´št
("G");

150 
cÚsŞe
.
	`´št
("g");

152 
blocksOk
[
blockCouÁ
] = 
çl£
;

153 
group
[
blockCouÁ
] = -1;

154 
cÚsŞe
.
	`´št
(".");

175 
b™CouÁ
 = 0;

176 
blockCouÁ
++;

179 if(
blockCouÁ
 > 3) {

180 
cÚsŞe
.
	`´št
(" ");

181 
groupCouÁ
++;

183 
blockCouÁ
 = 0;

185 if(
nbOk
 > 0è
nbUnsync
 = 0; nbUnsync++;

188 if(
nbUnsync
 > 
SYNC_LOSS_DURATION
) {

189 
synûd
 = 
çl£
;

192 
cÚsŞe
.
	`´šn
(" Lost synchronization.");

202 
nbOk
 = 0;

205 [] 
theGroup
 = 
Ãw
 [4];

206 
Sy¡em
.
	`¬¿ycİy
(
group
, 0, 
theGroup
, 0, 4);

207  
Ãw
 
	`GroupEv’t
Òew 
	`Sequ’tŸlTime
(
b™Time
), 
theGroup
, 
çl£
);

213 
	}
}

215 
public
 
	$fÜûInv”siÚ
(
B™Inv”siÚ
 
šv”siÚ
) {

216 
this
.
šv”siÚ
 = inversion;

217 
	}
}

220 
public
 
	eB™Inv”siÚ
 {

221 
	gAUTO
, 
	gINVERT
, 
	gNOINVERT
;

	@rds/rds/core/Text.java

26 
·ckage
 
	grds
.
	gcÜe
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

30 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

31 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

32 
impÜt
 
	gjava
.
	gut
.
	gM­
;

34 
public
 cÏs 
	cText
 {

36 
´iv©e
 
fš®
 [] 
	mcu¼’tText
;

37 
´iv©e
 
	mcu¼’tFÏgs
 = 0;

38 
´iv©e
 
fš®
 
	mLi¡
<
	mSŒšg
> 
	mmes§ges
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

39 
´iv©e
 
	mÏ‹¡
 = -1;

40 
´iv©e
 
boŞ—n
 
	mem±y
;

41 
´iv©e
 
	mcu¼’tTicks
;

42 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mtickHi¡Üy
 = 
Ãw
 
HashM­
<
SŒšg
, Integer>();

43 
´iv©e
 
	mcu¼’tIndex
 = 0;

44 
´iv©e
 
	mÏ‹¡Pos
 = -1, 
	mÏ‹¡L’
 = -1;

46 
public
 
	$Text
(
size
) {

47 
cu¼’tText
 = 
Ãw
 [
size
];

48 
	`»£t
();

51 
public
 
	$£tCh¬s
(
pos™iÚ
, ... 
ch¬aù”s
) {

52 
i
 = 0; i < 
ch¬aù”s
.
Ëngth
; i++) {

55 if(
ch¬aù”s
[
i
] == 0) ;

57 if(
cu¼’tText
[
pos™iÚ
 * 
ch¬aù”s
.
Ëngth
 + 
i
] != '\0' &&

58 
ch¬aù”s
[
i
] !ğ
cu¼’tText
[
pos™iÚ
 * ch¬aù”s.
Ëngth
 + i]) {

60 if(!
em±y
) {

61 
SŒšg
 
mes§ge
;

71 
mes§ge
 = 
	`toSŒšg
();

72 
ªdroid
.
ut
.
Log
.
	`i
("Text",

73 "gÙ‡‚ew sŒšg: " + 
mes§ge
);

75 
mes§ges
.
	`add
(
mes§ge
);

76 
cu¼’tIndex
++;

78 
IÁeg”
 
´ev
 = 
tickHi¡Üy
.
	`g‘
(
mes§ge
);

79 
tickHi¡Üy
.
	`put
(
mes§ge
, 
cu¼’tTicks
 + (
´ev
 =ğ
nuÎ
 ? 0 :…rev));

82 
	`»£t
();

88 
	`£tCh¬s
(
cu¼’tText
, 
pos™iÚ
, 
ch¬aù”s
);

91 
	}
}

93 
public
 
	$£tFÏg
(
abFÏg
) {

94 
cu¼’tFÏgs
 |ğ(1 << 
abFÏg
);

95 
Ï‹¡
 = 
abFÏg
;

96 
	}
}

98 
public
 
	$»£t
() {

99 
A¼ays
.
	`fl
(
cu¼’tText
, '\0');

100 
em±y
 = 
Œue
;

101 
cu¼’tTicks
 = 0;

102 
	}
}

105 
public
 
	gby‹
[] 
	$g‘RawBy‹s
() {

106 if(
em±y
è 
nuÎ
;

108 
by‹
[] 
by‹s
 = 
Ãw
 by‹[
cu¼’tText
.
Ëngth
];

109 
A¼ays
.
	`fl
(
by‹s
, (
by‹
)0);

111 
j
 = 0;

112 ; 
j
<
cu¼’tText
.
Ëngth
; j++) {

113 if(
cu¼’tText
[
j
] == 0x0D)

116 if(
cu¼’tText
[
j
] == 0) {

117 
by‹s
[
j
] = 0x20;

120 
by‹s
[
j
] = (
by‹
)
cu¼’tText
[j];

123 if(0 =ğ
j
è 
nuÎ
;

125 
by‹
[] 
»suÉ
 = 
Ãw
 by‹[
j
];

126 
i
=0; i<
j
;i++) {

127 
»suÉ
[
i
] = (
by‹
)(
by‹s
[i] & 0xFF);

128 
ªdroid
.
ut
.
Log
.
	`i
("Text", "hex bytes: " +

129 
IÁeg”
.
	`toHexSŒšg
(
»suÉ
[
i
]));

132  
»suÉ
;

133 
	}
}

135 
public
 
SŒšg
 
	$toSŒšg
() {

136 if(
em±y
è 
nuÎ
;

138 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

140 
j
=0; j<
cu¼’tText
.
Ëngth
; j++) {

141 if(
cu¼’tText
[
j
] == 0x0D) ;

142 if(
cu¼’tText
[
j
] =ğ0è
»s
.
	`­³nd
(" ");

143 if(
cu¼’tText
[
j
] >ğ32è
»s
.
	`­³nd
(currentText[j]);

144 
»s
.
	`­³nd
('<').­³nd(
IÁeg”
.
	`toSŒšg
(
cu¼’tText
[
j
], 16)).append('>');

147 
ªdroid
.
ut
.
Log
.
	`i
("Text", "toSŒšg: " + 
»s
.
	`toSŒšg
());

148  
»s
.
	`toSŒšg
();

149 
	}
}

160 
public
 
SŒšg
 
	$toSŒšgW™hHighlight
() {

161 if(
em±y
è 
nuÎ
;

163 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
(
	`toSŒšg
());

164 
sb
.
	`Ëngth
(è< 64èsb.
	`­³nd
(' ');

165 
SŒšg
 
s
 = 
sb
.
	`toSŒšg
();

167 
SŒšgBud”
 
»s
 = 
Ãw
 
	`SŒšgBud”
("<html>");

168 
»s
.
	`­³nd
(
s
.
	`sub¡ršg
(0, 
Ï‹¡Pos
 * 
Ï‹¡L’
));

169 
»s
.
	`­³nd
("<font color=blue>");

170 
»s
.
	`­³nd
(
s
.
	`sub¡ršg
(
Ï‹¡Pos
 * 
Ï‹¡L’
, (latestPos+1)*latestLen));

171 
»s
.
	`­³nd
("</fÚt>").­³nd(
s
.
	`sub¡ršg
((
Ï‹¡Pos
+1)*
Ï‹¡L’
));

172 
»s
.
	`­³nd
("</html>");

174  
»s
.
	`toSŒšg
().
	`»¶aûAÎ
("\\s", "&nbsp;");

175 
	}
}

177 
public
 
	$g‘FÏgs
() {

178  
Ï‹¡
;

179 
	}
}

181 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘Pa¡Mes§ges
(
boŞ—n
 
šşudšgCu¼’t
) {

182 if(!
šşudšgCu¼’t
 || 
em±y
)

183  
mes§ges
;

185 
Li¡
<
SŒšg
> 
l
 = 
Ãw
 
A¼ayLi¡
<SŒšg>(
mes§ges
);

186 
l
.
	`add
(
	`toSŒšg
());

187  
l
;

189 
	}
}

191 
´iv©e
 
	$£tCh¬s
([] 
‹xt
, 
pos™iÚ
, ... 
ch¬aù”s
) {

192 
i
=0; i<
ch¬aù”s
.
Ëngth
; i++) {

193 if(
ch¬aù”s
[
i
] != 0)

194 
‹xt
[
pos™iÚ
 * 
ch¬aù”s
.
Ëngth
 + 
i
] = characters[i];

196 
cu¼’tTicks
++;

197 
em±y
 = 
çl£
;

198 
Ï‹¡Pos
 = 
pos™iÚ
;

199 
Ï‹¡L’
 = 
ch¬aù”s
.
Ëngth
;

200 
	}
}

202 
public
 
boŞ—n
 
	$isCom¶‘e
() {

203 
i
=0; i<
cu¼’tText
.
Ëngth
; i++) {

206 if(
cu¼’tText
[
i
] == '\0') {

208 
j
=1; j<=
i
; j++) {

209 if(0x0d =ğ
cu¼’tText
[
i
-
j
]) {

210  
Œue
;

213  
çl£
;

217  
Œue
;

218 
	}
}

220 
public
 
SŒšg
 
	$g‘Mo¡F»qu’tText
() {

221 
SŒšg
 
má
 = 
	`isCom¶‘e
(è? 
	`toSŒšg
() : "";

222 
máOcc
 = 0;

224 
M­
.
EÁry
<
SŒšg
, 
IÁeg”
> 
e
 : 
tickHi¡Üy
.
	`’ŒyS‘
()) {

225 if(
e
.
	`g‘V®ue
(è> 
máOcc
) {

226 
máOcc
 = 
e
.
	`g‘V®ue
();

227 
má
 = 
e
.
	`g‘Key
();

231  
má
;

232 
	}
}

240 
public
 
SŒšg
 
	$g‘Mo¡F»qu’tOrP¬tŸlText
() {

241 
SŒšg
 
‹xt
 = 
	`g‘Mo¡F»qu’tText
();

242 if(
‹xt
.
	`Ëngth
(è=ğ0è‹xˆğ
	`toSŒšg
();

243 if(
‹xt
 =ğ
nuÎ
)ext = "";

244  
‹xt
;

245 
	}
}

247 
public
 
SŒšg
 
	$g‘L©e¡Com¶‘eOrP¬tŸlText
() {

248 if(
	`isCom¶‘e
()) {

249  
	`toSŒšg
();

250 } if(
mes§ges
.
	`size
()>0) {

251  
mes§ges
.
	`g‘
(mes§ges.
	`size
()-1);

253 
SŒšg
 
t
 = 
	`toSŒšg
();

254 if(
t
 !ğ
nuÎ
) ;  "";

257 
	}
}

259 
public
 
	$g‘Cu¼’tIndex
() {

260  
cu¼’tIndex
;

261 
	}
}

	@rds/rds/core/TunedStation.java

26 
·ckage
 
	grds
.
	gcÜe
;

27 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

30 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

31 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

32 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

33 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

34 
impÜt
 
	gjava
.
	gut
.
	gM­
;

35 
impÜt
 
	gjava
.
	gut
.
	gSÜ‹dM­
;

36 
impÜt
 
	gjava
.
	gut
.
	gT»eM­
;

38 
impÜt
 
	grds
.
	g­p
.
	gAµliÿtiÚ
;

39 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

42 
public
 cÏs 
	cTuÃdStiÚ
 
ex‹nds
 
	mStiÚ
 {

43 
´iv©e
 
	mSÜ‹dM­
<
	mIÁeg”
, 
	mStiÚ
> 
	mÙh”N‘wÜks
;

44 
´iv©e
 [][] 
	mgroupSts
 = 
Ãw
 [17][2];

45 
´iv©e
 
D©e
 
	md©e
 = 
nuÎ
;

46 
´iv©e
 
SŒšg
 
	md©‘ime
 = "";

47 
´iv©e
 
RDSTime
 
	m¡»amTimeFÜD©e
 = 
nuÎ
;

48 
´iv©e
 
	mAµliÿtiÚ
[] 
	m­¶iÿtiÚs
 = 
Ãw
 
AµliÿtiÚ
[32];

49 
´iv©e
 
	mLi¡
<
	mAµliÿtiÚ
> 
	m­¶iÿtiÚLi¡
 = 
Ãw
 
A¼ayLi¡
<
AµliÿtiÚ
>();

50 
´iv©e
 
boŞ—n
 
	mdiS‹»o
, 
	mdiA¹if
, 
	mdiCom´es£d
, 
	mdiDPTY
;

51 
´iv©e
 
	mtÙ®Blocks
, 
	mtÙ®BlocksOk
;

52 
´iv©e
 [] 
	mÏ‹¡BlocksOk
 = 
Ãw
 [25];

53 
´iv©e
 
	mÏ‹¡BlocksOkPŒ
 = 0;

54 
´iv©e
 
	mÏ‹¡BlocksOkCouÁ
 = 0;

55 
´iv©e
 
	mecc
, 
	mÏnguage
;

56 
´iv©e
 
Text
 
	m¹
 = 
Ãw
 Text(64);

59 
´iv©e
 
Text
 
	m¹B
 = 
Ãw
 Text(64);

62 
´iv©e
 
fš®
 
	mLi¡
<
	mSŒšg
> 
	mŒafficEv’ts
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

64 
´iv©e
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	modas
 = 
Ãw
 
HashM­
<
IÁeg”
, Integer>();

65 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mAµliÿtiÚ
> 
	modaAµs
 = 
Ãw
 
HashM­
<
IÁeg”
, Application>();

68 
public
 
	$TuÃdStiÚ
(
pi
, 
RDSTime
 
time
) {

69 
	`»£t
(
pi
);

70 
	`pšgPI
(
time
);

73 
public
 
	$TuÃdStiÚ
(
RDSTime
 
time
) {

74 
	`this
(0, 
time
);

75 
	}
}

78 
´Ùeùed
 
	$»£t
(
pi
) {

79 
su³r
.
	`»£t
(
pi
);

82 
¹
.
	`»£t
();

85 
¹B
.
	`»£t
();

88 
	`synchrÚized
(
this
) {

89 
Ùh”N‘wÜks
 = 
Ãw
 
T»eM­
<
IÁeg”
, 
StiÚ
>();

92 
i
=0; i<16; i++)

93 
j
=0; j<2; j++)

94 
groupSts
[
i
][
j
] = 0;

96 
d©e
 = 
nuÎ
;

98 
i
=0; i<
groupSts
.
Ëngth
; i++)

99 
j
=0; j<2; j++)

100 
groupSts
[
i
][
j
] = 0;

101 
tÙ®Blocks
 = 0;

102 
tÙ®BlocksOk
 = 0;

104 
­¶iÿtiÚs
 = 
Ãw
 
AµliÿtiÚ
[32];

105 
	}
}

108 
public
 
SŒšg
 
	$toSŒšg
() {

109 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

111 
»s
.
	`­³nd
(
SŒšg
.
	`fÜm©
("PI=%04X StiÚ‚ame=\"%s\" PS=\"%s\" Time=%s", 
pi
, 
	`g‘StiÚName
(), 
ps
.
	`toSŒšg
(), 
timeOfLa¡PI
.toString()));

113 
»s
.
	`­³nd
(
SŒšg
.
	`fÜm©
("\nRT A = \"%s\"", 
¹
.
	`toSŒšg
()));

115 
»s
.
	`­³nd
(
SŒšg
.
	`fÜm©
("\nRT B = \"%s\"", 
¹B
.
	`toSŒšg
()));

118 
	`synchrÚized
(
this
) {

119 
StiÚ
 
Ú
 : 
Ùh”N‘wÜks
.
	`v®ues
()è
»s
.
	`­³nd
("\nON: ").append(on);

123 
»s
.
	`­³nd
("\n").­³nd(
	`afsToSŒšg
());

127 
»s
.
	`­³nd
("\n" + 
	`groupSts
());

129 if(
d©e
 !ğ
nuÎ
è
»s
.
	`­³nd
("\nLatest CT: " + date);

131 
»s
.
	`­³nd
("\nPTY: " + 
±y
 + " -> " + 
	`g‘PTYÏb–
());

132 if(
±yn
 !ğ
nuÎ
è
»s
.
	`­³nd
(", PTYN=" +…tyn);

134 
»s
.
	`­³nd
("\nDI: ")

135 .
	`­³nd
(!
diS‹»o
 ? "Mono" : "Stereo").append(", ")

136 .
	`­³nd
(!
diA¹if
 ? "Not‡rtificial head" : "Artificial head").append(", ")

137 .
	`­³nd
(!
diCom´es£d
 ? "Not compressed" : "Compressed").append(", ")

138 .
	`­³nd
(!
diDPTY
 ? "Static PTY" : "Dynamic PTY")

139 .
	`­³nd
("\n");

141 if(
ecc
 != 0) {

142 
»s
.
	`­³nd
("CouÁry: " + 
RDS
.
	`g‘ISOCouÁryCode
((
pi
>>12)&0xF, 
ecc
)).append("\n");

145 if(
Ïnguage
 < 
RDS
.
Ïnguages
.
Ëngth
è
»s
.
	`­³nd
("Language: ").append(RDS.languages[language][0]).append("\n");

148  
»s
.
	`toSŒšg
();

149 
	}
}

151 
public
 
SŒšg
 
	$groupSts
() {

152 
SŒšgBufãr
 
»s
 = 
Ãw
 
	`SŒšgBufãr
();

153 
i
=0; i<16; i++)

154 
j
=0; j<2; j++)

155 if(
groupSts
[
i
][
j
] > 0è
»s
.
	`­³nd
(
SŒšg
.
	`fÜm©
("%d%c: %d, ", i, ()('A' + j), groupStats[i][j]));

156 
»s
.
	`­³nd
("U: " + 
groupSts
[16][0]);

157  
»s
.
	`toSŒšg
();

158 
	}
}

160 
public
 [][] 
	$num”icGroupSts
() {

161  
groupSts
;

162 
	}
}

164 
public
 
RDSTime
 
	$g‘TimeOfLa¡PI
() {

165  
timeOfLa¡PI
;

166 
	}
}

168 
public
 
	$addGroupToSts
(
ty³
, 
v”siÚ
, 
nbOk
) {

175 
groupSts
[
ty³
][
v”siÚ
]++;

176 
tÙ®Blocks
 += 4;

177 
tÙ®BlocksOk
 +ğ
nbOk
;

179 
Ï‹¡BlocksOk
[
Ï‹¡BlocksOkPŒ
] = 
nbOk
;

180 
Ï‹¡BlocksOkPŒ
 = (Ï‹¡BlocksOkPŒ + 1è% 
Ï‹¡BlocksOk
.
Ëngth
;

181 if(
Ï‹¡BlocksOkCouÁ
 < 
Ï‹¡BlocksOk
.
Ëngth
)†atestBlocksOkCount++;

182 
	}
}

184 
public
 
	$addUnknownGroupToSts
(
nbOk
) {

185 
	`addGroupToSts
(16, 0, 
nbOk
);

186 
	}
}

194 
public
 
	$g‘BLER
() {

195 
bOk
 = 0;

196 
i
=0; i<
Ï‹¡BlocksOkCouÁ
; i++è
bOk
 +ğ
Ï‹¡BlocksOk
[i];

197  1. - (()
bOk
è/ (4*
Ï‹¡BlocksOkCouÁ
);

198 
	}
}

200 
public
 
	$£tAµliÿtiÚFÜGroup
(
ty³
, 
v”siÚ
, 
AµliÿtiÚ
 
­p
) {

201 
­¶iÿtiÚs
[(
ty³
<<1è| 
v”siÚ
] = 
­p
;

202 
­¶iÿtiÚLi¡
.
	`add
(
­p
);

203 
	}
}

205 
public
 
AµliÿtiÚ
 
	$g‘AµliÿtiÚFÜGroup
(
ty³
, 
v”siÚ
) {

206  
­¶iÿtiÚs
[(
ty³
<<1è| 
v”siÚ
];

207 
	}
}

209 
public
 
	gLi¡
<
	gAµliÿtiÚ
> 
	$g‘AµliÿtiÚs
() {

210  
­¶iÿtiÚLi¡
;

211 
	}
}

213 
public
 
	$£tD©e
(
D©e
 
d©e
, 
SŒšg
 
d©‘ime
, 
RDSTime
 
¡»amTime
) {

214 
this
.
d©e
 = date;

215 
this
.
d©‘ime
 = datetime;

216 
this
.
¡»amTimeFÜD©e
 = 
¡»amTime
;

217 
	}
}

219 
public
 
SŒšg
 
	$g‘D©eTime
() {

220  
d©‘ime
;

221 
	}
}

223 
public
 
synchrÚized
 
	$addON
(
StiÚ
 
Ú
) {

224 
Ùh”N‘wÜks
.
	`put
(
Ú
.
	`g‘PI
(), on);

225 
	}
}

227 
public
 
synchrÚized
 
StiÚ
 
	$g‘ON
(
Úpi
) {

228  
Ùh”N‘wÜks
.
	`g‘
(
Úpi
);

229 
	}
}

231 
public
 
synchrÚized
 
	$g‘ONcouÁ
() {

232  
Ùh”N‘wÜks
.
	`size
();

233 
	}
}

235 
public
 
synchrÚized
 
StiÚ
 
	$g‘ONbyIndex
(
idx
) {

236 
i
 = 0;

237 
StiÚ
 
s
 : 
Ùh”N‘wÜks
.
	`v®ues
()) {

238 if(
i
 =ğ
idx
è 
s
;

239 
i
++;

241  
nuÎ
;

242 
	}
}

244 
public
 
Text
 
	$g‘RT
() {

245  
¹
;

246 
	}
}

249 
public
 
Text
 
	$g‘RTV”siÚB
() {

250  
¹B
;

251 
	}
}

254 
public
 
	$£tDIb™
(
addr
, 
boŞ—n
 
diInfo
, 
PrštWr™”
 
cÚsŞe
) {

255 
cÚsŞe
.
	`´št
("DI:");

256 
addr
) {

257 3: 
cÚsŞe
.
	`´št
(
diInfo
 ? "S‹r" : "MÚo"); 
diS‹»o
 = diInfo; ;

258 2: 
cÚsŞe
.
	`´št
(
diInfo
 ? "A¹H" : "NArH"); 
diA¹if
 = diInfo; ;

259 1: 
cÚsŞe
.
	`´št
(
diInfo
 ? "Comp" : "NCmp"); 
diCom´es£d
 = diInfo; ;

260 0: 
cÚsŞe
.
	`´št
(
diInfo
 ? "DPTY" : "SPTY"); 
diDPTY
 = diInfo; ;

262 
cÚsŞe
.
	`´št
(", ");

263 
	}
}

265 
public
 
	$g‘TÙ®Blocks
() {

266  
tÙ®Blocks
;

267 
	}
}

269 
public
 
	$g‘TÙ®BlocksOk
() {

270  
tÙ®BlocksOk
;

271 
	}
}

273 
public
 
	$£tECC
(
ecc
) {

274 
this
.
ecc
 =ƒcc;

277 
this
.
rbds
 = 
ecc
 == 0xA0 ||

278 
ecc
 =ğ0xA1 && 
pi
 < 0xF000 ||

279 
ecc
 == 0xA5;

280 
	}
}

282 
public
 
	$g‘ECC
() {

283  
ecc
;

284 
	}
}

286 
public
 
	$£tLªguage
(
Ïng
) {

287 
this
.
Ïnguage
 = 
Ïng
;

288 
	}
}

290 
public
 
	$g‘Lªguage
() {

291  
Ïnguage
;

292 
	}
}

294 
public
 
D©e
 
	$g‘R—lTimeFÜSŒ—mTime
(
RDSTime
 
time
) {

295 if(
time
 =ğ
nuÎ
) ‚ull;

296  
time
.
	`g‘R—lTime
(
¡»amTimeFÜD©e
, 
d©e
);

297 
	}
}

299 
public
 
boŞ—n
 
	$g‘S‹»o
() {

300  
diS‹»o
;

301 
	}
}

303 
public
 
boŞ—n
 
	$g‘A¹ificŸlH—d
() {

304  
diA¹if
;

305 
	}
}

307 
public
 
boŞ—n
 
	$g‘Com´es£d
() {

308  
diCom´es£d
;

309 
	}
}

311 
public
 
boŞ—n
 
	$g‘DPTY
() {

312  
diDPTY
;

313 
	}
}

315 
public
 
	$£tODA
(
aid
, 
group
, 
AµliÿtiÚ
 
­p
) {

316 
odas
.
	`put
(
aid
, 
group
);

317 
odaAµs
.
	`put
(
aid
, 
­p
);

318 
	}
}

320 
public
 
	gCŞËùiÚ
<
	gIÁeg”
> 
	$g‘ODAs
() {

321  
odas
.
	`keyS‘
();

322 
	}
}

324 
public
 
	$g‘ODAgroup
(
aid
) {

325  
odas
.
	`g‘
(
aid
);

326 
	}
}

328 
public
 
AµliÿtiÚ
 
	$g‘ODA­¶iÿtiÚ
(
aid
) {

329  
odaAµs
.
	`g‘
(
aid
);

330 
	}
}

332 
public
 
SŒšg
 
	$g‘Com·ùGroupSts
() {

333 
SŒšgBud”
 
b
 = 
Ãw
 
	`SŒšgBud”
();

334 
Li¡
<
GroupStEËm’t
> 
groups
 = 
Ãw
 
A¼ayLi¡
<GroupStatElement>(32);

335 
g
 = 0; g<16; g++) {

336 
v
=0; v<2; v++) {

337 if(
groupSts
[
g
][
v
] > 0) {

338 
groups
.
	`add
(
Ãw
 
	`GroupStEËm’t
(
g
, 
v
, 
groupSts
[g][v]));

343 
CŞËùiÚs
.
	`sÜt
(
groups
);

344 
GroupStEËm’t
 
g
 : 
groups
) {

345 
g
.
	`­³nd
(
b
).append(' ');

348  
b
.
	`toSŒšg
();

349 
	}
}

351 
public
 
	$addT¿fficEv’t
(
RDSTime
 
time
, 
SŒšg
 
desütiÚ
) {

352 
this
.
ŒafficEv’ts
.
	`add
(
time
 + ": " + 
desütiÚ
);

353 
	}
}

355 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘T¿fficEv’tsLi¡
() {

356  
ŒafficEv’ts
;

357 
	}
}

361 
şass
 
GroupStEËm’t
 
im¶em’ts
 
	gCom·¿bË
<
	gGroupStEËm’t
> {

362 
´iv©e
 
fš®
 
	ggroup
;

363 
´iv©e
 
fš®
 
	ggroupV”siÚ
;

364 
´iv©e
 
fš®
 
	gcouÁ
;

366 
public
 
GroupStEËm’t
(
group
, 
groupV”siÚ
, 
couÁ
) {

367 
	gthis
.
	ggroup
 = 
group
;

368 
	gthis
.
	ggroupV”siÚ
 = 
groupV”siÚ
;

369 
	gthis
.
	gcouÁ
 = 
couÁ
;

372 @
Ov”ride


373 
public
 
com·»To
(
GroupStEËm’t
 
o
) {

374  
	go
.
	gcouÁ
 - count;

377 
public
 
SŒšgBud”
 
­³nd
(SŒšgBud” 
b
) {

378 
	gb
.
­³nd
(
group
).­³nd(
groupV”siÚ
 == 0 ? 'A' : 'B');

379  
	gb
;

	@rds/rds/input/BinStringFileBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gEOFExû±iÚ
;

29 
impÜt
 
	gjava
.
	gio
.
	gFe
;

30 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

31 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

32 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

33 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

35 
public
 cÏs 
	cBšSŒšgFeB™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

36 
´iv©e
 
fš®
 
IÅutSŒ—m
 
	mi¤
;

38 
public
 
	$BšSŒšgFeB™R—d”
(
Fe
 
f
è
throws
 
FeNÙFoundExû±iÚ
 {

39 
i¤
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f
);

42 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

43 
Œue
) {

44 
c
 = 
i¤
.
	`»ad
();

45 
c
) {

46 '0':  
çl£
;

47 '1':  
Œue
;

48 -1: 
throw
 
Ãw
 
	`EOFExû±iÚ
();

51 
	}
}

	@rds/rds/input/BinaryFileBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

27 
impÜt
 
	gjava
.
	gio
.
	gEOFExû±iÚ
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

30 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

31 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

35 
public
 cÏs 
	cBš¬yFeB™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

36 
´iv©e
 
fš®
 
IÅutSŒ—m
 
	mi¤
;

37 
´iv©e
 
	moù
;

38 
´iv©e
 
	moùPŒ
;

40 
public
 
	$Bš¬yFeB™R—d”
(
Fe
 
f
è
throws
 
FeNÙFoundExû±iÚ
 {

41 
i¤
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f
);

42 
où
 = 0;

43 
oùPŒ
 = 0;

47 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

48 
où
 = oct<<1;

50 if(
oùPŒ
==0) {

51 
où
 = 
i¤
.
	`»ad
();

52 if(
où
 == -1) {

53 
throw
 
Ãw
 
	`EOFExû±iÚ
();

55 
oùPŒ
=8;

58 
oùPŒ
--;

59  (
où
&128) != 0;

60 
	}
}

	@rds/rds/input/BitReader.java

26 
·ckage
 
	grds
.
	gšput
;

27 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

30 
public
 
š‹rçû
 
B™R—d”
 
ex‹nds
 
	gRDSR—d”
 {

31 
public
 
boŞ—n
 
g‘B™
(è
throws
 
	gIOExû±iÚ
;

	@rds/rds/input/DumpFileBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

27 
impÜt
 
	gjava
.
	gio
.
	gFe
;

28 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

29 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

30 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

31 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

33 
impÜt
 
	gjava
.
	gio
.
	gOuutSŒ—m
;

36 
public
 cÏs 
	cDumpFeB™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

37 
´iv©e
 
fš®
 
IÅutSŒ—m
 
	mis
;

38 
´iv©e
 
	mnibbË
;

39 
´iv©e
 
	mnibbËPŒ
;

40 
´iv©e
 
fš®
 
OuutSŒ—m
 
	mos
;

41 
´iv©e
 
boŞ—n
 
	mlogOn
 = 
Œue
;

43 
public
 
	$£tLogOn
() {

44 
logOn
 = 
Œue
;

47 
public
 
	$£tLogOff
() {

48 
logOn
 = 
çl£
;

49 
	}
}

51 
public
 
	$DumpFeB™R—d”
(
Fe
 
f
, F
of
è
throws
 
FeNÙFoundExû±iÚ
 {

52 
is
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f
);

53 if(
of
 !ğ
nuÎ
è
os
 = 
Ãw
 
	`FeOuutSŒ—m
(of); os =‚ull;

54 
nibbË
 = 0;

55 
nibbËPŒ
 = 0;

56 
	}
}

58 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

59 
nibbË
 =‚ibble<<1;

61 if(
nibbËPŒ
==0) {

63 
nibbË
 = 
IÁeg”
.
MAX_VALUE
;

64 
c
 = 
is
.
	`»ad
();

65 if(
logOn
 && 
os
 !ğ
nuÎ
 && 
c
 !ğ-1èos.
	`wr™e
(c);

71 if(
c
>='0' && c<='9'è
nibbË
 = c - '0';

72 if(
c
>='A' && c<='F'è
nibbË
 = c - 'A' + 10;

73 } 
nibbË
 =ğ
IÁeg”
.
MAX_VALUE
);

75 
nibbËPŒ
=4;

78 
nibbËPŒ
--;

79  (
nibbË
&8) == 0;

80 
	}
}

	@rds/rds/input/GroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

30 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

32 
public
 
š‹rçû
 
GroupR—d”
 
ex‹nds
 
	gRDSR—d”
 {

33 
public
 
GroupR—d”Ev’t
 
g‘Group
(è
throws
 
	gIOExû±iÚ
, 
	gEndOfSŒ—m
;

35 
public
 şas 
	cEndOfSŒ—m
 
ex‹nds
 
	gExû±iÚ
 {

36 
´iv©e
 
fš®
 
	g£rŸlV”siÚUID
 = 6092870197242888300L;

	@rds/rds/input/HexFileGroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

29 
impÜt
 
	gjava
.
	gio
.
	gFe
;

30 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

31 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

32 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

33 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

34 
impÜt
 
	gjava
.
	gÃt
.
	gURL
;

35 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

36 
impÜt
 
	gjava
.
	gut
.
	gG»gÜŸnC®’d¬
;

37 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

38 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

40 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

41 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

42 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

43 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

44 
impÜt
 
	grds
.
	glog
.
	gSequ’tŸlTime
;

45 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

47 
public
 cÏs 
	cHexFeGroupR—d”
 
im¶em’ts
 
	mGroupR—d”
 {

48 
´iv©e
 
fš®
 
P©‹º
 
	mFIRST_NUMBER
 = P©‹º.
compe
(".*\\D(\\d+)");

49 
´iv©e
 
fš®
 
P©‹º
 
	mRDS_SPY_DATE_FORMAT
 =

50 
P©‹º
.
compe
(".*@(\\d{4})/(\\d{2})/(\\d{2})\\s+(\\d{2}):(\\d{2}):(\\d{2}).(\\d{2,4})$");

51 
´iv©e
 
fš®
 
Bufã»dR—d”
 
	mbr
;

52 
´iv©e
 
	mgroupTime
 = 0;

53 
´iv©e
 
fš®
 
P©‹º
 
	mSPACE
 = P©‹º.
compe
("\\s+");

55 
public
 
	$HexFeGroupR—d”
(
Bufã»dR—d”
 
br
) {

56 
this
.
br
 = br;

59 
public
 
	$HexFeGroupR—d”
(
URL
 
u¾
è
throws
 
IOExû±iÚ
 {

60 
	`this
(
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
u¾
.
	`İ’SŒ—m
())));

61 
	}
}

63 
public
 
	$HexFeGroupR—d”
(
Fe
 
fe
è
throws
 
FeNÙFoundExû±iÚ
 {

64 
	`this
(
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
fe
)));

65 
	}
}

67 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

68 
GroupR—d”Ev’t
 
ev’t
;

71 
SŒšg
 
lše
 = 
br
.
	`»adLše
();

72 if(
lše
 =ğ
nuÎ
è
throw
 
Ãw
 
	`EndOfSŒ—m
();

74 
ev’t
 = 
	`·r£HexLše
(
lše
, 
Ãw
 
	`Sequ’tŸlTime
(
groupTime
));

75 
groupTime
++;

76 } 
ev’t
 =ğ
nuÎ
);

78  
ev’t
;

79 
	}
}

81  
GroupR—d”Ev’t
 
	$·r£HexLše
(
SŒšg
 
lše
, 
RDSTime
 
time
è
throws
 
IOExû±iÚ
 {

82 
lše
 =†še.
	`Œim
();

85 if(
lše
.
	`Ëngth
(è=ğ0è 
nuÎ
;

87 if(
lše
.
	`¡¬tsW™h
("%")) {

89 if(
lše
.
	`¡¬tsW™h
("% Freq")) {

91 
M©ch”
 
m
 = 
FIRST_NUMBER
.
	`m©ch”
(
lše
);

92 
f
 = 0;

93 if(
m
.
	`m©ches
()è
f
 = 
IÁeg”
.
	`·r£IÁ
(m.
	`group
(1));

94  
Ãw
 
	`F»qu’cyChªgeEv’t
(
time
, 
f
);

98  
nuÎ
;

102 if(
lše
.
	`¡¬tsW™h
("<")è 
nuÎ
;

104 
SŒšg
[] 
compÚ’ts
 = 
SPACE
.
	`¥l™
(
lše
);

107 if(
compÚ’ts
.
Ëngth
 < 4è 
nuÎ
;

109 [] 
»s
 = 
Ãw
 [4];

111 
i
=0; i<4; i++) {

112 
SŒšg
 
s
 = 
compÚ’ts
[
i
];

113 if("----".
	`equ®s
(
s
)è
»s
[
i
] = -1;

114 
»s
[
i
] = 
IÁeg”
.
	`·r£IÁ
(
s
, 16);

119 
M©ch”
 
m
 = 
RDS_SPY_DATE_FORMAT
.
	`m©ch”
(
lše
);

120 if(
m
.
	`m©ches
()) {

121 
G»gÜŸnC®’d¬
 
c
 = 
Ãw
 
	`G»gÜŸnC®’d¬
(

122 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(1)),

123 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(2)) - 1,

124 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(3)),

125 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(4)),

126 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(5)),

127 
IÁeg”
.
	`·r£IÁ
(
m
.
	`group
(6)));

128 
c
.
	`£t
(
C®’d¬
.
MILLISECOND
, ()(
Flßt
.
	`·r£Flßt
("0." + 
m
.
	`group
(7)) * 1000));

129 
time
 = 
Ãw
 
	`R—lTime
(
c
.
	`g‘Time
());

132  
Ãw
 
	`GroupEv’t
(
time
, 
»s
, 
çl£
);

133 
	}
}

	@rds/rds/input/InverterBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

36 
public
 cÏs 
	cInv”‹rB™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

37 
´iv©e
 
fš®
 
B™R—d”
 
	mba£R—d”
;

39 
public
 
	$Inv”‹rB™R—d”
(
B™R—d”
 
ba£R—d”
) {

40 
this
.
ba£R—d”
 = baseReader;

43 @
Ov”ride


44 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

45  !
ba£R—d”
.
	`g‘B™
();

46 
	}
}

	@rds/rds/input/RDSReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
public
 
š‹rçû
 
	gRDSR—d”
 {

	@rds/rds/input/SimpleV4LGroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

30 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

33 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

34 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

36 
public
 cÏs 
	cSim¶eV4LGroupR—d”
 
im¶em’ts
 
	mGroupR—d”
 {

39 
´iv©e
 
fš®
 
FeIÅutSŒ—m
 
	m»ad”
;

40 
´iv©e
 
fš®
 
	mby‹
[] 
	m»cvBufãr
 = 
Ãw
 
by‹
[3];

42 
public
 
	$Sim¶eV4LGroupR—d”
(
Fe
 
f
è
throws
 
IOExû±iÚ
 {

43 
»ad”
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f
);

46 @
Ov”ride


47 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
 {

48 [] 
»s
 = 
Ãw
 [4];

51 
i
=0; i<4; i++) {

52 
numR—d
;

53 
blockOff£t
;

56 
numR—d
 = 
»ad”
.
	`»ad
(
»cvBufãr
);

57 } 
numR—d
 != 3);

58 
blockOff£t
 = 
»cvBufãr
[2] & 0x3;

59 if(
blockOff£t
 !ğ
i
è
Sy¡em
.
out
.
	`´šn
("<SLIP got " + blockOffset + ",ƒxpecting " + i + ">");

60 } 
blockOff£t
 !ğ
i
);

62 
»s
[
i
] = (
»cvBufãr
[0] & 0xFF) | ((recvBuffer[1] & 0xFF) << 8);

64 if((
»cvBufãr
[2] & 0xC0è!ğ0è
»s
[
i
] = -1;

67  
Ãw
 
	`GroupEv’t
Òew 
	`R—lTime
(), 
»s
, 
çl£
);

68 
	}
}

	@rds/rds/input/StationChangeDetector.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

29 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

31 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

32 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

33 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

34 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’tVis™Ü
;

35 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gStiÚChªgeEv’t
;

37 
public
 cÏs 
	cStiÚChªgeD‘eùÜ
 
im¶em’ts
 
	mGroupR—d”
 {

38 
´iv©e
 
fš®
 
GroupR—d”
 
	m»ad”
;

40 
´iv©e
 
fš®
 
	mLškedLi¡
<
	mGroupEv’t
> 
	mqueuedGroups
 = 
Ãw
 
LškedLi¡
<
GroupEv’t
>();

41 
´iv©e
 
boŞ—n
 
	mex³ùšgPI
 = 
Œue
;

42 
´iv©e
 
	mcu¼’tPI
 = -1;

43 
´iv©e
 
GroupR—d”Ev’t
 
	m»suÉ
;

45 
´iv©e
 
fš®
 
GroupR—d”Ev’tVis™Ü
 
	mvis™Ü
 = 
Ãw
 
	$GroupR—d”Ev’tVis™Ü
() {

46 @
Ov”ride


47 
public
 
	`vis™
(
StiÚChªgeEv’t
 
¡©iÚChªgeEv’t
) {

48 
»suÉ
 = 
¡©iÚChªgeEv’t
;

53 
queuedGroups
.
	`ş—r
();

55 
ex³ùšgPI
 = 
Œue
;

58 @
Ov”ride


59 
public
 
	`vis™
(
F»qu’cyChªgeEv’t
 
äequ’cyChªgeEv’t
) {

60 
»suÉ
 = 
äequ’cyChªgeEv’t
;

65 
queuedGroups
.
	`ş—r
();

67 
ex³ùšgPI
 = 
Œue
;

70 @
Ov”ride


71 
public
 
	`vis™
(
GroupEv’t
 
groupEv’t
) {

72 [] 
blocks
 = 
groupEv’t
.blocks;

76 if(
ex³ùšgPI
) {

77 if(
blocks
[0] != -1) {

78 
ex³ùšgPI
 = 
çl£
;

79 if(
blocks
[0] !ğ
cu¼’tPI
) {

81 
cu¼’tPI
 = 
blocks
[0];

83 
queuedGroups
.
	`ş—r
();

85 
queuedGroups
.
	`addLa¡
(
groupEv’t
);

87 
»suÉ
 = 
Ãw
 
	`StiÚChªgeEv’t
(
groupEv’t
.
	`g‘Time
());

90 
queuedGroups
.
	`addLa¡
(
groupEv’t
);

92 
»suÉ
 = 
nuÎ
;

95 
queuedGroups
.
	`addLa¡
(
groupEv’t
);

96 
»suÉ
 = 
nuÎ
;

99 if(
blocks
[0] == -1) {

100 
ex³ùšgPI
 = 
Œue
;

101 
queuedGroups
.
	`addLa¡
(
groupEv’t
);

102 
»suÉ
 = 
nuÎ
;

104 if(
cu¼’tPI
 =ğ
blocks
[0])

105 
»suÉ
 = 
groupEv’t
;

107 
cu¼’tPI
 = 
blocks
[0];

108 
queuedGroups
.
	`ş—r
();

109 
queuedGroups
.
	`addLa¡
(
groupEv’t
);

110 
»suÉ
 = 
Ãw
 
	`StiÚChªgeEv’t
(
groupEv’t
.
	`g‘Time
());

119 
public
 
	$StiÚChªgeD‘eùÜ
(
GroupR—d”
 
»ad”
) {

120 
this
.
»ad”
 =„eader;

121 
	}
}

124 
public
 
GroupR—d”Ev’t
 
	$g‘GroupOrNuÎ
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

126 if(!
ex³ùšgPI
 && !
queuedGroups
.
	`isEm±y
()) {

128  
queuedGroups
.
	`»moveFœ¡
();

132 
fš®
 
GroupR—d”Ev’t
 
ev’t
 = 
»ad”
.
	`g‘Group
();

135 if(
ev’t
 =ğ
nuÎ
) ‚ull;

137 
»suÉ
 = 
nuÎ
;

139 
ev’t
.
	`acû±
(
vis™Ü
);

141  
»suÉ
;

142 
	}
}

145 @
Ov”ride


146 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

147 
Œue
) {

148 
GroupR—d”Ev’t
 
ev’t
 = 
	`g‘GroupOrNuÎ
();

150 if(
ev’t
 !ğ
nuÎ
) ƒvent;

152 
	}
}

	@rds/rds/input/SyncBinaryFileBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gEOFExû±iÚ
;

29 
impÜt
 
	gjava
.
	gio
.
	gFe
;

30 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

31 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

32 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

33 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

35 
public
 cÏs 
	cSyncBš¬yFeB™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

36 
´iv©e
 
fš®
 
IÅutSŒ—m
 
	mi¤
;

37 
´iv©e
 
	moù
;

38 
´iv©e
 
	moùPŒ
;

39 
´iv©e
 
	mby‹PŒ
;

41 
public
 
	$SyncBš¬yFeB™R—d”
(
Fe
 
f
è
throws
 
FeNÙFoundExû±iÚ
 {

42 
i¤
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f
);

43 
Œy
 {

45 
i¤
.
	`»ad
(); isr.read();

46 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

47 
e
.
	`´štSckT¿û
();

49 
où
 = 0;

50 
oùPŒ
 = 0;

51 
by‹PŒ
 = 3;

55 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

56 
où
 = oct<<1;

58 if(
oùPŒ
==0) {

59 
où
 = 
i¤
.
	`»ad
();

60 
by‹PŒ
 = (bytePtr + 1) % 4;

61 if(
où
 == -1) {

62 
throw
 
Ãw
 
	`EOFExû±iÚ
();

64 
oùPŒ
=8;

67 
oùPŒ
--;

68 if(
by‹PŒ
 =ğ3 && 
oùPŒ
 == 6) octPtr = 0;

70  (
où
&128) != 0;

71 
	}
}

	@rds/rds/input/TCPTunerGroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

29 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

30 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

31 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

32 
impÜt
 
	gjava
.
	gÃt
.
	gSock‘
;

33 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

35 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

36 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

37 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

38 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

40 
public
 cÏs 
	cTCPTuÃrGroupR—d”
 
im¶em’ts
 
	mTuÃrGroupR—d”
 {

41 
´iv©e
 
SŒšg
 
	mÇme
 = "";

42 
´iv©e
 
fš®
 
Bufã»dR—d”
 
	m»ad”
;

43 
´iv©e
 
fš®
 
PrštWr™”
 
	mwr™”
;

44 
´iv©e
 
fš®
 
	mLškedLi¡
<
	mGroupR—d”Ev’t
> 
	mgroups
 = 
Ãw
 
LškedLi¡
<
GroupR—d”Ev’t
>();

45 
´iv©e
 
boŞ—n
 
	mÃwGroups
 = 
çl£
;

46 
´iv©e
 
	mäeq
;

48 
public
 
	$TCPTuÃrGroupR—d”
(
SŒšg
 
ho¡Çme
, 
pÜt
è
throws
 
IOExû±iÚ
 {

49 
Sock‘
 
sock‘
 = 
Ãw
 
	`Sock‘
(
ho¡Çme
, 
pÜt
);

50 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
sock‘
.
	`g‘IÅutSŒ—m
()));

51 
wr™”
 = 
Ãw
 
	`PrštWr™”
(
sock‘
.
	`g‘OuutSŒ—m
(), 
Œue
);

54 
wr™”
.
	`´šn
("GET_FREQ");

57 @
Ov”ride


58 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

59 
groups
.
	`size
() == 0) {

60 
	`»adUÁ
(
nuÎ
);

63  
groups
.
	`»moveFœ¡
();

64 
	}
}

66 @
Ov”ride


67 
public
 
boŞ—n
 
	$isS‹»o
() {

68  
çl£
;

69 
	}
}

71 @
Ov”ride


72 
public
 
synchrÚized
 
	$£tF»qu’cy
(
äequ’cy
) {

73 
wr™”
.
	`´šn
("SET_FREQ " + 
äequ’cy
);

74  
äeq
;

75 
	}
}

77 @
Ov”ride


78 
public
 
synchrÚized
 
	$g‘F»qu’cy
() {

79  
äeq
;

80 
	}
}

82 @
Ov”ride


83 
public
 
	$mu‹
() {

86 
	}
}

88 @
Ov”ride


89 
public
 
	$unmu‹
() {

92 
	}
}

94 @
Ov”ride


95 
public
 
	$g‘SigÇlSŒ’gth
() {

98 
	}
}

100 @
Ov”ride


101 
public
 
	$tuÃ
(
boŞ—n
 
up
) {

102 
wr™”
.
	`´šn
(
up
 ? "UP" : "DOWN");

103 
	}
}

105 @
Ov”ride


106 
public
 
	$£ek
(
boŞ—n
 
up
) {

107 
wr™”
.
	`´šn
("SEEK " + (
up
 ? "UP" : "DOWN"));

108 
	}
}

110 @
Ov”ride


111 
public
 
SŒšg
 
	$g‘DeviûName
() {

112  "TCP" + 
Çme
;

113 
	}
}

115 @
Ov”ride


116 
public
 
synchrÚized
 
boŞ—n
 
	$ÃwGroups
() {

117 
boŞ—n
 
ng
 = 
ÃwGroups
;

118 
ÃwGroups
 = 
çl£
;

119  
ng
;

120 
	}
}

122 
´iv©e
 
SŒšg
 
	$»adUÁ
(
SŒšg
 
¡¬t
è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

123 
SŒšg
 
lše
;

126 
lše
 = 
»ad”
.
	`»adLše
();

127 if(
lše
 =ğ
nuÎ
è
throw
 
Ãw
 
	`EndOfSŒ—m
();

129 
GroupR—d”Ev’t
 
ev’t
 = 
HexFeGroupR—d”
.
	`·r£HexLše
(
lše
, 
Ãw
 
	`R—lTime
());

131 if(
ev’t
 
š¡ªûof
 
GroupEv’t
è
ÃwGroups
 = 
Œue
;

132 if(
ev’t
 
š¡ªûof
 
F»qu’cyChªgeEv’t
) {

133 
F»qu’cyChªgeEv’t
 
fEv’t
 = (F»qu’cyChªgeEv’tè
ev’t
;

134 
	`synchrÚized
(
this
) {

135 
äeq
 = 
fEv’t
.
äequ’cy
;

139 if(
ev’t
 !ğ
nuÎ
è
groups
.
	`addLa¡
(event);

140 } 
¡¬t
 !ğ
nuÎ
 && !
lše
.
	`¡¬tsW™h
(start));

141  
lše
;

143 
	}
}

	@rds/rds/input/TeeBitReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

30 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
public
 cÏs 
	cT“B™R—d”
 
im¶em’ts
 
	mB™R—d”
 {

33 
´iv©e
 
fš®
 
B™R—d”
 
	m»ad”
;

34 
´iv©e
 
fš®
 
FeOuutSŒ—m
 
	mwr™”
;

36 
´iv©e
 
	mcu¼’tBy‹
 = 0;

37 
´iv©e
 
	mcu¼’tB™CouÁ
 = 0;

38 
´iv©e
 
	mcu¼’tBy‹CouÁ
 = 0;

40 
public
 
	$T“B™R—d”
(
B™R—d”
 
»ad”
, 
Fe
 
of
è
throws
 
IOExû±iÚ
 {

41 
this
.
»ad”
 =„eader;

42 
wr™”
 = 
Ãw
 
	`FeOuutSŒ—m
(
of
);

45 
public
 
boŞ—n
 
	$g‘B™
(è
throws
 
IOExû±iÚ
 {

46 
boŞ—n
 
b™
 = 
»ad”
.
	`g‘B™
();

47 
cu¼’tBy‹
 <<= 1;

48 if(
b™
è
cu¼’tBy‹
 |= 1;

49 
cu¼’tB™CouÁ
++;

50 if(
cu¼’tB™CouÁ
 == 8) {

51 
wr™”
.
	`wr™e
(
cu¼’tBy‹
);

52 
cu¼’tBy‹
 = 0;

53 
cu¼’tB™CouÁ
 = 0;

54 
cu¼’tBy‹CouÁ
++;

55 if(
cu¼’tBy‹CouÁ
 == 20) {

56 
wr™”
.
	`æush
();

57 
cu¼’tBy‹CouÁ
 = 0;

60  
b™
;

61 
	}
}

63 @
Ov”ride


64 
´Ùeùed
 
	$fš®ize
(è
throws
 
ThrowabË
 {

65 
wr™”
.
	`şo£
();

66 
	}
}

	@rds/rds/input/TeeGroupReader.java

27 
·ckage
 
	grds
.
	gšput
;

29 
impÜt
 
	gjava
.
	gio
.
	gFe
;

30 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

31 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

32 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

33 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

35 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

36 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

37 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

38 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’tVis™Ü
;

39 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gStiÚChªgeEv’t
;

41 
public
 cÏs 
	cT“GroupR—d”
 
im¶em’ts
 
	mGroupR—d”
 {

42 
´iv©e
 
fš®
 
PrštWr™”
 
	mwr™”
;

43 
´iv©e
 
fš®
 
GroupR—d”
 
	m»ad”
;

45 
public
 
	$T“GroupR—d”
(
GroupR—d”
 
»ad”
, 
Fe
 
of
è
throws
 
IOExû±iÚ
 {

46 
this
.
»ad”
 =„eader;

47 
wr™”
 = 
Ãw
 
	`PrštWr™”
(
of
);

48 
wr™”
.
	`´šn
("% RDS hexgroups");

51 @
Ov”ride


52 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
, 
EndOfSŒ—m
 {

53 
GroupR—d”Ev’t
 
ev’t
 = 
»ad”
.
	`g‘Group
();

54 if(
ev’t
 =ğ
nuÎ
) ‚ull;

56 
ev’t
.
	`acû±
(
Ãw
 
	`GroupR—d”Ev’tVis™Ü
() {

57 @
Ov”ride


58 
public
 
	`vis™
(
F»qu’cyChªgeEv’t
 
äeqChªgeEv’t
) {

59 
wr™”
.
	`´št
("% F»q " + 
äeqChªgeEv’t
.
äequ’cy
 + ", date=" +

60 
äeqChªgeEv’t
.
	`g‘Time
().
	`toLÚgSŒšg
());

63 @
Ov”ride


64 
public
 
	`vis™
(
GroupEv’t
 
groupEv’t
) {

65 
i
=0; i<4; i++) {

66 if(
groupEv’t
.
blocks
[
i
]>=0è
wr™”
.
	`´štf
("%04X ", groupEvent.blocks[i]);

67 
wr™”
.
	`´št
("---- ");

69 
wr™”
.
	`´št
("@" + 
groupEv’t
.
	`g‘Time
().
	`toLÚgSŒšg
());

72 @
Ov”ride


73 
public
 
	`vis™
(
StiÚChªgeEv’t
 
¡©iÚChªgeEv’t
) {

78 
wr™”
.
	`´šn
();

79 
wr™”
.
	`æush
();

81  
ev’t
;

82 
	}
}

	@rds/rds/input/TunerGroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
public
 
š‹rçû
 
TuÃrGroupR—d”
 
ex‹nds
 
	gGroupR—d”
 {

29 
public
 
boŞ—n
 
isS‹»o
();

31 
public
 
£tF»qu’cy
(
äequ’cy
);

33 
public
 
g‘F»qu’cy
();

35 
public
 
mu‹
();

37 
public
 
unmu‹
();

39 
public
 
g‘SigÇlSŒ’gth
();

41 
public
 
tuÃ
(
boŞ—n
 
up
);

43 
public
 
£ek
(
boŞ—n
 
up
);

45 
public
 
SŒšg
 
g‘DeviûName
();

47 
public
 
boŞ—n
 
ÃwGroups
();

	@rds/rds/input/USBFMRadioGroupReader.java

26 
·ckage
 
	grds
.
	gšput
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

30 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

31 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

32 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

35 
public
 cÏs 
	cUSBFMRadioGroupR—d”
 
im¶em’ts
 
	mGroupR—d”
 {

36 
public
 
Çtive
 
by‹
 
š™
();

37 
public
 
Çtive
 
g‘F»qu’cy
();

38 
public
 
Çtive
 
£tF»qu’cy
(
äequ’cy
);

39 
public
 
Çtive
 
£ek
(
boŞ—n
 
£ekUp
);

40 
public
 
Çtive
 
tuÃ
(
boŞ—n
 
tuÃUp
);

41 
public
 
Çtive
 
g‘SigÇl
();

42 
´iv©e
 
Çtive
 [] 
g‘RDSRegi¡”s
();

47 
	mSy¡em
.
lßdLib¿ry
("USBRadio");

50 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

53 
USBFMRadioGroupR—d”
 
¿dio
 = 
Ãw
 
	`USBFMRadioGroupR—d”
();

55 
Sy¡em
.
out
.
	`´šn
("š™: " + 
¿dio
.
	`š™
());

56 
Sy¡em
.
out
.
	`´šn
("äeq: " + 
¿dio
.
	`g‘F»qu’cy
());

57 
¿dio
.
	`£tF»qu’cy
(89900);

58 
Sy¡em
.
out
.
	`´šn
("äeq: " + 
¿dio
.
	`g‘F»qu’cy
());

61 
Œue
) {

62 [] 
»s
 = 
¿dio
.
	`g‘RDSRegi¡”s
();

63 if(
»s
 =ğ
nuÎ
) ;

64 if((
»s
[10] & 0x8000) == 0) ;

65 
s
 : 
»s
) {

66 
Sy¡em
.
out
.
	`´št
(
IÁeg”
.
	`toHexSŒšg
((
s
>>12) & 0xF));

67 
Sy¡em
.
out
.
	`´št
(
IÁeg”
.
	`toHexSŒšg
((
s
>>8) & 0xF));

68 
Sy¡em
.
out
.
	`´št
(
IÁeg”
.
	`toHexSŒšg
((
s
>>4) & 0xF));

69 
Sy¡em
.
out
.
	`´št
(
IÁeg”
.
	`toHexSŒšg
(
s
 & 0xF) + " ");

71 
Sy¡em
.
out
.
	`´šn
();

73 
	}
}

74 @
Ov”ride


75 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
 {

76 
Œue
) {

77 [] 
»s
 = 
	`g‘RDSRegi¡”s
();

78 if(
»s
 =ğ
nuÎ
) ;

79 if((
»s
[10] & 0x8000) == 0) ;

81  
Ãw
 
	`GroupEv’t
Òew 
	`R—lTime
(),‚ew [] {

82 0xFFFF & (()
»s
[12]),

83 0xFFFF & (()
»s
[13]),

84 0xFFFF & (()
»s
[14]),

85 0xFFFF & (()
»s
[15]è}, 
çl£
);

87 
	}
}

	@rds/rds/input/V4LTunerGroupReader.java

28 
·ckage
 
	grds
.
	gšput
;

30 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

32 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gF»qu’cyChªgeEv’t
;

33 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

34 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupR—d”Ev’t
;

35 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

37 
public
 cÏs 
	cV4LTuÃrGroupR—d”
 
im¶em’ts
 
	mTuÃrGroupR—d”
 {

40 
´iv©e
 
fš®
 
SŒšg
 
	mLIB_NAME
 = "v4ltuner";

41 
´iv©e
 
boŞ—n
 
	mÃwGroups
;

42 
´iv©e
 
	mŞdF»q
 = 0;

44 
public
 
	$V4LTuÃrGroupR—d”
(
SŒšg
 
deviû
) {

45 
»s
 = 
	`İ’
(
deviû
);

46 if(
»s
 !ğ1è
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Deviû " + 
deviû
 + " failedo open: " +res);

47 if(! 
	`hasRDS
()è
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Deviû " + 
deviû
 + " correctly opened, but it is‚ot RDS-capable.");

50 
public
 
Çtive
 
synchrÚized
 
boŞ—n
 
	`isS‹»o
();

51 
public
 
Çtive
 
synchrÚized
 
	`£tF»qu’cy
(
äequ’cy
);

52 
public
 
Çtive
 
synchrÚized
 
	`g‘F»qu’cy
();

53 
public
 
Çtive
 
synchrÚized
 
	`mu‹
();

54 
public
 
Çtive
 
synchrÚized
 
	`unmu‹
();

55 
public
 
Çtive
 
synchrÚized
 
	`g‘SigÇlSŒ’gth
();

56 
public
 
Çtive
 
synchrÚized
 
	`hwS“k
(
boŞ—n
 
up
);

57 
´iv©e
 
Çtive
 
synchrÚized
 
	`İ’
(
SŒšg
 
deviû
);

58 
´iv©e
 
Çtive
 
synchrÚized
 
	`şo£
();

59 
´iv©e
 
Çtive
 
synchrÚized
 
boŞ—n
 
	`hasRDS
();

60 
´iv©e
 
Çtive
 
by‹
[] 
	`g‘RDSD©a
();

63 @
Ov”ride


64 
public
 
GroupR—d”Ev’t
 
	$g‘Group
(è
throws
 
IOExû±iÚ
 {

65 
ÃwF»q
 = 
	`g‘F»qu’cy
();

66 if(
ÃwF»q
 !ğ
ŞdF»q
) {

68 
ŞdF»q
 = 
ÃwF»q
;

69  
Ãw
 
	`F»qu’cyChªgeEv’t
Òew 
	`R—lTime
(), 
ÃwF»q
);

72 [] 
»s
 = 
Ãw
 [4];

73 
by‹
[] 
d©a
;

76 
i
=0; i<4; i++) {

77 
blockOff£t
;

79 
d©a
 = 
	`g‘RDSD©a
();

81 if(
d©a
.
Ëngth
 != 3) {

83  
nuÎ
;

86 
blockOff£t
 = 
d©a
[2] & 0x7;

88 if(
blockOff£t
 == 4) blockOffset = 2;

89 if(
blockOff£t
 !ğ
i
è
Sy¡em
.
out
.
	`´šn
("<SLIP got " + blockOffset + ",ƒxpecting " + i + ">");

90 } 
blockOff£t
 !ğ
i
);

92 
»s
[
i
] = (
d©a
[0] & 0xFF) | ((data[1] & 0xFF) << 8);

94 if((
d©a
[2] & 0xC0è!ğ0è
»s
[
i
] = -1;

97 
ÃwGroups
 = 
Œue
;

98  
Ãw
 
	`GroupEv’t
Òew 
	`R—lTime
(), 
»s
, 
çl£
);

99 
	}
}

102 
	gŒy
 {

103 
	gSy¡em
.
lßdLib¿ry
(
LIB_NAME
);

104 } 
ÿtch
 (
Un§tisf›dLškE¼Ü
 
e
) {

105 
	gSy¡em
.
	g”r
.
´šn
("Can‚ot find file "

106 + 
Sy¡em
.
m­Lib¿ryName
(
LIB_NAME
));

107 
throw
 
	ge
;

112 @
Ov”ride


113 
´Ùeùed
 
	$fš®ize
(è
throws
 
ThrowabË
 {

114 
	`şo£
();

115 
	}
}

117 @
Ov”ride


118 
public
 
SŒšg
 
	$g‘DeviûName
() {

120 
	}
}

130 @
Ov”ride


131 
public
 
	$£ek
(
boŞ—n
 
up
) {

132 
	`hwS“k
(
up
);

141 
	}
}

144 @
Ov”ride


145 
public
 
	$tuÃ
(
boŞ—n
 
up
) {

147 
äeq
 = 
	`g‘F»qu’cy
();

150 
äeq
 +ğ
up
 ? 100 : -100;

152 if(
äeq
 > 108000) freq = 87500;

153 if(
äeq
 < 87500) freq = 108000;

155 
	`£tF»qu’cy
(
äeq
);

157 
	}
}

159 @
Ov”ride


160 
public
 
boŞ—n
 
	$ÃwGroups
() {

161 
boŞ—n
 
ng
 = 
ÃwGroups
;

162 
ÃwGroups
 = 
çl£
;

163  
ng
;

164 
	}
}

	@rds/rds/input/group/FrequencyChangeEvent.java

26 
·ckage
 
	grds
.
	gšput
.
	ggroup
;

28 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

30 
public
 cÏs 
	cF»qu’cyChªgeEv’t
 
ex‹nds
 
	mGroupR—d”Ev’t
 {

31 
public
 
fš®
 
	mäequ’cy
;

33 @
Ov”ride


34 
public
 
	$acû±
(
GroupR—d”Ev’tVis™Ü
 
vis™Ü
) {

35 
vis™Ü
.
	`vis™
(
this
);

38 
public
 
	$F»qu’cyChªgeEv’t
(
RDSTime
 
time
, 
äequ’cy
) {

39 
	`su³r
(
time
);

40 
this
.
äequ’cy
 = frequency;

41 
	}
}

	@rds/rds/input/group/GroupEvent.java

26 
·ckage
 
	grds
.
	gšput
.
	ggroup
;

28 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

32 
public
 cÏs 
	cGroupEv’t
 
ex‹nds
 
	mGroupR—d”Ev’t
 {

33 
public
 
fš®
 [] 
	mblocks
;

34 
public
 
fš®
 
boŞ—n
 
	mignÜed
;

36 @
Ov”ride


37 
public
 
	$acû±
(
GroupR—d”Ev’tVis™Ü
 
vis™Ü
) {

38 
vis™Ü
.
	`vis™
(
this
);

41 
public
 
	$GroupEv’t
(
RDSTime
 
time
, [] 
blocks
, 
boŞ—n
 
ignÜed
) {

42 
	`su³r
(
time
);

43 
this
.
blocks
 = blocks;

44 
this
.
ignÜed
 = ignored;

45 
	}
}

47 @
Ov”ride


48 
public
 
SŒšg
 
	$toSŒšg
() {

49  
SŒšg
.
	`fÜm©
("(Group: %04X %04X %04X %04X)", 
blocks
[0], blocks[1], blocks[2], blocks[3]);

50 
	}
}

	@rds/rds/input/group/GroupReaderEvent.java

26 
·ckage
 
	grds
.
	gšput
.
	ggroup
;

28 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

30 
public
 
ab¡¿ù
 cÏs 
	cGroupR—d”Ev’t
 {

31 
´iv©e
 
fš®
 
RDSTime
 
	mtime
;

33 
public
 
ab¡¿ù
 
acû±
(
GroupR—d”Ev’tVis™Ü
 
vis™Ü
);

35 
´Ùeùed
 
	$GroupR—d”Ev’t
(
RDSTime
 
time
) {

36 
this
.
time
 =ime;

39 
public
 
RDSTime
 
	$g‘Time
() {

40  
time
;

41 
	}
}

	@rds/rds/input/group/GroupReaderEventVisitor.java

26 
·ckage
 
	grds
.
	gšput
.
	ggroup
;

28 
public
 
š‹rçû
 
	gGroupR—d”Ev’tVis™Ü
 {

29 
public
 
vis™
(
GroupEv’t
 
groupEv’t
);

30 
public
 
vis™
(
StiÚChªgeEv’t
 
¡©iÚChªgeEv’t
);

31 
public
 
vis™
(
F»qu’cyChªgeEv’t
 
äequ’cyChªgeEv’t
);

	@rds/rds/input/group/StationChangeEvent.java

26 
·ckage
 
	grds
.
	gšput
.
	ggroup
;

28 
impÜt
 
	grds
.
	glog
.
	gRDSTime
;

30 
public
 cÏs 
	cStiÚChªgeEv’t
 
ex‹nds
 
	mGroupR—d”Ev’t
 {

31 @
Ov”ride


32 
public
 
	$acû±
(
GroupR—d”Ev’tVis™Ü
 
vis™Ü
) {

33 
vis™Ü
.
	`vis™
(
this
);

36 
public
 
	$StiÚChªgeEv’t
(
RDSTime
 
time
) {

37 
	`su³r
(
time
);

38 
	}
}

	@rds/rds/log/ApplicationChanged.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	grds
.
	g­p
.
	gAµliÿtiÚ
;

30 
public
 cÏs 
	cAµliÿtiÚChªged
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
AµliÿtiÚ
 
	mŞdAµ
, 
	mÃwAµ
;

33 
public
 
	$AµliÿtiÚChªged
(
RDSTime
 
time
, 
AµliÿtiÚ
 
ŞdAµ
, AµliÿtiÚ 
ÃwAµ
) {

34 
	`su³r
(
time
);

35 
this
.
ŞdAµ
 = oldApp;

36 
this
.
ÃwAµ
 =‚ewApp;

39 @
Ov”ride


40 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

41 
vis™Ü
.
	`vis™
(
this
);

42 
	}
}

44 
public
 
AµliÿtiÚ
 
	$g‘OldAµliÿtiÚ
() {

45  
ŞdAµ
;

46 
	}
}

48 
public
 
AµliÿtiÚ
 
	$g‘NewAµliÿtiÚ
() {

49  
ÃwAµ
;

50 
	}
}

	@rds/rds/log/ClockTime.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

30 
public
 cÏs 
	cClockTime
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
D©e
 
	mtime
;

33 
public
 
	$ClockTime
(
RDSTime
 
¡»amTime
, 
D©e
 
time
) {

34 
	`su³r
(
¡»amTime
);

36 
this
.
time
 =ime;

39 
public
 
SŒšg
 
	$toSŒšg
() {

40  
time
 + "> CT: " +ime;

41 
	}
}

43 @
Ov”ride


44 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

45 
vis™Ü
.
	`vis™
(
this
);

46 
	}
}

48 
public
 
D©e
 
	$g‘ClockTime
() {

49  
time
;

50 
	}
}

	@rds/rds/log/DefaultLogMessageVisitor.java

26 
·ckage
 
	grds
.
	glog
;

28 
public
 cÏs 
	cDeçuÉLogMes§geVis™Ü
 
im¶em’ts
 
	mLogMes§geVis™Ü
 {

29 
public
 
	$vis™
(
ClockTime
 
şockTime
) {

32 
public
 
	$vis™
(
EONR‘uº
 
eÚR‘uº
) {

33 
	}
}

35 
public
 
	$vis™
(
EONSw™ch
 
eÚSw™ch
) {

36 
	}
}

38 
public
 
	$vis™
(
StiÚLo¡
 
¡©iÚLo¡
) {

39 
	}
}

41 
public
 
	$vis™
(
StiÚTuÃd
 
¡©iÚTuÃd
) {

42 
	}
}

44 
public
 
	$vis™
(
AµliÿtiÚChªged
 
­pChªged
) {

45 
	}
}

47 
public
 
	$vis™
(
EndOfSŒ—m
 
’dOfSŒ—m
) {

48 
	}
}

50 
public
 
	$vis™
(
GroupReûived
 
groupReûived
) {

51 
	}
}

	@rds/rds/log/EONReturn.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	grds
.
	gcÜe
.
	gStiÚ
;

30 
public
 cÏs 
	cEONR‘uº
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
StiÚ
 
	mÚ
;

33 
public
 
	$EONR‘uº
(
RDSTime
 
time
, 
StiÚ
 
Ú
) {

34 
	`su³r
(
time
);

36 
this
.
Ú
 = on;

39 @
Ov”ride


40 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

41 
vis™Ü
.
	`vis™
(
this
);

42 
	}
}

44 
public
 
StiÚ
 
	$g‘ON
() {

45  
Ú
;

46 
	}
}

	@rds/rds/log/EONSwitch.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	grds
.
	gcÜe
.
	gStiÚ
;

30 
public
 cÏs 
	cEONSw™ch
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
StiÚ
 
	mÚ
;

33 
public
 
	$EONSw™ch
(
RDSTime
 
time
, 
StiÚ
 
Ú
) {

34 
	`su³r
(
time
);

36 
this
.
Ú
 = on;

39 @
Ov”ride


40 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

41 
vis™Ü
.
	`vis™
(
this
);

42 
	}
}

44 
public
 
StiÚ
 
	$g‘ON
() {

45  
Ú
;

46 
	}
}

	@rds/rds/log/EndOfStream.java

26 
·ckage
 
	grds
.
	glog
;

29 
public
 cÏs 
	cEndOfSŒ—m
 
ex‹nds
 
	mLogMes§ge
 {

31 
public
 
	$EndOfSŒ—m
(
RDSTime
 
time
) {

32 
	`su³r
(
time
);

35 @
Ov”ride


36 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

37 
vis™Ü
.
	`vis™
(
this
);

38 
	}
}

	@rds/rds/log/GroupReceived.java

26 
·ckage
 
	grds
.
	glog
;

30 
public
 cÏs 
	cGroupReûived
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 [] 
	mblocks
;

32 
´iv©e
 
fš®
 
SŒšg
 
	mª®ysis
;

33 
´iv©e
 
fš®
 
	mnbOk
;

35 
public
 
	$GroupReûived
(
RDSTime
 
time
, [] 
blocks
, 
nbOk
, 
SŒšg
 
ª®ysis
) {

36 
	`su³r
(
time
);

38 
this
.
blocks
 = blocks;

39 
this
.
nbOk
 =‚bOk;

40 
this
.
ª®ysis
 =‡nalysis;

43 @
Ov”ride


44 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

45 
vis™Ü
.
	`vis™
(
this
);

46 
	}
}

48 
public
 [] 
	$g‘Blocks
() {

49  
blocks
;

50 
	}
}

52 
public
 
	$g‘NbOk
() {

53  
nbOk
;

54 
	}
}

56 
public
 
SŒšg
 
	$g‘AÇlysis
() {

57  
ª®ysis
;

58 
	}
}

60 
public
 
SŒšg
 
	$toSŒšg
(
boŞ—n
 
šşudeTime
) {

61 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

63 if(
šşudeTime
) {

64 
sb
.
	`­³nd
(
	`g‘Time
()).append(": ");

67 
sb
.
	`­³nd
("[");

69 
i
=0; i<4; i++) {

70 if(
blocks
[
i
] >ğ0è
sb
.
	`­³nd
(
SŒšg
.
	`fÜm©
("%04X", blocks[i]));

71 
sb
.
	`­³nd
("----");

72 if(
i
 < 3è
sb
.
	`­³nd
(' ');

74 
sb
.
	`­³nd
("] ").­³nd(
	`g‘AÇlysis
());

76  
sb
.
	`toSŒšg
();

77 
	}
}

79 
public
 
SŒšg
 
	$toSŒšg
() {

80  
	`toSŒšg
(
Œue
);

81 
	}
}

83 
public
 
	$g‘GroupTy³
() {

84 if(
blocks
[1] == -1)  -1;

85  (
blocks
[1] >> 11) & 0x1F;

86 
	}
}

	@rds/rds/log/Log.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

30 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

32 
public
 cÏs 
	cLog
 {

33 
´iv©e
 
	mA¼ayLi¡
<
	mLogMes§ge
> 
	mmes§ges
 = 
Ãw
 
A¼ayLi¡
<
LogMes§ge
>();

37 
´iv©e
 
	mS‘
<
	mLogMes§geVis™Ü
> 
	mÃwMes§geLi¡’”s
 = 
Ãw
 
HashS‘
<
LogMes§geVis™Ü
>();

39 
public
 
synchrÚized
 
	$addMes§ge
(
LogMes§ge
 
mes§ge
) {

40 
mes§ges
.
	`add
(
mes§ge
);

42 
LogMes§geVis™Ü
 
v
 : 
ÃwMes§geLi¡’”s
è
mes§ge
.
	`acû±
(v);

55 
public
 
synchrÚized
 
	$mes§geCouÁ
() {

56  
mes§ges
.
	`size
();

57 
	}
}

59 
public
 
synchrÚized
 
LogMes§ge
 
	$g‘Mes§ge
(
i
) {

60  
mes§ges
.
	`g‘
(
i
);

61 
	}
}

67 
public
 
synchrÚized
 
	$addNewMes§geLi¡’”
(
LogMes§geVis™Ü
 
v
) {

68 
ÃwMes§geLi¡’”s
.
	`add
(
v
);

69 
	}
}

71 
public
 
synchrÚized
 
	$»moveNewMes§geLi¡’”
(
LogMes§geVis™Ü
 
v
) {

72 
ÃwMes§geLi¡’”s
.
	`»move
(
v
);

73 
	}
}

75 
public
 
SŒšg
 
	$toSŒšg
() {

76 
SŒšgBufãr
 
»s
 = 
nuÎ
;

77 
	`synchrÚized
(
this
) {

78 
LogMes§ge
 
m
 : 
mes§ges
) {

79 if(
»s
 =ğ
nuÎ
è» ğ
Ãw
 
	`SŒšgBufãr
("Log\t");

80 
»s
.
	`­³nd
("\n\t");

81 
»s
.
	`­³nd
(
m
);

84  (
»s
 =ğ
nuÎ
è? "Em±y Log" :„es.
	`toSŒšg
();

85 
	}
}

87 
public
 
synchrÚized
 
boŞ—n
 
	$em±y
() {

88  
mes§ges
.
	`size
() == 0;

89 
	}
}

91 
public
 
	$nÙifyGroup
() {

93 
	}
}

	@rds/rds/log/LogMessage.java

26 
·ckage
 
	grds
.
	glog
;

29 
public
 
ab¡¿ù
 cÏs 
	cLogMes§ge
 {

30 
´Ùeùed
 
RDSTime
 
	mtime
;

32 
´Ùeùed
 
	$LogMes§ge
(
RDSTime
 
time
) {

33 
this
.
time
 =ime;

36 
public
 
RDSTime
 
	$g‘Time
() {

37  
this
.
time
;

38 
	}
}

40 
public
 
ab¡¿ù
 
acû±
(
LogMes§geVis™Ü
 
vis™Ü
);

	@rds/rds/log/LogMessageVisitor.java

26 
·ckage
 
	grds
.
	glog
;

28 
public
 
š‹rçû
 
	gLogMes§geVis™Ü
 {

29 
vis™
(
GroupReûived
 
groupReûived
);

30 
vis™
(
EONR‘uº
 
eÚR‘uº
);

31 
vis™
(
EONSw™ch
 
eÚSw™ch
);

32 
vis™
(
StiÚLo¡
 
¡©iÚLo¡
);

33 
vis™
(
StiÚTuÃd
 
¡©iÚTuÃd
);

34 
vis™
(
AµliÿtiÚChªged
 
­pChªged
);

35 
vis™
(
EndOfSŒ—m
 
’dOfSŒ—m
);

36 
vis™
(
ClockTime
 
şockTime
);

	@rds/rds/log/RDSTime.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

30 
public
 
š‹rçû
 
	gRDSTime
 {

31 
public
 
D©e
 
g‘R—lTime
(
RDSTime
 
»fSŒ—mTime
, D©
»fD©e
);

32 
public
 
SŒšg
 
toLÚgSŒšg
();

	@rds/rds/log/RealTime.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

29 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

31 
public
 cÏs 
	cR—lTime
 
im¶em’ts
 
	mRDSTime
 {

32 
´iv©e
 
fš®
 
D©e
 
	mtime
;

34 
´iv©e
 
fš®
 
Sim¶eD©eFÜm©
 
	mTIME_FORMAT
 = 
Ãw
 SimpleDateFormat("HH.mm.ss");

35 
´iv©e
 
fš®
 
Sim¶eD©eFÜm©
 
	mLONG_TIME_FORMAT
 = 
Ãw
 SimpleDateFormat("yyyy/MM/dd HH:mm:ss.SSS");

37 @
Ov”ride


38 
public
 
D©e
 
	$g‘R—lTime
(
RDSTime
 
»fSŒ—mTime
, 
D©e
 
»fD©e
) {

40  
nuÎ
;

43 
public
 
	$R—lTime
(
D©e
 
time
) {

44 
this
.
time
 =ime;

45 
	}
}

47 
public
 
	$R—lTime
() {

48 
this
.
time
 = 
Ãw
 
	`D©e
();

49 
	}
}

51 
public
 
SŒšg
 
	$toSŒšg
() {

52  
TIME_FORMAT
.
	`fÜm©
(
this
.
time
);

53 
	}
}

55 
public
 
SŒšg
 
	$toLÚgSŒšg
() {

56  
LONG_TIME_FORMAT
.
	`fÜm©
(
this
.
time
);

57 
	}
}

	@rds/rds/log/SequentialTime.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

29 
impÜt
 
	gjava
.
	g‹xt
.
	gNumb”FÜm©
;

30 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

32 
public
 cÏs 
	cSequ’tŸlTime
 
im¶em’ts
 
	mRDSTime
 {

34 
´iv©e
 
fš®
 
	mgroupTime
;

36 
´iv©e
 
fš®
 
Numb”FÜm©
 
	mFORMAT
 = 
Ãw
 
Decim®FÜm©
("0000");

38 @
Ov”ride


39 
public
 
D©e
 
	$g‘R—lTime
(
RDSTime
 
»fSŒ—mTime
, 
D©e
 
»fD©e
) {

41  
nuÎ
;

44 
public
 
	$Sequ’tŸlTime
(
groupTime
) {

45 
this
.
groupTime
 = groupTime;

46 
	}
}

48 
public
 
SŒšg
 
	$toSŒšg
() {

49  
FORMAT
.
	`fÜm©
(
groupTime
 % 10000);

50 
	}
}

52 @
Ov”ride


53 
public
 
SŒšg
 
	$toLÚgSŒšg
() {

54  
	`toSŒšg
();

55 
	}
}

	@rds/rds/log/StationLost.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	grds
.
	gcÜe
.
	gTuÃdStiÚ
;

30 
public
 cÏs 
	cStiÚLo¡
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
TuÃdStiÚ
 
	m¡©iÚ
;

32 
´iv©e
 
fš®
 
boŞ—n
 
	mÏ¡InSŒ—m
;

34 
public
 
	$StiÚLo¡
(
RDSTime
 
time
, 
TuÃdStiÚ
 
¡©iÚ
, 
boŞ—n
 
Ï¡InSŒ—m
) {

35 
	`su³r
(
time
);

37 
this
.
¡©iÚ
 = station;

38 
this
.
Ï¡InSŒ—m
 =†astInStream;

41 
public
 
	$StiÚLo¡
(
RDSTime
 
time
, 
TuÃdStiÚ
 
¡©iÚ
) {

42 
	`this
(
time
, 
¡©iÚ
, 
çl£
);

43 
	}
}

45 
public
 
SŒšg
 
	$toSŒšg
() {

46  
time
 + "> Lo¡: " + 
¡©iÚ
.
	`g‘PS
();

47 
	}
}

49 @
Ov”ride


50 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

51 
vis™Ü
.
	`vis™
(
this
);

52 
	}
}

54 
public
 
TuÃdStiÚ
 
	$g‘StiÚ
() {

55  
¡©iÚ
;

56 
	}
}

58 
public
 
boŞ—n
 
	$isLa¡InSŒ—m
() {

59  
Ï¡InSŒ—m
;

60 
	}
}

	@rds/rds/log/StationTuned.java

26 
·ckage
 
	grds
.
	glog
;

28 
impÜt
 
	grds
.
	gcÜe
.
	gTuÃdStiÚ
;

30 
public
 cÏs 
	cStiÚTuÃd
 
ex‹nds
 
	mLogMes§ge
 {

31 
´iv©e
 
fš®
 
TuÃdStiÚ
 
	m¡©iÚ
;

33 
public
 
	$StiÚTuÃd
(
RDSTime
 
time
, 
TuÃdStiÚ
 
¡©iÚ
) {

34 
	`su³r
(
time
);

36 
this
.
¡©iÚ
 = station;

39 
public
 
SŒšg
 
	$toSŒšg
() {

40  
time
 + "> TuÃd: " + 
¡©iÚ
.
	`g‘PS
();

41 
	}
}

43 @
Ov”ride


44 
public
 
	$acû±
(
LogMes§geVis™Ü
 
vis™Ü
) {

45 
vis™Ü
.
	`vis™
(
this
);

46 
	}
}

48 
public
 
RDSTime
 
	$g‘TimeLo¡
() {

49  
¡©iÚ
.
	`g‘TimeOfLa¡PI
();

50 
	}
}

52 
public
 
TuÃdStiÚ
 
	$g‘StiÚ
() {

53  
¡©iÚ
;

54 
	}
}

	@res/drawable-hdpi/appwidget_button_center.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_c" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_c" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-hdpi/appwidget_button_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_l" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_l" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-hdpi/appwidget_button_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_r" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_r" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-ldpi/appwidget_button_center.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_c" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_c" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-ldpi/appwidget_button_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_l" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_l" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-ldpi/appwidget_button_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_r" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_r" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-mdpi/appwidget_button_center.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_c" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_c" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-mdpi/appwidget_button_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_l" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_l" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-mdpi/appwidget_button_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_r" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_r" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-xhdpi/appwidget_button_center.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_c" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_c" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-xhdpi/appwidget_button_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_l" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_l" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable-xhdpi/appwidget_button_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_r" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_r" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable/appwidget_button_center.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_c" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_c" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable/appwidget_button_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_l" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_l" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable/appwidget_button_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

24 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_press_r" />

26 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_’abËd
="true"

27 
ªdroid
:
¡©e_wšdow_focu£d
="true"

28 
ªdroid
:
d¿wabË
="@drawable/appwidget_inner_focus_r" />

30 <
™em


31 
ªdroid
:
d¿wabË
="@android:color/transparent" />

32 </
£ËùÜ
>

	@res/drawable/btn_play.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

21 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="çl£"‡ndroid:
¡©e_’abËd
="Œue"‡ndroid:
d¿wabË
="@drawable/btn_play_pressed" />

22 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/btn_play_pressed" />

23 <
™em
 
ªdroid
:
¡©e_focu£d
="çl£"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/btn_play_pressed" />

24 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="Œue"‡ndroid:
d¿wabË
="@drawable/btn_play_pressed" />

25 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="çl£"‡ndroid:
d¿wabË
="@drawable/btn_play_normal"/>

26 <
™em
 
ªdroid
:
d¿wabË
="@drawable/btn_play_normal" />

27 </
£ËùÜ
>

	@res/drawable/btn_stop.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

22 <
™em
 
ªdroid
:
d¿wabË
="@d¿wabË/bŠ_¶ay_´es£d"‡ndroid:
¡©e_’abËd
="Œue"‡ndroid:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="false"/>

23 <
™em
 
ªdroid
:
d¿wabË
="@d¿wabË/bŠ_¡İ_´es£d"‡ndroid:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="true"/>

24 <
™em
 
ªdroid
:
d¿wabË
="@d¿wabË/bŠ_¡İ_´es£d"‡ndroid:
¡©e_focu£d
="çl£"‡ndroid:
¡©e_´es£d
="true"/>

25 <
™em
 
ªdroid
:
d¿wabË
="@d¿wabË/bŠ_¡İ_´es£d"‡ndroid:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="true"/>

26 <
™em
 
ªdroid
:
d¿wabË
="@d¿wabË/bŠ_¡İ_nÜm®"‡ndroid:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="false"/>

27 <
™em
 
ªdroid
:
d¿wabË
="@drawable/btn_stop_normal"/>

29 </
£ËùÜ
>

	@res/drawable/channel_left.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

21 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="çl£"‡ndroid:
¡©e_’abËd
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_left_pressed" />

22 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_left_pressed" />

23 <
™em
 
ªdroid
:
¡©e_focu£d
="çl£"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_left_pressed" />

24 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_left_pressed" />

25 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="çl£"‡ndroid:
d¿wabË
="@drawable/arrow_left_normal"/>

26 <
™em
 
ªdroid
:
d¿wabË
="@drawable/arrow_left_normal" />

27 </
£ËùÜ
>

	@res/drawable/channel_right.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

21 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="çl£"‡ndroid:
¡©e_’abËd
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_right_pressed" />

22 <
™em
 
ªdroid
:
¡©e_focu£d
="Œue"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_right_pressed" />

23 <
™em
 
ªdroid
:
¡©e_focu£d
="çl£"‡ndroid:
¡©e_´es£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_right_pressed" />

24 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="Œue"‡ndroid:
d¿wabË
="@drawable/arrow_right_pressed" />

25 <
™em
 
ªdroid
:
¡©e_’abËd
="çl£"‡ndroid:
¡©e_focu£d
="çl£"‡ndroid:
d¿wabË
="@drawable/arrow_right_normal"/>

26 <
™em
 
ªdroid
:
d¿wabË
="@drawable/arrow_right_normal" />

27 </
£ËùÜ
>

	@res/drawable/favorite_button_bg.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
£ËùÜ
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

22 <
™em
 
ªdroid
:
¡©e_´es£d
="true"

23 
ªdroid
:
d¿wabË
="@drawable/favorite_button_pressed" />

24 </
£ËùÜ
>

	@res/drawable/freq_indicator_seek.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
Ïy”
-
li¡
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

23 <
™em
 
ªdroid
:
id
="@ªdroid:id/background"‡ndroid:
d¿wabË
="@drawable/transparent"/>

25 <
™em
 
ªdroid
:
id
="@ªdroid:id/£cÚd¬yProg»ss"‡ndroid:
d¿wabË
="@drawable/transparent"/>

27 <
™em
 
ªdroid
:
id
="@ªdroid:id/´og»ss"‡ndroid:
d¿wabË
="@drawable/transparent"/>

29 </
Ïy”
-
li¡
>

	@res/drawable/loadingbar.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Ïy”
-
li¡


21 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android">

22 <
™em
 
ªdroid
:
id
="@android:id/background">

23 <
sh­e
>

24 <
cÜÃrs
 
ªdroid
:
¿dius
="2.0dip" />

25 <
g¿d›Á
 
ªdroid
:
¡¬tCŞÜ
="#ff9d9e9d"‡ndroid:
’dCŞÜ
="#ff747674"‡ndroid:
ªgË
="270.0"‡ndroid:
ûÁ”Y
="0.75"‡ndroid:
ûÁ”CŞÜ
="#ff5a5d5a" />

26 </
sh­e
>

27 </
™em
>

28 <
™em
 
ªdroid
:
id
="@android:id/secondaryProgress">

29 <
ş
>

30 <
sh­e
>

31 <
cÜÃrs
 
ªdroid
:
¿dius
="2.0dip" />

32 <
g¿d›Á
 
ªdroid
:
¡¬tCŞÜ
="#80ffd300"‡ndroid:
’dCŞÜ
="#a0ffcb00"‡ndroid:
ªgË
="270.0"‡ndroid:
ûÁ”Y
="0.75"‡ndroid:
ûÁ”CŞÜ
="#80ffb600" />

33 </
sh­e
>

34 </
ş
>

35 </
™em
>

36 <
™em
 
ªdroid
:
id
="@android:id/progress">

37 <
ş
>

38 <
sh­e
>

39 <
cÜÃrs
 
ªdroid
:
¿dius
="2.0dip" />

40 <
g¿d›Á
 
ªdroid
:
¡¬tCŞÜ
="#ff6582ã"‡ndroid:
’dCŞÜ
="#ff3e5093"‡ndroid:
ªgË
="270.0"‡ndroid:
ûÁ”Y
="0.75"‡ndroid:
ûÁ”CŞÜ
="#ff5771d8" />

41 </
sh­e
>

42 </
ş
>

43 </
™em
>

44 </
Ïy”
-
li¡
>

	@res/layout-hdpi/action_bar_display_options_custom.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
TextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
‹xt
="@string/app_name"

22 
ªdroid
:
‹xtCŞÜ
="#FFFFFF"

23 
ªdroid
:
‹xtSize
="19sp" />

	@res/layout-hdpi/channel.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="80d"‡ndroid:
Ïyout_height
="48dip"

22 
ªdroid
:
Ü›Á©iÚ
="hÜizÚl"‡ndroid:
background
="@drawable/favorite_button_bg">

23 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

24 
ªdroid
:
Ïyout_width
="78d"‡ndroid:
Ïyout_height
="55dip"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
ImageV›w
 
ªdroid
:
id
="@+id/¶ay_now"‡ndroid:
Ïyout_width
="fill_parent"

28 
ªdroid
:
Ïyout_height
="w¿p_cÚ‹Á"‡ndroid:
¤c
="@drawable/play_now"

29 
ªdroid
:
g¿v™y
="ûÁ”"‡ndroid:
visib™y
="invisible" />

31 <
TextV›w
 
ªdroid
:
id
="@+id/chªÃl_num" 
¡yË
="@style/favoritefontStyle"

32 
ªdroid
:
Ïyout_width
="78d"‡ndroid:
Ïyout_height
="30dip"

33 
ªdroid
:
‹xtSize
="25¥"‡ndroid:
g¿v™y
="center|top"

34 
ªdroid
:
Ïyout_m¬gšTİ
="0dip" />

35 <
TextV›w
 
ªdroid
:
id
="@+id/chªÃl_¡r"‡ndroid:
Ïyout_width
="fill_parent"

36 
ªdroid
:
Ïyout_height
="18d"‡ndroid:
g¿v™y
="center|top"

37 
ªdroid
:
‹xtSize
="12¥"‡ndroid:
‹xt
="@¡ršg/mhz" 
¡yË
="@style/favoritefontStyle" />

38 </
Lš—rLayout
>

39 <
V›w
 
ªdroid
:
background
="@drawable/favorite_line"

40 
ªdroid
:
Ïyout_width
="2px"‡ndroid:
Ïyout_height
="match_parent" />

42 </
Lš—rLayout
>

	@res/layout-hdpi/main.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
id
="@+id/fmradio"

22 
ªdroid
:
Ïyout_width
="match_parent"

23 
ªdroid
:
Ïyout_height
="match_parent"

24 
ªdroid
:
background
="#F0F0F0"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
R–©iveLayout


28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="220dip" >

31 <
com
.
³k®l
.
fm¿dio
.
M¬qu“Text


32 
ªdroid
:
id
="@+id/info_text"

33 
ªdroid
:
Ïyout_width
="250dip"

34 
ªdroid
:
Ïyout_height
="wrap_content"

35 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="true"

36 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

37 
ªdroid
:
Ïyout_m¬gšBÙtom
="20dip"

38 
ªdroid
:
–lsize
="marquee"

39 
ªdroid
:
focu§bË
="true"

40 
ªdroid
:
focu§bËInTouchMode
="true"

41 
ªdroid
:
g¿v™y
="center"

42 
ªdroid
:
m¬qu“R•—tLim™
="marquee_forever"

43 
ªdroid
:
·ddšgLeá
="10dip"

44 
ªdroid
:
·ddšgRight
="10dip"

45 
ªdroid
:
·ddšgTİ
="2dip"

46 
ªdroid
:
sšgËLše
="true"

47 
ªdroid
:
‹xtCŞÜ
="#FF92c2f3"

48 
ªdroid
:
‹xtSize
="20sp"

49 
ªdroid
:
‹xtStyË
="bold" />

51 <
R–©iveLayout


52 
ªdroid
:
Ïyout_width
="match_parent"

53 
ªdroid
:
Ïyout_height
="wrap_content"

54 
ªdroid
:
Ïyout_®ignBÙtom
="@+id/info_text"

55 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

56 
ªdroid
:
Ïyout_m¬gšTİ
="50dip"

57 
ªdroid
:
g¿v™y
="center" >

60 </
R–©iveLayout
>

62 <
R–©iveLayout


63 
ªdroid
:
Ïyout_width
="wrap_content"

64 
ªdroid
:
Ïyout_height
="wrap_content"

65 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

66 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

67 
ªdroid
:
Ïyout_m¬gšTİ
="15dip"

68 
ªdroid
:
background
="@drawable/audio_img" >

70 <
ImageV›w


71 
ªdroid
:
id
="@+id/record_img"

72 
ªdroid
:
Ïyout_width
="wrap_content"

73 
ªdroid
:
Ïyout_height
="wrap_content" />

74 </
R–©iveLayout
>

75 </
R–©iveLayout
>

77 <
Lš—rLayout


78 
ªdroid
:
id
="@+id/stationinfo_layout"

79 
ªdroid
:
Ïyout_width
="match_parent"

80 
ªdroid
:
Ïyout_height
="wrap_content"

81 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

82 
ªdroid
:
background
="@null"

83 
ªdroid
:
Ü›Á©iÚ
="horizontal"

84 
ªdroid
:
·ddšgLeá
="25dip"

85 
ªdroid
:
·ddšgRight
="20dip" >

87 <
ImageBu‰Ú


88 
ªdroid
:
id
="@+id/btn_speaker"

89 
ªdroid
:
Ïyout_width
="wrap_content"

90 
ªdroid
:
Ïyout_height
="wrap_content"

91 
ªdroid
:
Ïyout_m¬gšLeá
="12dip"

92 
ªdroid
:
background
="@null"

93 
ªdroid
:
¤c
="@drawable/button_loudspeaker_on" />

95 <
Lš—rLayout


96 
ªdroid
:
Ïyout_width
="wrap_content"

97 
ªdroid
:
Ïyout_height
="wrap_content"

98 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

99 
ªdroid
:
Ïyout_m¬gšLeá
="8dp"

100 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

102 <
Lš—rLayout


103 
ªdroid
:
Ïyout_width
="wrap_content"

104 
ªdroid
:
Ïyout_height
="match_parent"

105 
ªdroid
:
g¿v™y
="right|bottom" >

107 <
TextV›w


108 
ªdroid
:
id
="@+id/fm_channel"

109 
ªdroid
:
Ïyout_width
="100dip"

110 
ªdroid
:
Ïyout_height
="match_parent"

111 
ªdroid
:
Ïyout_g¿v™y
="left"

112 
ªdroid
:
g¿v™y
="right"

113 
ªdroid
:
‹xtCŞÜ
="#00bdfd"

114 
ªdroid
:
‹xtSize
="34sp" />

115 </
Lš—rLayout
>

117 <
Lš—rLayout


118 
ªdroid
:
Ïyout_width
="20dp"

119 
ªdroid
:
Ïyout_height
="16dip"

120 
ªdroid
:
Ïyout_m¬gšLeá
="4dip"

121 
ªdroid
:
Ïyout_m¬gšTİ
="22dip"

122 
ªdroid
:
g¿v™y
="left" >

124 <
ImageV›w


125 
ªdroid
:
id
="@+id/audio_img1"

126 
ªdroid
:
Ïyout_width
="wrap_content"

127 
ªdroid
:
Ïyout_height
="wrap_content"

128 
ªdroid
:
background
="@drawable/fmtxticon"

129 
ªdroid
:
g¿v™y
="left" />

130 </
Lš—rLayout
>

131 </
Lš—rLayout
>

133 <
ImageBu‰Ú


134 
ªdroid
:
id
="@+id/btn_switch"

135 
ªdroid
:
Ïyout_width
="wrap_content"

136 
ªdroid
:
Ïyout_height
="wrap_content"

137 
ªdroid
:
Ïyout_m¬gšLeá
="29dip"

138 
ªdroid
:
background
="@drawable/btn_stop_normal" />

139 </
Lš—rLayout
>

141 <!-- 
This
 
is
 
äequ’cy
 
šdiÿtÜ
: 
a
 
»d
 
ÃedË
 -->

143 <
R–©iveLayout


144 
ªdroid
:
Ïyout_width
="match_parent"

145 
ªdroid
:
Ïyout_height
="wrap_content"

146 
ªdroid
:
Ïyout_m¬gšLeá
="19dip"

147 
ªdroid
:
Ïyout_m¬gšRight
="19dip"

148 
ªdroid
:
background
="@drawable/greqindicatorbg" >

150 <
com
.
³k®l
.
fm¿dio
.
F»qIndiÿtÜ


151 
ªdroid
:
id
="@+id/freq_indicator_view"

152 
ªdroid
:
Ïyout_width
="match_parent"

153 
ªdroid
:
Ïyout_height
="wrap_content"

154 
ªdroid
:
Ïyout_m¬gšLeá
="-12dip"

155 
ªdroid
:
Ïyout_m¬gšRight
="-12dip"

156 
ªdroid
:
Ïyout_m¬gšTİ
="1dip"

157 
ªdroid
:
max
="20500"

158 
ªdroid
:
´og»ssD¿wabË
="@drawable/freq_indicator_seek"

159 
ªdroid
:
thumb
="@drawable/freq_indicator"

160 
ªdroid
:
thumbOff£t
="0dip" />

161 </
R–©iveLayout
>

164 <
Prog»ssB¬
 
ªdroid
:
id
="@+id/sÿn_ªim"‡ndroid:
Ïyout_width
="fill_parent"

165 
ªdroid
:
Ïyout_height
="0d"‡ndroid:
max
="10"‡ndroid:
´og»ssD¿wabË
="@drawable/loadingbar"

166 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="Œue" 
¡yË
="?android:progressBarStyleHorizontal"

167 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="Œue"‡ndroid:
g¿v™y
="center" />

170 <
R–©iveLayout


171 
ªdroid
:
Ïyout_width
="match_parent"

172 
ªdroid
:
Ïyout_height
="wrap_content"

173 
ªdroid
:
Ïyout_m¬gšLeá
="20dip"

174 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

175 
ªdroid
:
Ïyout_m¬gšRight
="20dip"

176 
ªdroid
:
background
="@drawable/tunerviewbg" >

178 <
ImageBu‰Ú


179 
ªdroid
:
id
="@+id/btn_fmdecrease"

180 
ªdroid
:
Ïyout_width
="wrap_content"

181 
ªdroid
:
Ïyout_height
="wrap_content"

182 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

183 
ªdroid
:
Ïyout_m¬gšLeá
="15dp"

184 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

185 
ªdroid
:
background
="@drawable/transparent"

186 
ªdroid
:
sÿËTy³
="center"

187 
ªdroid
:
¤c
="@drawable/channel_left" />

188 <!-- 
This
 
is
 
hÜizÚl
 
FM
 
tuÃr
 -->

190 <
com
.
³k®l
.
fm¿dio
.
TuÃrV›w


191 
ªdroid
:
id
="@+id/fm_tuner_view"

192 
ªdroid
:
Ïyout_width
="175dp"

193 
ªdroid
:
Ïyout_height
="47dp"

194 
ªdroid
:
Ïyout_ûÁ”InP¬’t
="true"

195 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

196 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

197 
ªdroid
:
·ddšgBÙtom
="10dp"

198 
ªdroid
:
·ddšgTİ
="10dp"

199 
ªdroid
:
¤c
="@drawable/tuner_view_0" />

201 <
ImageBu‰Ú


202 
ªdroid
:
id
="@+id/btn_fmincrease"

203 
ªdroid
:
Ïyout_width
="wrap_content"

204 
ªdroid
:
Ïyout_height
="wrap_content"

205 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

206 
ªdroid
:
Ïyout_m¬gšRight
="15dp"

207 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

208 
ªdroid
:
background
="@drawable/channel_right" />

209 </
R–©iveLayout
>

211 <
R–©iveLayout


212 
ªdroid
:
Ïyout_width
="fill_parent"

213 
ªdroid
:
Ïyout_height
="0dip"

214 
ªdroid
:
Ïyout_m¬gšTİ
="16dp"

215 
ªdroid
:
Ïyout_weight
="1.0"

216 
ªdroid
:
g¿v™y
="center" >

218 <
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w


219 
ªdroid
:
id
="@+id/scrollview"

220 
ªdroid
:
Ïyout_width
="fill_parent"

221 
ªdroid
:
Ïyout_height
="wrap_content"

222 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

223 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

225 <
Lš—rLayout


226 
ªdroid
:
id
="@+id/channels"

227 
ªdroid
:
Ïyout_width
="fill_parent"

228 
ªdroid
:
Ïyout_height
="wrap_content"

229 
ªdroid
:
background
="@drawable/favorite_bg"

230 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

231 </
Lš—rLayout
>

232 </
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w
>

234 <
Bu‰Ú


235 
ªdroid
:
id
="@+id/left"

236 
ªdroid
:
Ïyout_width
="10dip"

237 
ªdroid
:
Ïyout_height
="10dip"

238 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

239 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

240 
ªdroid
:
background
="@drawable/arrow_left"

241 
ªdroid
:
visib™y
="gone" />

243 <
Bu‰Ú


244 
ªdroid
:
id
="@+id/right"

245 
ªdroid
:
Ïyout_width
="10dip"

246 
ªdroid
:
Ïyout_height
="10dip"

247 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

248 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

249 
ªdroid
:
background
="@drawable/arrow_right"

250 
ªdroid
:
visib™y
="gone" />

251 </
R–©iveLayout
>

253 </
Lš—rLayout
>

	@res/layout-ldpi/action_bar_display_options_custom.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
TextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
‹xt
="@string/app_name"

22 
ªdroid
:
‹xtCŞÜ
="#FFFFFF"

23 
ªdroid
:
‹xtSize
="19sp" />

	@res/layout-ldpi/channel.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="90dip"

22 
ªdroid
:
Ïyout_height
="52dip"

23 
ªdroid
:
background
="@drawable/favorite_button_bg"

24 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

26 <
Lš—rLayout


27 
ªdroid
:
Ïyout_width
="78dip"

28 
ªdroid
:
Ïyout_height
="55dip"

29 
ªdroid
:
Ü›Á©iÚ
="vertical" >

31 <
ImageV›w


32 
ªdroid
:
id
="@+id/play_now"

33 
ªdroid
:
Ïyout_width
="fill_parent"

34 
ªdroid
:
Ïyout_height
="wrap_content"

35 
ªdroid
:
g¿v™y
="center"

36 
ªdroid
:
¤c
="@drawable/play_now"

37 
ªdroid
:
visib™y
="invisible" />

39 <
TextV›w


40 
ªdroid
:
id
="@+id/channel_num"

41 
¡yË
="@style/favoritefontStyle"

42 
ªdroid
:
Ïyout_width
="78dip"

43 
ªdroid
:
Ïyout_height
="30dip"

44 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

45 
ªdroid
:
g¿v™y
="center|top"

46 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

47 
ªdroid
:
‹xtSize
="25sp" />

49 <
TextV›w


50 
ªdroid
:
id
="@+id/channel_str"

51 
¡yË
="@style/favoritefontStyle"

52 
ªdroid
:
Ïyout_width
="fill_parent"

53 
ªdroid
:
Ïyout_height
="18dip"

54 
ªdroid
:
g¿v™y
="center|top"

55 
ªdroid
:
‹xt
="@string/mhz"

56 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

57 
ªdroid
:
‹xtSize
="12sp" />

58 </
Lš—rLayout
>

60 <
V›w


61 
ªdroid
:
Ïyout_width
="2px"

62 
ªdroid
:
Ïyout_height
="match_parent"

63 
ªdroid
:
background
="@drawable/favorite_line" />

65 </
Lš—rLayout
>

	@res/layout-ldpi/main.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
id
="@+id/fmradio"

22 
ªdroid
:
Ïyout_width
="match_parent"

23 
ªdroid
:
Ïyout_height
="match_parent"

24 
ªdroid
:
background
="#F5F5F5"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
R–©iveLayout


28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="130dip" >

33 <
R–©iveLayout


34 
ªdroid
:
Ïyout_width
="130dip"

35 
ªdroid
:
Ïyout_height
="130dip"

36 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

37 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

38 
ªdroid
:
Ïyout_m¬gšTİ
="5dip"

39 
ªdroid
:
background
="@drawable/audio_img" >

41 <
ImageV›w


42 
ªdroid
:
id
="@+id/record_img"

43 
ªdroid
:
Ïyout_width
="wrap_content"

44 
ªdroid
:
Ïyout_height
="wrap_content" />

45 </
R–©iveLayout
>

46 <
com
.
³k®l
.
fm¿dio
.
M¬qu“Text


47 
ªdroid
:
id
="@+id/info_text"

48 
ªdroid
:
Ïyout_width
="70dip"

49 
ªdroid
:
Ïyout_height
="wrap_content"

50 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="true"

51 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

52 
ªdroid
:
Ïyout_m¬gšBÙtom
="45dip"

53 
ªdroid
:
–lsize
="marquee"

54 
ªdroid
:
focu§bË
="true"

55 
ªdroid
:
focu§bËInTouchMode
="true"

56 
ªdroid
:
g¿v™y
="center"

57 
ªdroid
:
m¬qu“R•—tLim™
="marquee_forever"

58 
ªdroid
:
·ddšgLeá
="10dip"

59 
ªdroid
:
·ddšgRight
="10dip"

60 
ªdroid
:
sšgËLše
="true"

61 
ªdroid
:
‹xtCŞÜ
="#FFf5f5f5"

62 
ªdroid
:
‹xtSize
="16sp"

63 
ªdroid
:
‹xtStyË
="bold" />

64 </
R–©iveLayout
>

66 <
Lš—rLayout


67 
ªdroid
:
id
="@+id/stationinfo_layout"

68 
ªdroid
:
Ïyout_width
="fill_parent"

69 
ªdroid
:
Ïyout_height
="wrap_content"

70 
ªdroid
:
Ïyout_m¬gšTİ
="-25dip"

71 
ªdroid
:
background
="@null"

72 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

74 <
Lš—rLayout


75 
ªdroid
:
Ïyout_width
="0dp"

76 
ªdroid
:
Ïyout_height
="wrap_content"

77 
ªdroid
:
Ïyout_g¿v™y
="center_vertical"

78 
ªdroid
:
Ïyout_weight
="1"

79 
ªdroid
:
Ü›Á©iÚ
="vertical" >

81 <
ImageBu‰Ú


82 
ªdroid
:
id
="@+id/btn_speaker"

83 
ªdroid
:
Ïyout_width
="wrap_content"

84 
ªdroid
:
Ïyout_height
="wrap_content"

85 
ªdroid
:
Ïyout_g¿v™y
="right"

86 
ªdroid
:
background
="@null"

87 
ªdroid
:
¤c
="@drawable/button_loudspeaker_on" />

88 </
Lš—rLayout
>

90 <
Lš—rLayout


91 
ªdroid
:
Ïyout_width
="0dp"

92 
ªdroid
:
Ïyout_height
="wrap_content"

93 
ªdroid
:
Ïyout_m¬gšTİ
="25dip"

94 
ªdroid
:
Ïyout_weight
="2"

95 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

97 <
Lš—rLayout


98 
ªdroid
:
Ïyout_width
="25dp"

99 
ªdroid
:
Ïyout_height
="16dip" >

100 </
Lš—rLayout
>

102 <
Lš—rLayout


103 
ªdroid
:
Ïyout_width
="wrap_content"

104 
ªdroid
:
Ïyout_height
="match_parent"

105 
ªdroid
:
Ïyout_g¿v™y
="right" >

107 <
TextV›w


108 
ªdroid
:
id
="@+id/fm_channel"

109 
ªdroid
:
Ïyout_width
="100dip"

110 
ªdroid
:
Ïyout_height
="match_parent"

111 
ªdroid
:
‹xtCŞÜ
="#00bdfd"

112 
ªdroid
:
‹xtSize
="36sp" />

113 </
Lš—rLayout
>

115 <
Lš—rLayout


116 
ªdroid
:
Ïyout_width
="25dp"

117 
ªdroid
:
Ïyout_height
="16dip"

118 
ªdroid
:
Ïyout_m¬gšTİ
="26dip"

119 
ªdroid
:
g¿v™y
="right" >

121 <
ImageV›w


122 
ªdroid
:
id
="@+id/audio_img1"

123 
ªdroid
:
Ïyout_width
="wrap_content"

124 
ªdroid
:
Ïyout_height
="wrap_content"

125 
ªdroid
:
background
="@drawable/fmtxticon" />

126 </
Lš—rLayout
>

127 </
Lš—rLayout
>

129 <
Lš—rLayout


130 
ªdroid
:
Ïyout_width
="0dp"

131 
ªdroid
:
Ïyout_height
="wrap_content"

132 
ªdroid
:
Ïyout_g¿v™y
="center_vertical"

133 
ªdroid
:
Ïyout_weight
="1"

134 
ªdroid
:
Ü›Á©iÚ
="vertical" >

136 <
ImageBu‰Ú


137 
ªdroid
:
id
="@+id/btn_switch"

138 
ªdroid
:
Ïyout_width
="wrap_content"

139 
ªdroid
:
Ïyout_height
="wrap_content"

140 
ªdroid
:
background
="@drawable/btn_stop_normal" />

141 </
Lš—rLayout
>

142 </
Lš—rLayout
>

144 <!-- 
This
 
is
 
äequ’cy
 
šdiÿtÜ
: 
a
 
»d
 
ÃedË
 -->

146 <
R–©iveLayout


147 
ªdroid
:
Ïyout_width
="match_parent"

148 
ªdroid
:
Ïyout_height
="wrap_content"

149 
ªdroid
:
Ïyout_m¬gšLeá
="20dip"

150 
ªdroid
:
Ïyout_m¬gšRight
="20dip"

151 
ªdroid
:
Ïyout_m¬gšTİ
="10dip"

152 
ªdroid
:
background
="@drawable/greqindicatorbg" >

154 <
com
.
³k®l
.
fm¿dio
.
F»qIndiÿtÜ


155 
ªdroid
:
id
="@+id/freq_indicator_view"

156 
ªdroid
:
Ïyout_width
="match_parent"

157 
ªdroid
:
Ïyout_height
="wrap_content"

158 
ªdroid
:
Ïyout_m¬gšLeá
="-9dip"

159 
ªdroid
:
Ïyout_m¬gšRight
="-10dip"

160 
ªdroid
:
Ïyout_m¬gšTİ
="3dip"

161 
ªdroid
:
max
="20500"

162 
ªdroid
:
´og»ssD¿wabË
="@drawable/freq_indicator_seek"

163 
ªdroid
:
thumb
="@drawable/freq_indicator"

164 
ªdroid
:
thumbOff£t
="0dip" />

165 </
R–©iveLayout
>

168 <
Prog»ssB¬
 
ªdroid
:
id
="@+id/sÿn_ªim"‡ndroid:
Ïyout_width
="fill_parent"

169 
ªdroid
:
Ïyout_height
="0d"‡ndroid:
max
="10"‡ndroid:
´og»ssD¿wabË
="@drawable/loadingbar"

170 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="Œue" 
¡yË
="?android:progressBarStyleHorizontal"

171 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="Œue"‡ndroid:
g¿v™y
="center" />

174 <
R–©iveLayout


175 
ªdroid
:
Ïyout_width
="206px"

176 
ªdroid
:
Ïyout_height
="35px"

177 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

178 
ªdroid
:
background
="@drawable/tunerviewbg" >

180 <
ImageBu‰Ú


181 
ªdroid
:
id
="@+id/btn_fmdecrease"

182 
ªdroid
:
Ïyout_width
="wrap_content"

183 
ªdroid
:
Ïyout_height
="wrap_content"

184 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

185 
ªdroid
:
Ïyout_m¬gšTİ
="9dp"

186 
ªdroid
:
Ïyout_m¬gšLeá
="3dp"

187 
ªdroid
:
background
="@drawable/transparent"

188 
ªdroid
:
sÿËTy³
="center"

189 
ªdroid
:
¤c
="@drawable/channel_left" />

190 <!-- 
This
 
is
 
hÜizÚl
 
FM
 
tuÃr
 -->

192 <
com
.
³k®l
.
fm¿dio
.
TuÃrV›w


193 
ªdroid
:
id
="@+id/fm_tuner_view"

194 
ªdroid
:
Ïyout_width
="151px"

195 
ªdroid
:
Ïyout_height
="55dp"

196 
ªdroid
:
Ïyout_ûÁ”InP¬’t
="true"

197 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

198 
ªdroid
:
·ddšgBÙtom
="10dp"

199 
ªdroid
:
·ddšgTİ
="10dp"

200 
ªdroid
:
¤c
="@drawable/tuner_view_0" />

202 <
ImageBu‰Ú


203 
ªdroid
:
id
="@+id/btn_fmincrease"

204 
ªdroid
:
Ïyout_width
="wrap_content"

205 
ªdroid
:
Ïyout_height
="wrap_content"

206 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

207 
ªdroid
:
Ïyout_m¬gšTİ
="9dp"

208 
ªdroid
:
Ïyout_m¬gšRight
="3dp"

209 
ªdroid
:
background
="@drawable/channel_right" />

210 </
R–©iveLayout
>

212 <
R–©iveLayout


214 
ªdroid
:
Ïyout_width
="fill_parent"

215 
ªdroid
:
Ïyout_height
="0dip"

216 
ªdroid
:
Ïyout_m¬gšTİ
="1dp"

217 
ªdroid
:
Ïyout_weight
="1.0"

218 
ªdroid
:
g¿v™y
="center" >

220 <
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w


221 
ªdroid
:
id
="@+id/scrollview"

222 
ªdroid
:
Ïyout_width
="fill_parent"

223 
ªdroid
:
Ïyout_height
="wrap_content"

224 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

225 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

227 <
Lš—rLayout


228 
ªdroid
:
id
="@+id/channels"

229 
ªdroid
:
Ïyout_width
="fill_parent"

230 
ªdroid
:
Ïyout_height
="wrap_content"

231 
ªdroid
:
background
="@drawable/favorite_bg"

232 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

233 </
Lš—rLayout
>

234 </
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w
>

236 <
Bu‰Ú


237 
ªdroid
:
id
="@+id/left"

238 
ªdroid
:
Ïyout_width
="10dip"

239 
ªdroid
:
Ïyout_height
="10dip"

240 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

241 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

242 
ªdroid
:
background
="@drawable/arrow_left"

243 
ªdroid
:
visib™y
="gone" />

245 <
Bu‰Ú


246 
ªdroid
:
id
="@+id/right"

247 
ªdroid
:
Ïyout_width
="10dip"

248 
ªdroid
:
Ïyout_height
="10dip"

249 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

250 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

251 
ªdroid
:
background
="@drawable/arrow_right"

252 
ªdroid
:
visib™y
="gone" />

253 </
R–©iveLayout
>

255 </
Lš—rLayout
>

	@res/layout-mdpi/action_bar_display_options_custom.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
TextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
‹xt
="@string/app_name"

22 
ªdroid
:
‹xtCŞÜ
="#FFFFFF"

23 
ªdroid
:
‹xtSize
="19sp" />

	@res/layout-mdpi/channel.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="90dip"

22 
ªdroid
:
Ïyout_height
="52dip"

23 
ªdroid
:
background
="@drawable/favorite_button_bg"

24 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

26 <
Lš—rLayout


27 
ªdroid
:
Ïyout_width
="78dip"

28 
ªdroid
:
Ïyout_height
="55dip"

29 
ªdroid
:
Ü›Á©iÚ
="vertical" >

31 <
ImageV›w


32 
ªdroid
:
id
="@+id/play_now"

33 
ªdroid
:
Ïyout_width
="fill_parent"

34 
ªdroid
:
Ïyout_height
="wrap_content"

35 
ªdroid
:
g¿v™y
="center"

36 
ªdroid
:
¤c
="@drawable/play_now"

37 
ªdroid
:
visib™y
="invisible" />

39 <
TextV›w


40 
ªdroid
:
id
="@+id/channel_num"

41 
¡yË
="@style/favoritefontStyle"

42 
ªdroid
:
Ïyout_width
="78dip"

43 
ªdroid
:
Ïyout_height
="30dip"

44 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

45 
ªdroid
:
g¿v™y
="center|top"

46 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

47 
ªdroid
:
‹xtSize
="25sp" />

49 <
TextV›w


50 
ªdroid
:
id
="@+id/channel_str"

51 
¡yË
="@style/favoritefontStyle"

52 
ªdroid
:
Ïyout_width
="fill_parent"

53 
ªdroid
:
Ïyout_height
="18dip"

54 
ªdroid
:
g¿v™y
="center|top"

55 
ªdroid
:
‹xt
="@string/mhz"

56 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

57 
ªdroid
:
‹xtSize
="12sp" />

58 </
Lš—rLayout
>

60 <
V›w


61 
ªdroid
:
Ïyout_width
="2px"

62 
ªdroid
:
Ïyout_height
="match_parent"

63 
ªdroid
:
background
="@drawable/favorite_line" />

65 </
Lš—rLayout
>

	@res/layout-mdpi/main.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
id
="@+id/fmradio"

22 
ªdroid
:
Ïyout_width
="match_parent"

23 
ªdroid
:
Ïyout_height
="match_parent"

24 
ªdroid
:
background
="#F5F5F5"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
R–©iveLayout


28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="170dip" >

33 <
R–©iveLayout


34 
ªdroid
:
Ïyout_width
="170dip"

35 
ªdroid
:
Ïyout_height
="170dip"

36 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

37 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

38 
ªdroid
:
Ïyout_m¬gšTİ
="5dip"

39 
ªdroid
:
background
="@drawable/audio_img" >

41 <
ImageV›w


42 
ªdroid
:
id
="@+id/record_img"

43 
ªdroid
:
Ïyout_width
="wrap_content"

44 
ªdroid
:
Ïyout_height
="wrap_content" />

45 </
R–©iveLayout
>

46 <
com
.
³k®l
.
fm¿dio
.
M¬qu“Text


47 
ªdroid
:
id
="@+id/info_text"

48 
ªdroid
:
Ïyout_width
="100dip"

49 
ªdroid
:
Ïyout_height
="wrap_content"

50 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="true"

51 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

52 
ªdroid
:
Ïyout_m¬gšBÙtom
="45dip"

53 
ªdroid
:
–lsize
="marquee"

54 
ªdroid
:
focu§bË
="true"

55 
ªdroid
:
focu§bËInTouchMode
="true"

56 
ªdroid
:
g¿v™y
="center"

57 
ªdroid
:
m¬qu“R•—tLim™
="marquee_forever"

58 
ªdroid
:
·ddšgLeá
="10dip"

59 
ªdroid
:
·ddšgRight
="10dip"

60 
ªdroid
:
sšgËLše
="true"

61 
ªdroid
:
‹xtCŞÜ
="#FFf5f5f5"

62 
ªdroid
:
‹xtSize
="16sp"

63 
ªdroid
:
‹xtStyË
="bold" />

64 </
R–©iveLayout
>

66 <
Lš—rLayout


67 
ªdroid
:
id
="@+id/stationinfo_layout"

68 
ªdroid
:
Ïyout_width
="fill_parent"

69 
ªdroid
:
Ïyout_height
="wrap_content"

70 
ªdroid
:
Ïyout_m¬gšTİ
="-25dip"

71 
ªdroid
:
background
="@null"

72 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

74 <
Lš—rLayout


75 
ªdroid
:
Ïyout_width
="0dp"

76 
ªdroid
:
Ïyout_height
="wrap_content"

77 
ªdroid
:
Ïyout_g¿v™y
="center_vertical"

78 
ªdroid
:
Ïyout_weight
="1"

79 
ªdroid
:
Ü›Á©iÚ
="vertical" >

81 <
ImageBu‰Ú


82 
ªdroid
:
id
="@+id/btn_speaker"

83 
ªdroid
:
Ïyout_width
="wrap_content"

84 
ªdroid
:
Ïyout_height
="wrap_content"

85 
ªdroid
:
Ïyout_g¿v™y
="right"

86 
ªdroid
:
background
="@null"

87 
ªdroid
:
¤c
="@drawable/button_loudspeaker_on" />

88 </
Lš—rLayout
>

90 <
Lš—rLayout


91 
ªdroid
:
Ïyout_width
="0dp"

92 
ªdroid
:
Ïyout_height
="wrap_content"

93 
ªdroid
:
Ïyout_m¬gšTİ
="25dip"

94 
ªdroid
:
Ïyout_weight
="2"

95 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

97 <
Lš—rLayout


98 
ªdroid
:
Ïyout_width
="25dp"

99 
ªdroid
:
Ïyout_height
="16dip" >

100 </
Lš—rLayout
>

102 <
Lš—rLayout


103 
ªdroid
:
Ïyout_width
="wrap_content"

104 
ªdroid
:
Ïyout_height
="match_parent"

105 
ªdroid
:
Ïyout_g¿v™y
="right" >

107 <
TextV›w


108 
ªdroid
:
id
="@+id/fm_channel"

109 
ªdroid
:
Ïyout_width
="100dip"

110 
ªdroid
:
Ïyout_height
="match_parent"

111 
ªdroid
:
‹xtCŞÜ
="#00bdfd"

112 
ªdroid
:
‹xtSize
="38sp" />

113 </
Lš—rLayout
>

115 <
Lš—rLayout


116 
ªdroid
:
Ïyout_width
="25dp"

117 
ªdroid
:
Ïyout_height
="16dip"

118 
ªdroid
:
Ïyout_m¬gšTİ
="26dip"

119 
ªdroid
:
g¿v™y
="right" >

121 <
ImageV›w


122 
ªdroid
:
id
="@+id/audio_img1"

123 
ªdroid
:
Ïyout_width
="wrap_content"

124 
ªdroid
:
Ïyout_height
="wrap_content"

125 
ªdroid
:
background
="@drawable/fmtxticon" />

126 </
Lš—rLayout
>

127 </
Lš—rLayout
>

129 <
Lš—rLayout


130 
ªdroid
:
Ïyout_width
="0dp"

131 
ªdroid
:
Ïyout_height
="wrap_content"

132 
ªdroid
:
Ïyout_g¿v™y
="center_vertical"

133 
ªdroid
:
Ïyout_weight
="1"

134 
ªdroid
:
Ü›Á©iÚ
="vertical" >

136 <
ImageBu‰Ú


137 
ªdroid
:
id
="@+id/btn_switch"

138 
ªdroid
:
Ïyout_width
="wrap_content"

139 
ªdroid
:
Ïyout_height
="wrap_content"

140 
ªdroid
:
background
="@drawable/btn_stop_normal" />

141 </
Lš—rLayout
>

142 </
Lš—rLayout
>

144 <!-- 
This
 
is
 
äequ’cy
 
šdiÿtÜ
: 
a
 
»d
 
ÃedË
 -->

146 <
R–©iveLayout


147 
ªdroid
:
Ïyout_width
="match_parent"

148 
ªdroid
:
Ïyout_height
="wrap_content"

149 
ªdroid
:
Ïyout_m¬gšLeá
="16dip"

150 
ªdroid
:
Ïyout_m¬gšRight
="16dip"

151 
ªdroid
:
Ïyout_m¬gšTİ
="10dip"

152 
ªdroid
:
background
="@drawable/greqindicatorbg" >

154 <
com
.
³k®l
.
fm¿dio
.
F»qIndiÿtÜ


155 
ªdroid
:
id
="@+id/freq_indicator_view"

156 
ªdroid
:
Ïyout_width
="match_parent"

157 
ªdroid
:
Ïyout_height
="wrap_content"

158 
ªdroid
:
Ïyout_m¬gšLeá
="-9dip"

159 
ªdroid
:
Ïyout_m¬gšRight
="-10dip"

160 
ªdroid
:
Ïyout_m¬gšTİ
="5dip"

161 
ªdroid
:
max
="20500"

162 
ªdroid
:
´og»ssD¿wabË
="@drawable/freq_indicator_seek"

163 
ªdroid
:
thumb
="@drawable/freq_indicator"

164 
ªdroid
:
thumbOff£t
="0dip" />

165 </
R–©iveLayout
>

168 <
Prog»ssB¬
 
ªdroid
:
id
="@+id/sÿn_ªim"‡ndroid:
Ïyout_width
="fill_parent"

169 
ªdroid
:
Ïyout_height
="0d"‡ndroid:
max
="10"‡ndroid:
´og»ssD¿wabË
="@drawable/loadingbar"

170 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="Œue" 
¡yË
="?android:progressBarStyleHorizontal"

171 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="Œue"‡ndroid:
g¿v™y
="center" />

174 <
R–©iveLayout


175 
ªdroid
:
Ïyout_width
="256px"

176 
ªdroid
:
Ïyout_height
="52px"

177 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

178 
ªdroid
:
background
="@drawable/tunerviewbg" >

180 <
ImageBu‰Ú


181 
ªdroid
:
id
="@+id/btn_fmdecrease"

182 
ªdroid
:
Ïyout_width
="wrap_content"

183 
ªdroid
:
Ïyout_height
="wrap_content"

184 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

185 
ªdroid
:
Ïyout_m¬gšLeá
="7dip"

186 
ªdroid
:
Ïyout_m¬gšTİ
="5dp"

187 
ªdroid
:
background
="@drawable/transparent"

188 
ªdroid
:
sÿËTy³
="center"

189 
ªdroid
:
¤c
="@drawable/channel_left" />

190 <!-- 
This
 
is
 
hÜizÚl
 
FM
 
tuÃr
 -->

192 <
com
.
³k®l
.
fm¿dio
.
TuÃrV›w


193 
ªdroid
:
id
="@+id/fm_tuner_view"

194 
ªdroid
:
Ïyout_width
="164px"

195 
ªdroid
:
Ïyout_height
="53dp"

196 
ªdroid
:
Ïyout_ûÁ”InP¬’t
="true"

197 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

198 
ªdroid
:
·ddšgBÙtom
="10dp"

199 
ªdroid
:
·ddšgTİ
="10dp"

200 
ªdroid
:
¤c
="@drawable/tuner_view_0" />

202 <
ImageBu‰Ú


203 
ªdroid
:
id
="@+id/btn_fmincrease"

204 
ªdroid
:
Ïyout_width
="wrap_content"

205 
ªdroid
:
Ïyout_height
="wrap_content"

206 
ªdroid
:
Ïyout_m¬gšRight
="5dip"

207 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

208 
ªdroid
:
Ïyout_m¬gšTİ
="5dp"

209 
ªdroid
:
background
="@drawable/channel_right" />

210 </
R–©iveLayout
>

212 <
R–©iveLayout


214 
ªdroid
:
Ïyout_width
="fill_parent"

215 
ªdroid
:
Ïyout_height
="0dip"

216 
ªdroid
:
Ïyout_m¬gšTİ
="1dp"

217 
ªdroid
:
Ïyout_weight
="1.0"

218 
ªdroid
:
g¿v™y
="center" >

220 <
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w


221 
ªdroid
:
id
="@+id/scrollview"

222 
ªdroid
:
Ïyout_width
="fill_parent"

223 
ªdroid
:
Ïyout_height
="wrap_content"

224 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

225 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

227 <
Lš—rLayout


228 
ªdroid
:
id
="@+id/channels"

229 
ªdroid
:
Ïyout_width
="fill_parent"

230 
ªdroid
:
Ïyout_height
="wrap_content"

231 
ªdroid
:
background
="@drawable/favorite_bg"

232 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

233 </
Lš—rLayout
>

234 </
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w
>

236 <
Bu‰Ú


237 
ªdroid
:
id
="@+id/left"

238 
ªdroid
:
Ïyout_width
="10dip"

239 
ªdroid
:
Ïyout_height
="10dip"

240 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

241 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

242 
ªdroid
:
background
="@drawable/arrow_left"

243 
ªdroid
:
visib™y
="gone" />

245 <
Bu‰Ú


246 
ªdroid
:
id
="@+id/right"

247 
ªdroid
:
Ïyout_width
="10dip"

248 
ªdroid
:
Ïyout_height
="10dip"

249 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

250 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

251 
ªdroid
:
background
="@drawable/arrow_right"

252 
ªdroid
:
visib™y
="gone" />

253 </
R–©iveLayout
>

255 </
Lš—rLayout
>

	@res/layout-xhdpi/action_bar_display_options_custom.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
TextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
‹xt
="@string/app_name"

22 
ªdroid
:
‹xtCŞÜ
="#FFFFFF"

23 
ªdroid
:
‹xtSize
="19sp" />

	@res/layout-xhdpi/channel.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="90dip"

22 
ªdroid
:
Ïyout_height
="52dip"

23 
ªdroid
:
background
="@drawable/favorite_button_bg"

24 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

26 <
Lš—rLayout


27 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

28 
ªdroid
:
Ïyout_width
="78dip"

29 
ªdroid
:
Ïyout_height
="55dip"

30 
ªdroid
:
Ü›Á©iÚ
="vertical" >

32 <
ImageV›w


33 
ªdroid
:
id
="@+id/play_now"

34 
ªdroid
:
Ïyout_width
="fill_parent"

35 
ªdroid
:
Ïyout_height
="wrap_content"

36 
ªdroid
:
g¿v™y
="center"

37 
ªdroid
:
¤c
="@drawable/play_now"

38 
ªdroid
:
visib™y
="invisible" />

40 <
TextV›w


41 
ªdroid
:
id
="@+id/channel_num"

42 
¡yË
="@style/favoritefontStyle"

43 
ªdroid
:
Ïyout_width
="78dip"

44 
ªdroid
:
Ïyout_height
="30dip"

45 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

46 
ªdroid
:
g¿v™y
="center|top"

47 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

48 
ªdroid
:
‹xtSize
="25sp" />

50 <
TextV›w


51 
ªdroid
:
id
="@+id/channel_str"

52 
¡yË
="@style/favoritefontStyle"

53 
ªdroid
:
Ïyout_width
="fill_parent"

54 
ªdroid
:
Ïyout_height
="18dip"

55 
ªdroid
:
g¿v™y
="center|top"

56 
ªdroid
:
‹xt
="@string/mhz"

57 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

58 
ªdroid
:
‹xtSize
="12sp" />

59 </
Lš—rLayout
>

61 <
V›w


62 
ªdroid
:
Ïyout_width
="2px"

63 
ªdroid
:
Ïyout_height
="match_parent"

64 
ªdroid
:
background
="@drawable/favorite_line" />

66 </
Lš—rLayout
>

	@res/layout-xhdpi/main.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
id
="@+id/fmradio"

22 
ªdroid
:
Ïyout_width
="match_parent"

23 
ªdroid
:
Ïyout_height
="match_parent"

24 
ªdroid
:
background
="#F5F5F5"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
R–©iveLayout


28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="245dip" >

31 <
com
.
³k®l
.
fm¿dio
.
M¬qu“Text


32 
ªdroid
:
id
="@+id/info_text"

33 
ªdroid
:
Ïyout_width
="250dip"

34 
ªdroid
:
Ïyout_height
="wrap_content"

35 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="true"

36 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

37 
ªdroid
:
Ïyout_m¬gšBÙtom
="20dip"

38 
ªdroid
:
–lsize
="marquee"

39 
ªdroid
:
focu§bË
="true"

40 
ªdroid
:
focu§bËInTouchMode
="true"

41 
ªdroid
:
g¿v™y
="center"

42 
ªdroid
:
m¬qu“R•—tLim™
="marquee_forever"

43 
ªdroid
:
·ddšgLeá
="10dip"

44 
ªdroid
:
·ddšgRight
="10dip"

45 
ªdroid
:
·ddšgTİ
="2dip"

46 
ªdroid
:
sšgËLše
="true"

47 
ªdroid
:
‹xtCŞÜ
="#FF92c2f3"

48 
ªdroid
:
‹xtSize
="20sp"

49 
ªdroid
:
‹xtStyË
="bold" />

51 <
R–©iveLayout


52 
ªdroid
:
Ïyout_width
="match_parent"

53 
ªdroid
:
Ïyout_height
="wrap_content"

54 
ªdroid
:
Ïyout_®ignBÙtom
="@+id/info_text"

55 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

56 
ªdroid
:
Ïyout_m¬gšTİ
="50dip"

57 
ªdroid
:
g¿v™y
="center" >

60 </
R–©iveLayout
>

62 <
R–©iveLayout


63 
ªdroid
:
Ïyout_width
="wrap_content"

64 
ªdroid
:
Ïyout_height
="wrap_content"

65 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

66 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

67 
ªdroid
:
Ïyout_m¬gšTİ
="15dip"

68 
ªdroid
:
background
="@drawable/audio_img" >

70 <
ImageV›w


71 
ªdroid
:
id
="@+id/record_img"

72 
ªdroid
:
Ïyout_width
="wrap_content"

73 
ªdroid
:
Ïyout_height
="wrap_content" />

74 </
R–©iveLayout
>

75 </
R–©iveLayout
>

77 <
Lš—rLayout


78 
ªdroid
:
id
="@+id/stationinfo_layout"

79 
ªdroid
:
Ïyout_width
="match_parent"

80 
ªdroid
:
Ïyout_height
="wrap_content"

81 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

82 
ªdroid
:
background
="@null"

83 
ªdroid
:
Ü›Á©iÚ
="horizontal"

84 
ªdroid
:
·ddšgLeá
="25dip"

85 
ªdroid
:
·ddšgRight
="20dip" >

87 <
ImageBu‰Ú


88 
ªdroid
:
id
="@+id/btn_speaker"

89 
ªdroid
:
Ïyout_width
="wrap_content"

90 
ªdroid
:
Ïyout_height
="wrap_content"

91 
ªdroid
:
Ïyout_m¬gšLeá
="12dip"

92 
ªdroid
:
background
="@null"

93 
ªdroid
:
¤c
="@drawable/button_loudspeaker_on" />

95 <
Lš—rLayout


96 
ªdroid
:
Ïyout_width
="wrap_content"

97 
ªdroid
:
Ïyout_height
="wrap_content"

98 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

99 
ªdroid
:
Ïyout_m¬gšLeá
="18dp"

100 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

102 <
Lš—rLayout


103 
ªdroid
:
Ïyout_width
="wrap_content"

104 
ªdroid
:
Ïyout_height
="match_parent"

105 
ªdroid
:
g¿v™y
="right" >

107 <
TextV›w


108 
ªdroid
:
id
="@+id/fm_channel"

109 
ªdroid
:
Ïyout_width
="100dip"

110 
ªdroid
:
Ïyout_height
="match_parent"

111 
ªdroid
:
Ïyout_g¿v™y
="left"

112 
ªdroid
:
g¿v™y
="right"

113 
ªdroid
:
‹xtCŞÜ
="#00bdfd"

114 
ªdroid
:
‹xtSize
="38sp" />

115 </
Lš—rLayout
>

117 <
Lš—rLayout


118 
ªdroid
:
Ïyout_width
="25dp"

119 
ªdroid
:
Ïyout_height
="16dip"

120 
ªdroid
:
Ïyout_m¬gšLeá
="12dip"

121 
ªdroid
:
Ïyout_m¬gšTİ
="26dip"

122 
ªdroid
:
g¿v™y
="left" >

124 <
ImageV›w


125 
ªdroid
:
id
="@+id/audio_img1"

126 
ªdroid
:
Ïyout_width
="wrap_content"

127 
ªdroid
:
Ïyout_height
="wrap_content"

128 
ªdroid
:
background
="@drawable/fmtxticon"

129 
ªdroid
:
g¿v™y
="left" />

130 </
Lš—rLayout
>

131 </
Lš—rLayout
>

133 <
ImageBu‰Ú


134 
ªdroid
:
id
="@+id/btn_switch"

135 
ªdroid
:
Ïyout_width
="wrap_content"

136 
ªdroid
:
Ïyout_height
="wrap_content"

137 
ªdroid
:
Ïyout_m¬gšLeá
="29dip"

138 
ªdroid
:
background
="@drawable/btn_stop_normal" />

139 </
Lš—rLayout
>

141 <!-- 
This
 
is
 
äequ’cy
 
šdiÿtÜ
: 
a
 
»d
 
ÃedË
 -->

143 <
R–©iveLayout


144 
ªdroid
:
Ïyout_width
="match_parent"

145 
ªdroid
:
Ïyout_height
="wrap_content"

146 
ªdroid
:
Ïyout_m¬gšLeá
="19dip"

147 
ªdroid
:
Ïyout_m¬gšRight
="19dip"

148 
ªdroid
:
background
="@drawable/greqindicatorbg" >

150 <
com
.
³k®l
.
fm¿dio
.
F»qIndiÿtÜ


151 
ªdroid
:
id
="@+id/freq_indicator_view"

152 
ªdroid
:
Ïyout_width
="match_parent"

153 
ªdroid
:
Ïyout_height
="wrap_content"

154 
ªdroid
:
Ïyout_m¬gšLeá
="-12dip"

155 
ªdroid
:
Ïyout_m¬gšRight
="-12dip"

156 
ªdroid
:
Ïyout_m¬gšTİ
="5dip"

157 
ªdroid
:
max
="20500"

158 
ªdroid
:
´og»ssD¿wabË
="@drawable/freq_indicator_seek"

159 
ªdroid
:
thumb
="@drawable/freq_indicator"

160 
ªdroid
:
thumbOff£t
="0dip" />

161 </
R–©iveLayout
>

164 <
Prog»ssB¬
 
ªdroid
:
id
="@+id/sÿn_ªim"‡ndroid:
Ïyout_width
="fill_parent"

165 
ªdroid
:
Ïyout_height
="0d"‡ndroid:
max
="10"‡ndroid:
´og»ssD¿wabË
="@drawable/loadingbar"

166 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="Œue" 
¡yË
="?android:progressBarStyleHorizontal"

167 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="Œue"‡ndroid:
g¿v™y
="center" />

170 <
R–©iveLayout


171 
ªdroid
:
Ïyout_width
="match_parent"

172 
ªdroid
:
Ïyout_height
="wrap_content"

173 
ªdroid
:
Ïyout_m¬gšLeá
="20dip"

174 
ªdroid
:
Ïyout_m¬gšRight
="20dip"

175 
ªdroid
:
background
="@drawable/tunerviewbg" >

177 <
ImageBu‰Ú


178 
ªdroid
:
id
="@+id/btn_fmdecrease"

179 
ªdroid
:
Ïyout_width
="wrap_content"

180 
ªdroid
:
Ïyout_height
="wrap_content"

181 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

182 
ªdroid
:
Ïyout_m¬gšLeá
="15dp"

183 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

184 
ªdroid
:
background
="@drawable/transparent"

185 
ªdroid
:
sÿËTy³
="center"

186 
ªdroid
:
¤c
="@drawable/channel_left" />

187 <!-- 
This
 
is
 
hÜizÚl
 
FM
 
tuÃr
 -->

189 <
com
.
³k®l
.
fm¿dio
.
TuÃrV›w


190 
ªdroid
:
id
="@+id/fm_tuner_view"

191 
ªdroid
:
Ïyout_width
="200dp"

192 
ªdroid
:
Ïyout_height
="55dp"

193 
ªdroid
:
Ïyout_ûÁ”InP¬’t
="true"

194 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

195 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

196 
ªdroid
:
·ddšgBÙtom
="10dp"

197 
ªdroid
:
·ddšgTİ
="10dp"

198 
ªdroid
:
¤c
="@drawable/tuner_view_0" />

200 <
ImageBu‰Ú


201 
ªdroid
:
id
="@+id/btn_fmincrease"

202 
ªdroid
:
Ïyout_width
="wrap_content"

203 
ªdroid
:
Ïyout_height
="wrap_content"

204 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

205 
ªdroid
:
Ïyout_m¬gšRight
="15dp"

206 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

207 
ªdroid
:
background
="@drawable/channel_right" />

208 </
R–©iveLayout
>

210 <
R–©iveLayout


211 
ªdroid
:
Ïyout_width
="fill_parent"

212 
ªdroid
:
Ïyout_height
="0dip"

213 
ªdroid
:
Ïyout_m¬gšTİ
="16dp"

214 
ªdroid
:
Ïyout_weight
="1.0"

215 
ªdroid
:
g¿v™y
="center" >

217 <
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w


218 
ªdroid
:
id
="@+id/scrollview"

219 
ªdroid
:
Ïyout_width
="fill_parent"

220 
ªdroid
:
Ïyout_height
="wrap_content"

221 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

222 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

224 <
Lš—rLayout


225 
ªdroid
:
id
="@+id/channels"

226 
ªdroid
:
Ïyout_width
="fill_parent"

227 
ªdroid
:
Ïyout_height
="wrap_content"

228 
ªdroid
:
background
="@drawable/favorite_bg"

229 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

230 </
Lš—rLayout
>

231 </
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w
>

233 <
Bu‰Ú


234 
ªdroid
:
id
="@+id/left"

235 
ªdroid
:
Ïyout_width
="10dip"

236 
ªdroid
:
Ïyout_height
="10dip"

237 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

238 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

239 
ªdroid
:
background
="@drawable/arrow_left"

240 
ªdroid
:
visib™y
="gone" />

242 <
Bu‰Ú


243 
ªdroid
:
id
="@+id/right"

244 
ªdroid
:
Ïyout_width
="10dip"

245 
ªdroid
:
Ïyout_height
="10dip"

246 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

247 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

248 
ªdroid
:
background
="@drawable/arrow_right"

249 
ªdroid
:
visib™y
="gone" />

250 </
R–©iveLayout
>

252 </
Lš—rLayout
>

	@res/layout/action_bar_display_options_custom.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
TextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
‹xt
="@string/app_name"

22 
ªdroid
:
‹xtCŞÜ
="#FFFFFF"

23 
ªdroid
:
‹xtSize
="19sp" />

	@res/layout/channel.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="90dip"

22 
ªdroid
:
Ïyout_height
="52dip"

23 
ªdroid
:
background
="@drawable/favorite_button_bg"

24 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

26 <
Lš—rLayout


27 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

28 
ªdroid
:
Ïyout_width
="78dip"

29 
ªdroid
:
Ïyout_height
="55dip"

30 
ªdroid
:
Ü›Á©iÚ
="vertical" >

32 <
ImageV›w


33 
ªdroid
:
id
="@+id/play_now"

34 
ªdroid
:
Ïyout_width
="fill_parent"

35 
ªdroid
:
Ïyout_height
="wrap_content"

36 
ªdroid
:
g¿v™y
="center"

37 
ªdroid
:
¤c
="@drawable/play_now"

38 
ªdroid
:
visib™y
="invisible" />

40 <
TextV›w


41 
ªdroid
:
id
="@+id/channel_num"

42 
¡yË
="@style/favoritefontStyle"

43 
ªdroid
:
Ïyout_width
="78dip"

44 
ªdroid
:
Ïyout_height
="30dip"

45 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

46 
ªdroid
:
g¿v™y
="center|top"

47 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

48 
ªdroid
:
‹xtSize
="25sp" />

50 <
TextV›w


51 
ªdroid
:
id
="@+id/channel_str"

52 
¡yË
="@style/favoritefontStyle"

53 
ªdroid
:
Ïyout_width
="fill_parent"

54 
ªdroid
:
Ïyout_height
="18dip"

55 
ªdroid
:
g¿v™y
="center|top"

56 
ªdroid
:
‹xt
="@string/mhz"

57 
ªdroid
:
‹xtCŞÜ
="#2E2E2E"

58 
ªdroid
:
‹xtSize
="12sp" />

59 </
Lš—rLayout
>

61 <
V›w


62 
ªdroid
:
Ïyout_width
="2px"

63 
ªdroid
:
Ïyout_height
="match_parent"

64 
ªdroid
:
background
="@drawable/favorite_line" />

66 </
Lš—rLayout
>

	@res/layout/clear_ch.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ü›Á©iÚ
="vertical"

22 
ªdroid
:
Ïyout_width
="fill_parent"

23 
ªdroid
:
Ïyout_height
="fill_parent"

24 
ªdroid
:
background
="#FF000000"

27 <
R–©iveLayout
 
ªdroid
:
id
="@+id/banner"

28 
ªdroid
:
Ïyout_width
="fill_parent"

29 
ªdroid
:
Ïyout_height
="wrap_content"

30 
ªdroid
:
background
="@android:drawable/bottom_bar">

32 <
CheckBox
 
ªdroid
:
id
="@+id/checkbox"

33 
¡yË
="?android:attr/checkableBehavior"

34 
ªdroid
:
·ddšgRight
="8dip"

35 
ªdroid
:
Ïyout_width
="wrap_content"

36 
ªdroid
:
Ïyout_height
="wrap_content"

37 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

38 
ªdroid
:
Ïyout_ûÁ”V”tiÿl
="true"

41 <
TextV›w
 
ªdroid
:
id
="@+id/label"

42 
ªdroid
:
‹xt
="@string/select_all"

43 
ªdroid
:
‹xtAµ—¿nû
="?android:attr/textAppearanceLarge"

44 
ªdroid
:
Ïyout_width
="wrap_content"

45 
ªdroid
:
·ddšgRight
="15dip"

46 
ªdroid
:
Ïyout_height
="wrap_content"

47 
ªdroid
:
Ïyout_ûÁ”V”tiÿl
="true"

48 
ªdroid
:
Ïyout_toLeáOf
="@id/checkbox"

51 </
R–©iveLayout
>

53 <
F¿meLayout


54 
ªdroid
:
Ïyout_width
="fill_parent"

55 
ªdroid
:
Ïyout_height
="fill_parent"

56 
ªdroid
:
Ïyout_weight
="1"

57 
ªdroid
:
Ü›Á©iÚ
="vertical">

59 <
Lš—rLayout
 
ªdroid
:
Ïyout_width
="fill_parent"

60 
ªdroid
:
Ïyout_height
="fill_parent"

61 
ªdroid
:
g¿v™y
="bottom"

62 
ªdroid
:
Ü›Á©iÚ
="vertical">

64 <
Li¡V›w
 
ªdroid
:
id
="@android:id/list"

65 
ªdroid
:
Ïyout_width
="fill_parent"

66 
ªdroid
:
Ïyout_height
="fill_parent"

67 
ªdroid
:
choiûMode
="multipleChoice"

70 </
Lš—rLayout
>

71 </
F¿meLayout
>

73 <
Lš—rLayout


74 
ªdroid
:
Ïyout_width
="fill_parent"

75 
ªdroid
:
Ïyout_height
="wrap_content"

76 
ªdroid
:
background
="@android:drawable/bottom_bar"

77 
ªdroid
:
Ü›Á©iÚ
="horizontal"

78 
ªdroid
:
g¿v™y
="center_vertical">

80 <
Bu‰Ú
 
ªdroid
:
id
="@+id/btn_done"

81 
ªdroid
:
Ïyout_width
="0dip"

82 
ªdroid
:
Ïyout_height
="wrap_content"

83 
ªdroid
:
Ïyout_weight
="1"

84 
ªdroid
:
‹xt
="@string/clear_done"

86 </
Lš—rLayout
>

88 </
Lš—rLayout
>

	@res/layout/fmwidget.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="fill_parent"

22 
ªdroid
:
Ïyout_height
="130dip"

23 
ªdroid
:
background
="@drawable/appwidget_bg"

24 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

26 <
Lš—rLayout


27 
ªdroid
:
id
="@+id/fmradio_appwidget"

28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="match_parent"

30 
ªdroid
:
Ïyout_weight
="2"

31 
ªdroid
:
background
="#FFFFFF"

32 
ªdroid
:
g¿v™y
="center"

33 
ªdroid
:
Ü›Á©iÚ
="vertical" >

35 <
ImageV›w


36 
ªdroid
:
id
="@+id/imageView1"

37 
ªdroid
:
Ïyout_width
="wrap_content"

38 
ªdroid
:
Ïyout_height
="wrap_content"

39 
ªdroid
:
¤c
="@drawable/audioimgae" />

40 </
Lš—rLayout
>

42 <
Lš—rLayout


43 
ªdroid
:
id
="@+id/fmradio_appwidget"

44 
ªdroid
:
Ïyout_width
="match_parent"

45 
ªdroid
:
Ïyout_height
="match_parent"

46 
ªdroid
:
Ïyout_weight
="1.2"

47 
ªdroid
:
background
="#FFFFFF"

48 
ªdroid
:
g¿v™y
="center_horizontal"

49 
ªdroid
:
Ü›Á©iÚ
="vertical" >

51 <
Lš—rLayout


52 
ªdroid
:
id
="@+id/fmradio_appwidget"

53 
ªdroid
:
Ïyout_width
="match_parent"

54 
ªdroid
:
Ïyout_height
="match_parent"

55 
ªdroid
:
Ïyout_m¬gšLeá
="6dip"

56 
ªdroid
:
Ïyout_m¬gšRight
="6dip"

57 
ªdroid
:
Ïyout_m¬gšTİ
="1dip"

58 
ªdroid
:
Ïyout_weight
="1"

59 
ªdroid
:
background
="@drawable/fmite"

60 
ªdroid
:
g¿v™y
="center_horizontal"

61 
ªdroid
:
Ü›Á©iÚ
="vertical" >

63 <
TextV›w


64 
ªdroid
:
id
="@+id/channel_textview"

65 
ªdroid
:
Ïyout_width
="match_parent"

66 
ªdroid
:
Ïyout_height
="match_parent"

67 
ªdroid
:
Ïyout_g¿v™y
="center"

68 
ªdroid
:
Ïyout_m¬gšLeá
="6dip"

69 
ªdroid
:
Ïyout_m¬gšRight
="6dip"

70 
ªdroid
:
Ïyout_m¬gšTİ
="1dip"

71 
ªdroid
:
Ïyout_m¬gšBÙtom
="18dip"

72 
ªdroid
:
g¿v™y
="center"

73 
ªdroid
:
‹xtCŞÜ
="#FF00bdfe"

74 
ªdroid
:
‹xtSize
="30sp" />

76 <
TextV›w


77 
ªdroid
:
id
="@+id/status_textview"

78 
ªdroid
:
Ïyout_width
="match_parent"

79 
ªdroid
:
Ïyout_height
="0dip"

80 
ªdroid
:
–lsize
="none"

81 
ªdroid
:
çdšgEdge
="horizontal"

82 
ªdroid
:
çdšgEdgeL’gth
="10dip"

83 
ªdroid
:
g¿v™y
="right"

84 
ªdroid
:
·ddšgBÙtom
="6dip"

85 
ªdroid
:
·ddšgRight
="8dip"

86 
ªdroid
:
sšgËLše
="true"

87 
ªdroid
:
‹xtSize
="14sp" />

88 </
Lš—rLayout
>

90 <
Lš—rLayout


91 
ªdroid
:
id
="@+id/fmradio_appwidget"

92 
ªdroid
:
Ïyout_width
="match_parent"

93 
ªdroid
:
Ïyout_height
="match_parent"

94 
ªdroid
:
Ïyout_weight
="1"

95 
ªdroid
:
background
="#FFFFFF"

96 
ªdroid
:
g¿v™y
="center_horizontal"

97 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

99 <
ImageBu‰Ú


100 
ªdroid
:
id
="@+id/previous_channel"

101 
ªdroid
:
Ïyout_width
="0dip"

102 
ªdroid
:
Ïyout_height
="match_parent"

103 
ªdroid
:
Ïyout_weight
="1"

104 
ªdroid
:
background
="@drawable/appwidget_button_left"

105 
ªdroid
:
sÿËTy³
="center"

106 
ªdroid
:
¤c
="@drawable/appwidget_prev_channel" />

108 <
ImageBu‰Ú


109 
ªdroid
:
id
="@+id/switch_button"

110 
ªdroid
:
Ïyout_width
="0dip"

111 
ªdroid
:
Ïyout_height
="match_parent"

112 
ªdroid
:
Ïyout_weight
="1"

113 
ªdroid
:
background
="@drawable/appwidget_button_right"

114 
ªdroid
:
sÿËTy³
="center"

115 
ªdroid
:
¤c
="@drawable/appwidget_turn_on" />

117 <
ImageBu‰Ú


118 
ªdroid
:
id
="@+id/next_channel"

119 
ªdroid
:
Ïyout_width
="0dip"

120 
ªdroid
:
Ïyout_height
="match_parent"

121 
ªdroid
:
Ïyout_weight
="1"

122 
ªdroid
:
background
="@drawable/appwidget_button_center"

123 
ªdroid
:
sÿËTy³
="center"

124 
ªdroid
:
¤c
="@drawable/appwidget_next_channel" />

125 </
Lš—rLayout
>

126 </
Lš—rLayout
>

128 </
Lš—rLayout
>

	@res/layout/main.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
id
="@+id/fmradio"

22 
ªdroid
:
Ïyout_width
="match_parent"

23 
ªdroid
:
Ïyout_height
="match_parent"

24 
ªdroid
:
background
="#F5F5F5"

25 
ªdroid
:
Ü›Á©iÚ
="vertical" >

27 <
R–©iveLayout


28 
ªdroid
:
Ïyout_width
="match_parent"

29 
ªdroid
:
Ïyout_height
="245dip" >

31 <
com
.
³k®l
.
fm¿dio
.
M¬qu“Text


32 
ªdroid
:
id
="@+id/info_text"

33 
ªdroid
:
Ïyout_width
="250dip"

34 
ªdroid
:
Ïyout_height
="wrap_content"

35 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="true"

36 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

37 
ªdroid
:
Ïyout_m¬gšBÙtom
="20dip"

38 
ªdroid
:
–lsize
="marquee"

39 
ªdroid
:
focu§bË
="true"

40 
ªdroid
:
focu§bËInTouchMode
="true"

41 
ªdroid
:
g¿v™y
="center"

42 
ªdroid
:
m¬qu“R•—tLim™
="marquee_forever"

43 
ªdroid
:
·ddšgLeá
="10dip"

44 
ªdroid
:
·ddšgRight
="10dip"

45 
ªdroid
:
·ddšgTİ
="2dip"

46 
ªdroid
:
sšgËLše
="true"

47 
ªdroid
:
‹xtCŞÜ
="#FF92c2f3"

48 
ªdroid
:
‹xtSize
="20sp"

49 
ªdroid
:
‹xtStyË
="bold" />

51 <
R–©iveLayout


52 
ªdroid
:
Ïyout_width
="match_parent"

53 
ªdroid
:
Ïyout_height
="wrap_content"

54 
ªdroid
:
Ïyout_®ignBÙtom
="@+id/info_text"

55 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

56 
ªdroid
:
Ïyout_m¬gšTİ
="50dip"

57 
ªdroid
:
g¿v™y
="center" >

59 </
R–©iveLayout
>

61 <
R–©iveLayout


62 
ªdroid
:
Ïyout_width
="wrap_content"

63 
ªdroid
:
Ïyout_height
="wrap_content"

64 
ªdroid
:
Ïyout_®ignP¬’tTİ
="true"

65 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

66 
ªdroid
:
Ïyout_m¬gšTİ
="15dip"

67 
ªdroid
:
background
="@drawable/audio_img" >

69 <
ImageV›w


70 
ªdroid
:
id
="@+id/record_img"

71 
ªdroid
:
Ïyout_width
="wrap_content"

72 
ªdroid
:
Ïyout_height
="wrap_content" />

73 </
R–©iveLayout
>

74 </
R–©iveLayout
>

76 <
Lš—rLayout


77 
ªdroid
:
id
="@+id/stationinfo_layout"

78 
ªdroid
:
Ïyout_width
="match_parent"

79 
ªdroid
:
Ïyout_height
="wrap_content"

80 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

81 
ªdroid
:
background
="@null"

82 
ªdroid
:
Ü›Á©iÚ
="horizontal"

83 
ªdroid
:
·ddšgLeá
="25dip"

84 
ªdroid
:
·ddšgRight
="20dip" >

86 <
ImageBu‰Ú


87 
ªdroid
:
id
="@+id/btn_speaker"

88 
ªdroid
:
Ïyout_width
="wrap_content"

89 
ªdroid
:
Ïyout_height
="wrap_content"

90 
ªdroid
:
Ïyout_m¬gšLeá
="12dip"

91 
ªdroid
:
background
="@null"

92 
ªdroid
:
¤c
="@drawable/button_loudspeaker_on" />

94 <
Lš—rLayout


95 
ªdroid
:
Ïyout_width
="wrap_content"

96 
ªdroid
:
Ïyout_height
="wrap_content"

97 
ªdroid
:
Ïyout_m¬gšBÙtom
="10dip"

98 
ªdroid
:
Ïyout_m¬gšLeá
="18dp"

99 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

101 <
Lš—rLayout


102 
ªdroid
:
Ïyout_width
="wrap_content"

103 
ªdroid
:
Ïyout_height
="match_parent"

104 
ªdroid
:
g¿v™y
="right" >

106 <
TextV›w


107 
ªdroid
:
id
="@+id/fm_channel"

108 
ªdroid
:
Ïyout_width
="100dip"

109 
ªdroid
:
Ïyout_height
="match_parent"

110 
ªdroid
:
Ïyout_g¿v™y
="left"

111 
ªdroid
:
g¿v™y
="right"

112 
ªdroid
:
‹xtCŞÜ
="#00bdfd"

113 
ªdroid
:
‹xtSize
="38sp" />

114 </
Lš—rLayout
>

116 <
Lš—rLayout


117 
ªdroid
:
Ïyout_width
="25dp"

118 
ªdroid
:
Ïyout_height
="16dip"

119 
ªdroid
:
Ïyout_m¬gšLeá
="12dip"

120 
ªdroid
:
Ïyout_m¬gšTİ
="26dip"

121 
ªdroid
:
g¿v™y
="left" >

123 <
ImageV›w


124 
ªdroid
:
id
="@+id/audio_img1"

125 
ªdroid
:
Ïyout_width
="wrap_content"

126 
ªdroid
:
Ïyout_height
="wrap_content"

127 
ªdroid
:
background
="@drawable/fmtxticon"

128 
ªdroid
:
g¿v™y
="left" />

129 </
Lš—rLayout
>

130 </
Lš—rLayout
>

132 <
ImageBu‰Ú


133 
ªdroid
:
id
="@+id/btn_switch"

134 
ªdroid
:
Ïyout_width
="wrap_content"

135 
ªdroid
:
Ïyout_height
="wrap_content"

136 
ªdroid
:
Ïyout_m¬gšLeá
="29dip"

137 
ªdroid
:
background
="@drawable/btn_stop_normal" />

138 </
Lš—rLayout
>

140 <!-- 
This
 
is
 
äequ’cy
 
šdiÿtÜ
: 
a
 
»d
 
ÃedË
 -->

142 <
R–©iveLayout


143 
ªdroid
:
Ïyout_width
="match_parent"

144 
ªdroid
:
Ïyout_height
="wrap_content"

145 
ªdroid
:
Ïyout_m¬gšLeá
="19dip"

146 
ªdroid
:
Ïyout_m¬gšRight
="19dip"

147 
ªdroid
:
background
="@drawable/greqindicatorbg" >

149 <
com
.
³k®l
.
fm¿dio
.
F»qIndiÿtÜ


150 
ªdroid
:
id
="@+id/freq_indicator_view"

151 
ªdroid
:
Ïyout_width
="match_parent"

152 
ªdroid
:
Ïyout_height
="wrap_content"

153 
ªdroid
:
Ïyout_m¬gšLeá
="-12dip"

154 
ªdroid
:
Ïyout_m¬gšRight
="-12dip"

155 
ªdroid
:
Ïyout_m¬gšTİ
="5dip"

156 
ªdroid
:
max
="20500"

157 
ªdroid
:
´og»ssD¿wabË
="@drawable/freq_indicator_seek"

158 
ªdroid
:
thumb
="@drawable/freq_indicator"

159 
ªdroid
:
thumbOff£t
="0dip" />

160 </
R–©iveLayout
>

163 <
Prog»ssB¬
 
ªdroid
:
id
="@+id/sÿn_ªim"‡ndroid:
Ïyout_width
="fill_parent"

164 
ªdroid
:
Ïyout_height
="0d"‡ndroid:
max
="10"‡ndroid:
´og»ssD¿wabË
="@drawable/loadingbar"

165 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="Œue" 
¡yË
="?android:progressBarStyleHorizontal"

166 
ªdroid
:
Ïyout_®ignP¬’tBÙtom
="Œue"‡ndroid:
g¿v™y
="center" />

169 <
R–©iveLayout


170 
ªdroid
:
Ïyout_width
="match_parent"

171 
ªdroid
:
Ïyout_height
="wrap_content"

172 
ªdroid
:
Ïyout_m¬gšLeá
="20dip"

173 
ªdroid
:
Ïyout_m¬gšRight
="20dip"

174 
ªdroid
:
background
="@drawable/tunerviewbg" >

176 <
ImageBu‰Ú


177 
ªdroid
:
id
="@+id/btn_fmdecrease"

178 
ªdroid
:
Ïyout_width
="wrap_content"

179 
ªdroid
:
Ïyout_height
="wrap_content"

180 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

181 
ªdroid
:
Ïyout_m¬gšLeá
="15dp"

182 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

183 
ªdroid
:
background
="@drawable/transparent"

184 
ªdroid
:
sÿËTy³
="center"

185 
ªdroid
:
¤c
="@drawable/channel_left" />

186 <!-- 
This
 
is
 
hÜizÚl
 
FM
 
tuÃr
 -->

188 <
com
.
³k®l
.
fm¿dio
.
TuÃrV›w


189 
ªdroid
:
id
="@+id/fm_tuner_view"

190 
ªdroid
:
Ïyout_width
="200dp"

191 
ªdroid
:
Ïyout_height
="55dp"

192 
ªdroid
:
Ïyout_ûÁ”InP¬’t
="true"

193 
ªdroid
:
Ïyout_g¿v™y
="center_horizontal"

194 
ªdroid
:
Ïyout_m¬gšTİ
="0dip"

195 
ªdroid
:
·ddšgBÙtom
="10dp"

196 
ªdroid
:
·ddšgTİ
="10dp"

197 
ªdroid
:
¤c
="@drawable/tuner_view_0" />

199 <
ImageBu‰Ú


200 
ªdroid
:
id
="@+id/btn_fmincrease"

201 
ªdroid
:
Ïyout_width
="wrap_content"

202 
ªdroid
:
Ïyout_height
="wrap_content"

203 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

204 
ªdroid
:
Ïyout_m¬gšRight
="15dp"

205 
ªdroid
:
Ïyout_m¬gšTİ
="13dp"

206 
ªdroid
:
background
="@drawable/channel_right" />

207 </
R–©iveLayout
>

209 <
R–©iveLayout


210 
ªdroid
:
Ïyout_width
="fill_parent"

211 
ªdroid
:
Ïyout_height
="0dip"

212 
ªdroid
:
Ïyout_m¬gšTİ
="16dp"

213 
ªdroid
:
Ïyout_weight
="1.0"

214 
ªdroid
:
g¿v™y
="center" >

216 <
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w


217 
ªdroid
:
id
="@+id/scrollview"

218 
ªdroid
:
Ïyout_width
="fill_parent"

219 
ªdroid
:
Ïyout_height
="wrap_content"

220 
ªdroid
:
Ïyout_ûÁ”HÜizÚl
="true"

221 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

223 <
Lš—rLayout


224 
ªdroid
:
id
="@+id/channels"

225 
ªdroid
:
Ïyout_width
="fill_parent"

226 
ªdroid
:
Ïyout_height
="wrap_content"

227 
ªdroid
:
background
="@drawable/favorite_bg"

228 
ªdroid
:
Ü›Á©iÚ
="horizontal" >

229 </
Lš—rLayout
>

230 </
com
.
³k®l
.
fm¿dio
.
FMHÜizÚlSüŞlV›w
>

232 <
Bu‰Ú


233 
ªdroid
:
id
="@+id/left"

234 
ªdroid
:
Ïyout_width
="10dip"

235 
ªdroid
:
Ïyout_height
="10dip"

236 
ªdroid
:
Ïyout_®ignP¬’tLeá
="true"

237 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

238 
ªdroid
:
background
="@drawable/arrow_left"

239 
ªdroid
:
visib™y
="gone" />

241 <
Bu‰Ú


242 
ªdroid
:
id
="@+id/right"

243 
ªdroid
:
Ïyout_width
="10dip"

244 
ªdroid
:
Ïyout_height
="10dip"

245 
ªdroid
:
Ïyout_®ignP¬’tRight
="true"

246 
ªdroid
:
Ïyout_m¬gšTİ
="20dip"

247 
ªdroid
:
background
="@drawable/arrow_right"

248 
ªdroid
:
visib™y
="gone" />

249 </
R–©iveLayout
>

251 </
Lš—rLayout
>

	@res/layout/record_filelist.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
R–©iveLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="fl_·»Á"‡ndroid:
Ïyout_height
="fill_parent">

22 <
Lš—rLayout
 
ªdroid
:
id
="@+id/control_bar"

23 
ªdroid
:
Ü›Á©iÚ
="hÜizÚl"‡ndroid:
Ïyout_width
="match_parent"

24 
ªdroid
:
Ïyout_height
="w¿p_cÚ‹Á"‡ndroid:
Ïyout_®ignP¬’tBÙtom
="true"

25 
ªdroid
:
·ddšg
="10d"‡ndroid:
visib™y
="gÚe"‡ndroid:
background
="#666666"

26 
ªdroid
:
g¿v™y
="center">

27 <
Bu‰Ú
 
ªdroid
:
id
="@+id/d–‘e"‡ndroid:
Ïyout_width
="wrap_content"

28 
ªdroid
:
Ïyout_height
="w¿p_cÚ‹Á"‡ndroid:
Ïyout_weight
="1"

29 
ªdroid
:
‹xt
="@string/delete" />

30 <
Bu‰Ú
 
ªdroid
:
id
="@+id/ÿnûl"‡ndroid:
Ïyout_width
="wrap_content"

31 
ªdroid
:
Ïyout_height
="w¿p_cÚ‹Á"‡ndroid:
Ïyout_weight
="1"

32 
ªdroid
:
‹xt
="@string/cancel" />

33 </
Lš—rLayout
>

34 <
Li¡V›w
 
ªdroid
:
id
="@+id/»cÜd_li¡"‡ndroid:
Ïyout_width
="match_parent"

35 
ªdroid
:
Ïyout_height
="m©ch_·»Á"‡ndroid:
Ïyout_®ignP¬’tTİ
="true"

36 
ªdroid
:
Ïyout_above
="@id/control_bar" />

37 <
TextV›w
 
ªdroid
:
id
="@+id/no_»cÜds"‡ndroid:
Ïyout_width
="fill_parent"

38 
ªdroid
:
Ïyout_height
="fl_·»Á"‡ndroid:
g¿v™y
="center"

39 
ªdroid
:
‹xt
="@¡ršg/no_»cÜds"‡ndroid:
‹xtSize
="20sp"

40 
ªdroid
:
‹xtStyË
="bold" />

41 </
R–©iveLayout
>

	@res/layout/record_list_item.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
Lš—rLayout
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

21 
ªdroid
:
Ïyout_width
="fl_·»Á"‡ndroid:
Ïyout_height
="fill_parent"

22 
ªdroid
:
·ddšg
="10dip">

23 <
TextV›w
 
ªdroid
:
id
="@+id/record_filename"

24 
ªdroid
:
Ïyout_width
="m©ch_·»Á"‡ndroid:
Ïyout_height
="wrap_content"

25 
ªdroid
:
Ïyout_weight
="8"‡ndroid:
sšgËLše
="true"

26 
ªdroid
:
Ïyout_g¿v™y
="ûÁ”_v”tiÿl|Ëá"‡ndroid:
g¿v™y
="center_vertical|left"

27 
ªdroid
:
‹xtSize
="20¥"‡ndroid:
‹xtCŞÜ
="#FFFFFF"/>

28 <
CheckBox
 
ªdroid
:
id
="@+id/record_checkbox"

29 
ªdroid
:
Ïyout_width
="w¿p_cÚ‹Á"‡ndroid:
Ïyout_height
="wrap_content"

30 
ªdroid
:
Ïyout_g¿v™y
="center_vertical|right" />

31 </
Lš—rLayout
>

	@res/layout/simple_list_item_multiple_choice.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
CheckedTextV›w
 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

22 
ªdroid
:
id
="@+id/text1"

23 
ªdroid
:
Ïyout_width
="fill_parent"

24 
ªdroid
:
Ïyout_height
="?android:attr/listPreferredItemHeight"

25 
ªdroid
:
checkM¬k
="?android:attr/listChoiceIndicatorMultiple"

26 
ªdroid
:
g¿v™y
="center_vertical"

27 
ªdroid
:
·ddšgLeá
="4dip"

28 
ªdroid
:
·ddšgRight
="4dip"

29 
ªdroid
:
sšgËLše
="true"

30 
ªdroid
:
‹xtAµ—¿nû
="?android:attr/textAppearanceLarge"

31 
ªdroid
:
‹xtCŞÜ
="#FFFFFFFF" />

	@res/values-zh-rCN/strings.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
»sourûs
>

22 <
¡ršg
 
Çme
="­p_Çme">
FM
æ”¶éŸ³æœº</string>

23 <
¡ršg
 
Çme
="fm¿dio_£rviû_Ïb–">
FM
æ”¶éŸ³æœº</string>

24 <
¡ršg
 
Çme
="ok">ç¡®å®š</string>

25 <
¡ršg
 
Çme
="cancel">å–æ¶ˆ</string>

26 <
¡ršg
 
Çme
="exit">é€€å‡º</string>

27 <
¡ršg
 
Çme
="rds_ch¬£t">
RDS
å­—ç¬¦ç¼–ç </string>

28 <
¡ršg
 
Çme
="fm">
FM
</string>

29 <
¡ršg
 
Çme
="mhz">
MHz
</string>

30 <
¡ršg
 
Çme
="preset">é¢‘é“</string>

31 <
¡ršg
 
Çme
="channels">ä¸ªé¢‘é“...</string>

32 <
¡ršg
 
Çme
="scanned_channels">ä¸ªé¢‘é“</string>

33 <
¡ršg
 
Çme
="empty">ç©º</string>

34 <
¡ršg
 
Çme
="clear_presets">æ¸…é™¤é¢‘é“</string>

35 <
¡ršg
 
Çme
="found">æœç´¢åˆ°</string>

36 <
¡ršg
 
Çme
="saved">å·²ä¿å­˜</string>

37 <
¡ršg
 
Çme
="scan">æœç´¢</string>

38 <
¡ršg
 
Çme
="by_loudspeaker">æ‰¬å£°å™¨æ–¹å¼</string>

39 <
¡ršg
 
Çme
="by_headset">è€³æœºæ–¹å¼</string>

40 <
¡ršg
 
Çme
="play_preset"> æ’­æ”¾é¢‘é“ </string>

41 <
¡ršg
 
Çme
="replace_preset"> æ›¿æ¢é¢‘é“ </string>

42 <
¡ršg
 
Çme
="clear_preset"> æ¸…é™¤é¢‘é“ </string>

43 <
¡ršg
 
Çme
="add_preset"> æ·»åŠ é¢‘é“ </string>

44 <
¡ršg
 
Çme
="clear">æ¸…é™¤</string>

45 <
¡ršg
 
Çme
="select_all">å…¨é€‰</string>

46 <
¡ršg
 
Çme
="unselect_all">å–æ¶ˆå…¨é€‰</string>

47 <
¡ršg
 
Çme
="select">é€‰æ‹©</string>

48 <
¡ršg
 
Çme
="clear_done">å®Œæˆ</string>

49 <
¡ršg
 
Çme
="fm¿dio_»cÜd_bŠ_sw™ch">
FM
æ­£åœ¨å½•éŸ³ï¼Œè¯·å‹¿å…³é—­</string>

50 <
¡ršg
 
Çme
="fmradio_scan_begin_msg">æœç´¢åˆ°0ä¸ªé¢‘é“...</string>

51 <
¡ršg
 
Çme
="fmradio_scan_confirm_msg">æ˜¯å¦æœç´¢æ‰€æœ‰æœ‰æ•ˆé¢‘é“ï¼Ÿ</string>

52 <
¡ršg
 
Çme
="fmradio_clear_confirm_msg">åœ¨æœç´¢ä¹‹å‰å°†æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„é¢‘é“ã€‚æ˜¯å¦ç»§ç»­ï¼Ÿ</string>

53 <
¡ršg
 
Çme
="fm¿dio_no_h—d£t_š_li¡’">æ”¶å¬
FM
æ”¶éŸ³æœºéœ€æ’å…¥è€³æœºè®¾å¤‡.è¯·æ’å…¥è€³æœºã€‚</string>

54 <
¡ršg
 
Çme
="fm¿dio_aœ¶ªe_mode_’abË_©_begš">ä½¿ç”¨
FM
æ”¶éŸ³æœºï¼Œè¯·å…ˆå…³é—­é£è¡Œæ¨¡å¼ã€‚</string>

55 <
¡ršg
 
Çme
="fm¿dio_aœ¶ªe_mode_’abË_š_li¡’">é£è¡Œæ¨¡å¼ä¸‹
FM
æ”¶éŸ³æœºå°†è‡ªåŠ¨å…³é—­ã€‚</string>

56 <
¡ršg
 
Çme
="fm¿dio_wa™šg_fÜ_pow”_Ú">
FM
æ”¶éŸ³æœºæ­£åœ¨å¯åŠ¨ä¸­ï¼Œè¯·ç¨å€™...</string>

57 <
¡ršg
 
Çme
="£rviû_¡¬t_”rÜ_msg">æœªçŸ¥åŸå› å¯¼è‡´
FM
æ”¶éŸ³æœºæœåŠ¡å¤±è´¥ï¼Œå³å°†ç»ˆæ­¢FMæ”¶éŸ³æœºã€‚</string>

58 <
¡ršg
 
Çme
="service_start_error_button">é€€å‡º</string>

59 <
¡ršg
 
Çme
="confirm_replace_preset">æ˜¯å¦ä»¥å½“å‰æ’­æ”¾ç”µå°æ›¿æ¢é€‰ä¸­çš„é¢‘é“?</string>

60 <
¡ršg
 
Çme
="confirm_add_preset">æ˜¯å¦å°†å½“å‰æ’­æ”¾ç”µå°æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨ä¸­?</string>

61 <
¡ršg
 
Çme
="confirm_clear_preset">æ˜¯å¦æ¸…é™¤é€‰ä¸­çš„é¢‘é“?</string>

62 <
¡ršg
 
Çme
="confirm_clear_presets">æ˜¯å¦æ¸…é™¤é€‰ä¸­çš„é¢‘é“?</string>

63 <
¡ršg
 
Çme
="copyright">å…³äº</string>

64 <
¡ršg
 
Çme
="suµÜt">
suµÜt
@
³k®l
.
com
</string>

65 <
¡ršg
 
Çme
="webs™e">
www
.
³k®l
.
com
</string>

66 <
¡ršg
 
Çme
="supportlable">æŠ€æœ¯æ”¯æŒï¼š</string>

67 <
¡ršg
 
Çme
="websitelable">å¦‚éœ€è·å¾—æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®ï¼š</string>

68 <
¡ršg
 
Çme
="channel_string">é¢‘é“</string>

69 <
¡ršg
 
Çme
="records_list">å½•éŸ³åˆ—è¡¨</string>

70 <
¡ršg
 
Çme
="start_record">å¼€å§‹å½•éŸ³</string>

71 <
¡ršg
 
Çme
="stop_record">åœæ­¢å½•éŸ³</string>

72 <
¡ršg
 
Çme
="sdÿrd_nÙ_mouÁed">æ²¡æœ‰æ’å…¥
SD
å¡ã€‚</string>

73 <
¡ršg
 
Çme
="delete">åˆ é™¤</string>

74 <
¡ršg
 
Çme
="deleting">æ­£åœ¨åˆ é™¤ã€‚ã€‚ã€‚</string>

75 <
¡ršg
 
Çme
="delete_complete">åˆ é™¤æˆåŠŸã€‚</string>

76 <
¡ršg
 
Çme
="cancel_deleting">å–æ¶ˆåˆ é™¤ã€‚</string>

77 <
¡ršg
 
Çme
="delete_records">åˆ é™¤å½•éŸ³</string>

78 <
¡ršg
 
Çme
="delete_selected_records">åˆ é™¤æ‰€é€‰çš„å½•éŸ³æ–‡ä»¶ï¼Ÿ</string>

79 <
¡ršg
 
Çme
="no_»cÜds">æ²¡æœ‰
FM
å½•éŸ³æ–‡ä»¶ã€‚</string>

80 <
¡ršg
 
Çme
="recording">è¯·å…ˆåœæ­¢å½•éŸ³ã€‚</string>

81 <
¡ršg
 
Çme
="error_app_internal">å†…éƒ¨åº”ç”¨ç¨‹åºé”™è¯¯</string>

82 <
¡ršg
 
Çme
="sdÿrd_no_¥aû_»cÜd">
SD
å¡æ²¡æœ‰è¶³å¤Ÿç©ºé—´å¯ä¾›å½•éŸ³</string>

83 <
¡ršg
 
Çme
="fm»cÜd_”rÜ">
FM
å½•éŸ³å‘ç”ŸæœªçŸ¥é”™è¯¯</string>

84 <
¡ršg
 
Çme
="fm¿dio_ÿÎ_¡©e_’abË_©_begš">ç”µè¯ä¸­ä¸èƒ½å¼€å¯
FM
æ”¶éŸ³æœºã€‚</string>

85 <
¡ršg
 
Çme
="fmradio_not_launch">æ”¶éŸ³æœºè¿˜æ²¡æœ‰å¼€å¯ã€‚</string>

86 <
¡ršg
 
Çme
="fm¿dio_şo£_tx">å¼€å¯æ”¶éŸ³æœºå‰ï¼Œè¯·å…³é—­
FM
ä¼ è¾“!</string>

88 </
»sourûs
>

	@res/values-zh-rTW/strings.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
»sourûs
>

22 <
¡ršg
 
Çme
="­p_Çme">
FM
æ”¶éŸ³æ©Ÿ</string>

23 <
¡ršg
 
Çme
="fm¿dio_£rviû_Ïb–">
FM
æ”¶éŸ³æ©Ÿ</string>

24 <
¡ršg
 
Çme
="ok">ç¢ºå®š</string>

25 <
¡ršg
 
Çme
="cancel">å–æ¶ˆ</string>

26 <
¡ršg
 
Çme
="exit">é€€å‡º</string>

27 <
¡ršg
 
Çme
="rds_ch¬£t">
RDS
å­—ç¬¦ç·¨ç¢¼</string>

28 <
¡ršg
 
Çme
="fm">
FM
</string>

29 <
¡ršg
 
Çme
="mhz">
MHz
</string>

30 <
¡ršg
 
Çme
="preset">é »é“</string>

31 <
¡ršg
 
Çme
="channels">é »é“...</string>

32 <
¡ršg
 
Çme
="scanned_channels">å€‹é¢‘é“</string>

33 <
¡ršg
 
Çme
="empty">ç©º</string>

34 <
¡ršg
 
Çme
="clear_presets">æ¸…é™¤é »é“</string>

35 <
¡ršg
 
Çme
="found">æœç´¢åˆ°</string>

36 <
¡ršg
 
Çme
="saved">å·²å­˜å„²</string>

37 <
¡ršg
 
Çme
="scan">æœç´¢</string>

38 <
¡ršg
 
Çme
="confirm_add_preset">æ˜¯å¦å°‡ç•¶å‰æ’­æ”¾é›»å°æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨ä¸­?</string>

39 <
¡ršg
 
Çme
="add_preset"> æ·»åŠ é »é“ </string>

40 <
¡ršg
 
Çme
="fm¿dio_ÿÎ_¡©e_’abË_©_begš">é›»è©±ä¸­ä¸èƒ½é–‹å•Ÿ
FM
æ”¶éŸ³æ©Ÿã€‚</string>

41 <
¡ršg
 
Çme
="fm¿dio_şo£_tx">é–‹å•Ÿæ”¶éŸ³æ©Ÿå‰ï¼Œè«‹é—œé–‰
FM
å‚³è¼¸!</string>

42 <
¡ršg
 
Çme
="fmradio_not_launch">æ”¶éŸ³æ©Ÿé‚„æ²’æœ‰é–‹å•Ÿã€‚</string>

43 <
¡ršg
 
Çme
="fm¿dio_»cÜd_bŠ_sw™ch">
FM
æ­£åœ¨éŒ„éŸ³ï¼Œè«‹å‹¿é—œé–‰</string>

44 <
¡ršg
 
Çme
="by_loudspeaker">æšè²å™¨æ–¹å¼</string>

45 <
¡ršg
 
Çme
="by_headset">è€³æ©Ÿæ–¹å¼</string>

46 <
¡ršg
 
Çme
="play_preset">æ’­æ”¾é »é“</string>

47 <
¡ršg
 
Çme
="replace_preset">æ›¿æ›é »é“</string>

48 <
¡ršg
 
Çme
="clear_preset">æ¸…é™¤é »é“</string>

49 <
¡ršg
 
Çme
="clear">æ¸…é™¤</string>

50 <
¡ršg
 
Çme
="select_all">é¸æ“‡å…¨éƒ¨</string>

51 <
¡ršg
 
Çme
="unselect_all">å–æ¶ˆå…¨éƒ¨</string>

52 <
¡ršg
 
Çme
="select">é¸æ“‡</string>

53 <
¡ršg
 
Çme
="clear_done">å®Œæˆ</string>

54 <
¡ršg
 
Çme
="fmradio_scan_begin_msg">æœç´¢åˆ°0å€‹é »é“</string>

55 <
¡ršg
 
Çme
="fmradio_scan_confirm_msg">æ˜¯å¦æœç´¢æ‰€æœ‰æœ‰æ•ˆé »é“ï¼Ÿ</string>

56 <
¡ršg
 
Çme
="fmradio_clear_confirm_msg">åœ¨æœç´¢ä¹‹å‰å°‡æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„é »é“ã€‚æ˜¯å¦ç¹¼çºŒï¼Ÿ</string>

57 <
¡ršg
 
Çme
="fm¿dio_no_h—d£t_š_li¡’">
FM
æ”¶éŸ³æ©Ÿéœ€è¦è€³æ©Ÿæ‰å¯é–‹å•Ÿ, è«‹æ’å…¥è€³æ©Ÿã€‚</
	g¡ršg
>

58 <
¡ršg
 
	gÇme
="fm¿dio_aœ¶ªe_mode_’abË_©_begš">ä½¿ç”¨
FM
æ”¶éŸ³æ©Ÿï¼Œè«‹å…ˆé—œé–‰é£›è¡Œæ¨¡å¼ã€‚</string>

59 <
¡ršg
 
Çme
="fm¿dio_aœ¶ªe_mode_’abË_š_li¡’">é£›è¡Œæ¨¡å¼ä¸‹
FM
æ”¶éŸ³æ©Ÿå°‡è‡ªå‹•é—œé–‰ã€‚</string>

60 <
¡ršg
 
Çme
="fm¿dio_wa™šg_fÜ_pow”_Ú">
FM
æ”¶éŸ³æ©Ÿæ­£åœ¨å•Ÿå‹•ä¸­ï¼Œè«‹ç­‰å¾…...</string>

61 <
¡ršg
 
Çme
="£rviû_¡¬t_”rÜ_msg">æœªçŸ¥åŸå› å°è‡´
FM
æ”¶éŸ³æ©Ÿæœå‹™å¤±æ•—ï¼Œå³å°‡çµ‚æ­¢FMæ”¶éŸ³æ©Ÿã€‚</string>

62 <
¡ršg
 
Çme
="service_start_error_button">é€€å‡º</string>

63 <
¡ršg
 
Çme
="confirm_replace_preset">æ˜¯å¦å°‡ç¾æ™‚æ’­æ”¾çš„é »é“å–æ›¿å·²é¸çš„é »é“?</string>

64 <
¡ršg
 
Çme
="confirm_clear_preset">æ¸…é™¤å·²é¸çš„é »é“?</string>

65 <
¡ršg
 
Çme
="confirm_clear_presets">æ¸…é™¤å·²é¸çš„é »é“?</string>

66 <
¡ršg
 
Çme
="copyright">é—œæ–¼</string>

67 <
¡ršg
 
Çme
="suµÜt">
suµÜt
@
³k®l
.
com
</string>

68 <
¡ršg
 
Çme
="webs™e">
www
.
³k®l
.
com
</string>

69 <
¡ršg
 
Çme
="supportlable">æŠ€è¡“æ”¯æŒï¼š</string>

70 <
¡ršg
 
Çme
="websitelable">å¦‚éœ€ç²å¾—æ›´å¤šä¿¡æ¯ï¼Œè«‹è¨ªå•ï¼š</string>

71 <
¡ršg
 
Çme
="channel_string">é »é“</string>

72 <
¡ršg
 
Çme
="records_list">éŒ„éŸ³åˆ—è¡¨</string>

73 <
¡ršg
 
Çme
="start_record">é–‹å§‹éŒ„éŸ³</string>

74 <
¡ršg
 
Çme
="stop_record">åœæ­¢éŒ„éŸ³</string>

75 <
¡ršg
 
Çme
="sdÿrd_nÙ_mouÁed">æ²’æœ‰æ’å…¥
SD
å¡ã€‚</string>

76 <
¡ršg
 
Çme
="delete">åˆªé™¤</string>

77 <
¡ršg
 
Çme
="error_app_internal">å…§éƒ¨æ‡‰ç”¨ç¨‹åºéŒ¯èª¤</string>

78 <
¡ršg
 
Çme
="deleting">æ­£åœ¨åˆ é™¤ã€‚ã€‚ã€‚</string>

79 <
¡ršg
 
Çme
="delete_complete">åˆ é™¤æˆåŠŸã€‚</string>

80 <
¡ršg
 
Çme
="cancel_deleting">å–æ¶ˆåˆ é™¤ã€‚</string>

81 <
¡ršg
 
Çme
="delete_records">åˆ é™¤éŒ„éŸ³</string>

82 <
¡ršg
 
Çme
="delete_selected_records">åˆ é™¤æ‰€é¸çš„éŒ„éŸ³æ–‡ä»¶ï¼Ÿ</string>

83 <
¡ršg
 
Çme
="no_»cÜds">æ²’æœ‰
FM
éŒ„éŸ³æ–‡ä»¶ã€‚</string>

84 <
¡ršg
 
Çme
="recording">è«‹å…ˆåœæ­¢éŒ„éŸ³ã€‚</string>

85 <
¡ršg
 
Çme
="sdÿrd_no_¥aû_»cÜd">
SD
å¡æ²’æœ‰è¶³å¤ ç©ºé–“å¯ä¾›éŒ„éŸ³</string>

86 <
¡ršg
 
Çme
="fm»cÜd_”rÜ">
Fm
éŒ„éŸ³ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤</string>

88 </
»sourûs
>

	@res/values/config.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

3 
Cİyright
 (
C
è2013 
C­™®
 
AÎŸnû
 
Soáw¬e
 
	$LTD
 (
Pek®l
)

5 
Liûn£d
 
und”
 
the
 
A·che
 
Liûn£
, 
V”siÚ
 2.0 (the "License");

6 
you
 
may
 
nÙ
 
u£
 
this
 
fe
 
exû±
 
š
 
com¶Ÿnû
 
w™h
 
the
 
Liûn£
.

7 
You
 
may
 
obš
 
a
 
cİy
 
of
 
the
 
Liûn£
 
©


9 
h‰p
:

11 
UÆess
 
»quœed
 
by
 
­¶iÿbË
 
Ïw
 
Ü
 
ag»ed
 
to
 
š
 
wr™šg
, 
soáw¬e


12 
di¡ribu‹d
 
und”
 
the
 
Liûn£
 
is
 di¡ribu‹d 
Ú
 
ª
 "AS IS" 
BASIS
,

13 
WITHOUT
 
WARRANTIES
 
OR
 
CONDITIONS
 
OF
 
ANY
 
KIND
, 
e™h”
 
ex´ess
 
Ü
 
im¶›d
.

14 
S“
 
the
 
Liûn£
 th
¥ecific
 
Ïnguage
 
gov”nšg
 
³rmissiÚs
 
ªd


15 
lim™©iÚs
 
und”
 
the
 
Liûn£
.

19 
FM
 
­p
 
»sourûs
 
th©
 
may
 
Ãed
 
to
 
be
 
cu¡omized


20 
difã»Á
 
h¬dw¬e
 
Ü
 
´oduù
 
buds
.

22 <
»sourûs
>

25 
FÏg
 
šdiÿtšg
 
wh‘h”
 
this
 
deviû
 
suµÜt
 
š‹º®
 
ª‹Âa
.

26 
If
 
š‹º®
 
Ç‹Âa
 
is
 
suµÜ‹d
, 
h—d£t
 i 
nÙ
 
check
 
wh’
 
FM


27 
¡¬ts
 
up
.

29 <
boŞ
 
Çme
="suµÜt_š‹º®_ª‹Âa">
çl£
</bool>

31 <!-- 
Wh‘h”
 
the
 
PEKALL
 
cİyright
 
aùiv™y
 
could
 
be
 
di¥Ïyed
. -->

32 <
boŞ
 
Çme
="show_cİyright">
çl£
</bool>

34 <!-- 
Wh‘h”
 
the
 
´e£t
 
chªÃls
 
should
 
be
 
di¥Ïyed
. -->

35 <
boŞ
 
Çme
="di¥Ïy_´e£t_chªÃls">
çl£
</bool>

37 </
»sourûs
>

	@res/values/strings.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
»sourûs
>

21 <
¡ršg
 
Çme
="­p_Çme">
FM
 
Radio
</string>

22 <
¡ršg
 
Çme
="fm¿dio_£rviû_Ïb–">
FM
 
Radio
</string>

23 <
¡ršg
 
Çme
="ok">
OK
</string>

24 <
¡ršg
 
Çme
="ÿnûl">
Cªûl
</string>

25 <
¡ršg
 
Çme
="ex™">
Ex™
</string>

26 <
¡ršg
 
Çme
="rds_ch¬£t">
RDS
 
ch¬£t
</string>

27 <
¡ršg
 
Çme
="fm">
FM
</string>

28 <
¡ršg
 
Çme
="mhz">
MHz
</string>

29 <
¡ršg
 
Çme
="´e£t">
P»£t
</string>

30 <
¡ršg
 
Çme
="chªÃls">
¡©iÚs
&#8230;</
	g¡ršg
>

31 <
¡ršg
 
	gÇme
="sÿÂed_chªÃls">
¡©iÚs
</string>

32 <
¡ršg
 
Çme
="em±y">
Em±y
</string>

33 <
¡ršg
 
Çme
="ş—r_´e£ts">
CË¬
 
chªÃls
</string>

34 <
¡ršg
 
Çme
="add_´e£t">
Add
 
chªÃl
</string>

35 <
¡ršg
 
Çme
="found">
Found
</string>

36 <
¡ršg
 
Çme
="§ved">
Saved
</string>

37 <
¡ršg
 
Çme
="sÿn">
Sÿn
</string>

38 <
¡ršg
 
Çme
="by_loud¥—k”">
Loud¥—k”
</string>

39 <
¡ršg
 
Çme
="by_h—d£t">
H—d£t
</string>

40 <
¡ršg
 
Çme
="¶ay_´e£t">
PÏy
 
chªÃl
</string>

41 <
¡ršg
 
Çme
="»¶aû_´e£t">
R•Ïû
 
chªÃl
</string>

42 <
¡ršg
 
Çme
="ş—r_´e£t">
CË¬
 
chªÃl
</string>

43 <
¡ršg
 
Çme
="ş—r">
CË¬
</string>

44 <
¡ršg
 
Çme
="£Ëù_®l">
S–eù
 
AÎ
</string>

45 <
¡ršg
 
Çme
="un£Ëù_®l">
Un£Ëù
 
AÎ
</string>

46 <
¡ršg
 
Çme
="£Ëù">
S–eù
</string>

47 <
¡ršg
 
Çme
="ş—r_dÚe">
DÚe
</string>

48 <
¡ršg
 
Çme
="fm¿dio_»cÜd_bŠ_sw™ch">
FM
 
is
 
»cÜdšg
, 
Do
 
nÙ
 
tuº
 
	goff
</
	g¡ršg
>

49 <
¡ršg
 
	gÇme
="fm¿dio_sÿn_begš_msg">
Found
 0 
¡©iÚs
...</string>

50 <
¡ršg
 
Çme
="fm¿dio_sÿn_cÚfœm_msg">
Do
 
you
 
wªt
 
to
 
autom©iÿÎy
 
sÿn
 
ªd
 
§ve
 
®l
 
avaabË
 
¡©iÚs
?</string>

51 <
¡ršg
 
Çme
="fm¿dio_ş—r_cÚfœm_msg">
SÿÂšg
 
¡©iÚs
 
wl
 
»move
 
®l
 
your
 
cu¼’y
 
§ved
 stiÚs. 
Would
 
you
 
like
 
to
  
the
 
sÿn
?</string>

52 <
¡ršg
 
Çme
="fm¿dio_no_h—d£t_š_li¡’">
FM
 
Radio
 
»quœes
 
a
 
h—d£t
 
to
 
wÜk
. 
PËa£
 
¶ug
 
š
‡ headset.</string>

53 <
¡ršg
 
Çme
="fm¿dio_aœ¶ªe_mode_’abË_©_begš">
To
 
u£
 
FM
 
Radio
, 
¶—£
 
tuº
 
off
 
Aœ¶ªe
 
	gmode
.</
	g¡ršg
>

54 <
¡ršg
 
	gÇme
="fm¿dio_aœ¶ªe_mode_’abË_š_li¡’">
FM
 
Radio
 
sw™ches
 
off
 
autom©iÿÎy
 
š
 
Aœ¶ªe
 
mode
.</string>

55 <
¡ršg
 
Çme
="fm¿dio_wa™šg_fÜ_pow”_Ú">
FM
 
¿dio
 
is
 
Ïunchšg
. 
PËa£
 
wa™
...</string>

56 <
¡ršg
 
Çme
="£rviû_¡¬t_”rÜ_msg">
FM
 
Radio
 
ex³r›nûd
 
a
 
´obËm
 
ªd
 
wl
 
ex™
 
now
. </string>

57 <
¡ršg
 
Çme
="£rviû_¡¬t_”rÜ_bu‰Ú">
Qu™
</string>

58 <
¡ršg
 
Çme
="cÚfœm_»¶aû_´e£t">
R•Ïû
 
£Ëùed
 
´e£t
 
w™h
 
cu¼’t
 
¶ayšg
 
¡©iÚ
?</string>

59 <
¡ršg
 
Çme
="cÚfœm_add_´e£t">
Add
 
the
 
cu¼’t
 
¿dio
 
chªÃl
 
to
h
¶ayli¡
?</string>

60 <
¡ršg
 
Çme
="cÚfœm_ş—r_´e£t">
CË¬
 
£Ëùed
 
´e£t
?</string>

61 <
¡ršg
 
Çme
="cÚfœm_ş—r_´e£ts">
CË¬
 
£Ëùed
 
´e£ts
?</string>

62 <
¡ršg
 
Çme
="chªÃl_¡ršg">
chªÃl
</string>

64 <
¡ršg
 
Çme
="cİyright">
About
</string>

65 <
¡ršg
 
Çme
="suµÜt">
suµÜt
@
³k®l
.
com
</string>

66 <
¡ršg
 
Çme
="webs™e">
www
.
³k®l
.
com
</string>

67 <
¡ršg
 
Çme
="suµÜabË">
Techniÿl
 
SuµÜt
ï¼š</string>

68 <
¡ršg
 
Çme
="webs™–abË">
FÜ
 
mÜe
 
šfo
, 
¶—£
 
	gvis™
ï¼š</
	g¡ršg
>

70 <
¡ršg
 
	gÇme
="»cÜds_li¡">
RecÜds
 
li¡
</string>

71 <
¡ršg
 
Çme
="¡¬t_»cÜd">
S¹
 
»cÜd
</string>

72 <
¡ršg
 
Çme
="¡İ_»cÜd">
Stİ
 
»cÜd
</string>

73 <
¡ršg
 
Çme
="sdÿrd_nÙ_mouÁed">
The
 
sdÿrd
 
is
 
nÙ
 
mouÁed
.</string>

74 <
¡ršg
 
Çme
="d–‘e">
D–‘e
</string>

75 <
¡ršg
 
Çme
="d–‘šg">
D–‘šg
...</string>

76 <
¡ršg
 
Çme
="d–‘e_com¶‘e">
D–‘e
 
com¶‘ed
.</string>

77 <
¡ršg
 
Çme
="ÿnûl_d–‘šg">
Cªûl
 
the
 
d–‘šg
.</string>

78 <
¡ršg
 
Çme
="d–‘e_»cÜds">
D–‘e
 
»cÜds
</string>

79 <
¡ršg
 
Çme
="d–‘e_£Ëùed_»cÜds">
D–‘e
 
£Ëùed
 
»cÜd
 
fes
?</string>

80 <
¡ršg
 
Çme
="no_»cÜds">
No
 
FM
 
»cÜds
.</string>

81 <
¡ršg
 
Çme
="»cÜdšg">
PËa£
 
¡İ
 
»cÜdšg
.</string>

82 <
¡ršg
 
Çme
="”rÜ_­p_š‹º®">
An
 
š‹º®
 
­¶iÿtiÚ
 
”rÜ
</string>

83 <
¡ršg
 
Çme
="sdÿrd_no_¥aû_»cÜd">
SD
 
ÿrd
 
dÛs
 
nÙ
 
have
 
’ough
 
¥aû
 
»cÜdšg
.</string>

84 <
¡ršg
 
Çme
="fm»cÜd_”rÜ">
FM
 
»cÜd
 
”rÜ
.</string>

85 <
¡ršg
 
Çme
="fm¿dio_ÿÎ_¡©e_’abË_©_begš">
FM
 
¿dio
 
ÿn
 
nÙ
 
İ’
 
š
 
ÿÎ
 
¡©e
.</string>

86 <
¡ršg
 
Çme
="fm¿dio_nÙ_Ïunch">
FM
 
¿dio
 
is
 
nÙ
 
tuºed
.</string>

87 <
¡ršg
 
Çme
="fm¿dio_şo£_tx">
PËa£
 
şo£
 
FM
 
Œªsm™
 
befÜe
 
İ’šg
 FM 
Radio
!</string>

88 </
»sourûs
>

	@res/values/styles.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

21 <
»sourûs
>

22 <
¡yË
 
Çme
="favoritefontStyle">

23 <
™em
 
Çme
="android:textColor">#FF000000</item>

24 <
™em
 
Çme
="android:shadowColor">#FFE8E8E8</item>

25 <
™em
 
Çme
="android:shadowDx">0.0</item>

26 <
™em
 
Çme
="android:shadowDy">1.0</item>

27 <
™em
 
Çme
="android:shadowRadius">1.0</item>

28 </
¡yË
>

29 </
»sourûs
>

	@res/xml/fm_widget.xml

1 <?
xml
 
	gv”siÚ
="1.0" 
’codšg
="utf-8"?>

20 <
­pwidg‘
-
´ovid”


21 
xmÊs
:
ªdroid
="http://schemas.android.com/apk/res/android"

22 
ªdroid
:
mšWidth
="294dip"

23 
ªdroid
:
mšHeight
="72dip"

24 
ªdroid
:
upd©eP”iodMlis
="0"

25 
ªdroid
:
š™ŸlLayout
="@layout/fmwidget">

26 </
­pwidg‘
-
´ovid”
>

	@src/com/pekall/fmradio/ContentHelper.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹ÁV®ues
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

21 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gCursÜ
;

22 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eDiskIOExû±iÚ
;

23 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eExû±iÚ
;

24 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

25 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gMedŸStÜe
;

26 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

30 
impÜt
 
	gjava
.
	g‹xt
.
	gNumb”FÜm©
;

31 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

32 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

37 
public
 cÏs 
	cCÚ‹ÁH–³r
 {

38 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "ContentHelper";

40 
´iv©e
 
fš®
 
	mPRJ_ID_ID
 = 0;

41 
´iv©e
 
fš®
 
	mPRJ_ID_CH_FREQ
 = 1;

42 
´iv©e
 
fš®
 
	mPRJ_ID_CH_NAME
 = 2;

43 
fš®
 
	mSŒšg
[] 
	mPROJECTION
 = 
Ãw
 
SŒšg
[] {

44 
FMD©aProvid”
.
PROJECTION_ID
,

45 
FMD©aProvid”
.
PROJECTION_CH_FREQ
,

46 
FMD©aProvid”
.
PROJECTION_CH_NAME
,

49 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gSAVED_PROJECTION
 = 
Ãw
 
SŒšg
[] {

50 
FMD©aProvid”
.
PROJECTION_ID
,

51 
FMD©aProvid”
.
PROJECTION_LAST_CH_NUM
,

52 
FMD©aProvid”
.
PROJECTION_LAST_FREQ
,

53 
FMD©aProvid”
.
PROJECTION_FULL_SCANED
,

62 
public
 
	$§veCu¼’tF»q
(
CÚ‹xt
 
cÚ‹xt
, 
äequ’cy
) {

63 ià(
DebugFÏgs
.
LOG_CONTENT
) {

64 
Log
.
	`i
(
LOGTAG
, "Saväequ’cy: " + 
äequ’cy
);

67 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 
	`CÚ‹ÁV®ues
();

68 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_LAST_FREQ
, 
äequ’cy
);

69 
Œy
 {

70 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`upd©e
(
FMD©aProvid”
.
SAVED_CONTENT_URI
, 
cv
,

71 
FMD©aProvid”
.
PROJECTION_ID
 + "=0", 
nuÎ
);

72 } 
	`ÿtch
 (
SQL™eExû±iÚ
 
e
) {

73 
Log
.
	`e
(
LOGTAG
, "", 
e
);

75 
	}
}

83 
public
 
	$lßdCu¼’tF»q
(
CÚ‹xt
 
cÚ‹xt
) {

84 
CursÜ
 
cursÜ
 = 
nuÎ
;

85 
äequ’cy
 = 
FMRadio
.
LOW_FREQUENCY
;

86 
Œy
 {

87 
cursÜ
 = 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(

88 
FMD©aProvid”
.
SAVED_CONTENT_URI
, 
SAVED_PROJECTION
, 
nuÎ
,‚ull,

89 
nuÎ
);

90 ià(
cursÜ
 !ğ
nuÎ
 && cursÜ.
	`moveToFœ¡
()) {

91 
äequ’cy
 = 
IÁeg”
.
	`·r£IÁ
(
cursÜ
.
	`g‘SŒšg
(2));

93 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

94 
Log
.
	`e
(
LOGTAG
, "", 
e
);

95 } 
fš®ly
 {

96 ià(
cursÜ
 !ğ
nuÎ
) {

97 
cursÜ
.
	`şo£
();

98 
cursÜ
 = 
nuÎ
;

101  
äequ’cy
;

102 
	}
}

113 
public
 
	$§veCÚfig
(
CÚ‹xt
 
cÚ‹xt
, 
chªÃl
, 
äequ’cy
,

114 
boŞ—n
 
sÿÂed
, 
rssi
) {

116 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 
	`CÚ‹ÁV®ues
();

117 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_LAST_CH_NUM
, 
chªÃl
);

118 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_LAST_FREQ
, 
äequ’cy
);

120 ià(
sÿÂed
) {

121 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_FULL_SCANED
,

122 
BoŞ—n
.
	`toSŒšg
(
Œue
));

124 
Œy
 {

125 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`upd©e
(
FMD©aProvid”
.
SAVED_CONTENT_URI
, 
cv
,

126 
FMD©aProvid”
.
PROJECTION_ID
 + "=0", 
nuÎ
);

127 } 
	`ÿtch
 (
SQL™eExû±iÚ
 
e
) {

128 
Log
.
	`e
(
LOGTAG
, "", 
e
);

130 
	}
}

137 
public
 
	$lßdCÚfig
(
CÚ‹xt
 
cÚ‹xt
, 
FMRadio
.
UiStus
 
¡©us
) {

138 
CursÜ
 
cursÜ
 = 
nuÎ
;

139 
Œy
 {

140 
cursÜ
 = 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(

141 
FMD©aProvid”
.
SAVED_CONTENT_URI
, 
SAVED_PROJECTION
, 
nuÎ
,‚ull,

142 
nuÎ
);

144 ià(
cursÜ
 !ğ
nuÎ
 && cursÜ.
	`moveToFœ¡
()) {

145 
¡©us
.
mLa¡Pos™iÚ
 = 
IÁeg”
.
	`·r£IÁ
(
cursÜ
.
	`g‘SŒšg
(1));

146 
¡©us
.
mCu¼’tF»q
 = 
IÁeg”
.
	`·r£IÁ
(
cursÜ
.
	`g‘SŒšg
(2));

147 
¡©us
.
mIsSÿÂedBefÜe
 = 
BoŞ—n
.
	`·r£BoŞ—n
(
cursÜ
.
	`g‘SŒšg
(3));

149 ià(
DebugFÏgs
.
LOG_CONTENT
) {

150 
Log
.
	`i
(
LOGTAG
, "Ï¡ chªÃl: " + 
¡©us
.
mLa¡Pos™iÚ
);

151 
Log
.
	`i
(
LOGTAG
, "Ï¡ f»q: " + 
¡©us
.
mCu¼’tF»q
);

152 
Log
.
	`i
(
LOGTAG
, "i fœ¡ sÿÃd: " + 
¡©us
.
mIsSÿÂedBefÜe
);

155 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

156 
Log
.
	`e
(
LOGTAG
, "", 
e
);

157 } 
fš®ly
 {

158 ià(
cursÜ
 !ğ
nuÎ
) {

159 
cursÜ
.
	`şo£
();

160 
cursÜ
 = 
nuÎ
;

163 
	}
}

172 
public
 
boŞ—n
 
g‘ChªÃlLi¡
(
CÚ‹xt
 
cÚ‹xt
,

173 
A¼ayLi¡
<
FMRadio
.
FMInfo
> 
»suÉInfo
) {

175 ià(
	gDebugFÏgs
.
	gLOG_CONTENT
) {

176 
	gLog
.
i
(
LOGTAG
, "getChannelList");

179 
CursÜ
 
	gcursÜ
 = 
nuÎ
;

180 
boŞ—n
 
	g»t
 = 
çl£
;

181 
	gŒy
 {

182 
	gcursÜ
 = 
cÚ‹xt
.
g‘CÚ‹ÁResŞv”
().
qu”y
(
FMD©aProvid”
.
CONTENT_URI
,

183 
PROJECTION
, 
nuÎ
,‚ull,‚ull);

184 ià(
	gcursÜ
 !ğ
nuÎ
 && 
cursÜ
.
moveToFœ¡
()) {

185 !
cursÜ
.
isAá”La¡
()) {

186 
id
 = 
cursÜ
.
g‘IÁ
(
PRJ_ID_ID
);

187 
SŒšg
 
	gäeq
 = 
cursÜ
.
g‘SŒšg
(
PRJ_ID_CH_FREQ
);

188 
SŒšg
 
	gÇme
 = 
cursÜ
.
g‘SŒšg
(
PRJ_ID_CH_NAME
);

189 
	gFMRadio
.
FMInfo
 
	gšfo
 = ((
FMRadio
è
cÚ‹xt
).
ü—‹FmInfo
(
id
, 
äeq
, 
Çme
);

190 
	g»suÉInfo
.
add
(
šfo
);

191 
	gcursÜ
.
moveToNext
();

193 
	g»t
 = 
Œue
;

195 } 
ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

196 
	gLog
.
e
(
LOGTAG
, "",ƒ);

197 
	g»t
 = 
çl£
;

198 } 
	gfš®ly
 {

199 ià(
	gcursÜ
 !ğ
nuÎ
) {

200 
cursÜ
.
şo£
();

201 
	gcursÜ
 = 
nuÎ
;

204  
	g»t
;

213 
public
 
boŞ—n
 
	$isDBEm±y
(
CÚ‹xt
 
cÚ‹xt
) {

214 
CursÜ
 
cursÜ
 = 
nuÎ
;

215 
boŞ—n
 
»t
 = 
çl£
;

216 
Œy
 {

217 
cursÜ
 = 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(
FMD©aProvid”
.
CONTENT_URI
,

218 
PROJECTION
, 
nuÎ
,‚ull,‚ull);

219 ià(
cursÜ
 !ğ
nuÎ
 && cursÜ.
	`moveToFœ¡
()) {

220 
i
 = 0;

221 !
cursÜ
.
	`isAá”La¡
()) {

222 ià(
cursÜ
.
	`g‘SŒšg
(
PRJ_ID_CH_FREQ
).
	`equ®s
("")) {

223 
i
++;

224 ià(
i
 =ğ
Ut
.
MAX_CHANNEL_NUM
) {

225 
Log
.
	`i
(
LOGTAG
, "DB is Empty!");

226 
»t
 = 
Œue
;

230 
cursÜ
.
	`moveToNext
();

233 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

234 
Log
.
	`e
(
LOGTAG
, "", 
e
);

235 
»t
 = 
çl£
;

236 } 
fš®ly
 {

237 ià(
cursÜ
 !ğ
nuÎ
) {

238 
cursÜ
.
	`şo£
();

239 
cursÜ
 = 
nuÎ
;

242  
»t
;

243 
	}
}

250 
public
 
	$ş—rDB
(
CÚ‹xt
 
cÚ‹xt
) {

251 
i
 = 0; i < 
Ut
.
MAX_CHANNEL_NUM
; i++) {

252 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 
	`CÚ‹ÁV®ues
();

253 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_ID
, 
i
);

254 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_CH_FREQ
, "");

255 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_CH_NAME
, "");

256 
Œy
 {

257 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`upd©e
(
FMD©aProvid”
.
CONTENT_URI
, 
cv
,

258 
FMD©aProvid”
.
PROJECTION_ID
 + "=" + 
i
, 
nuÎ
);

259 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

260 
Log
.
	`e
(
LOGTAG
, "", 
e
);

263 
	}
}

272 
public
 
	$§veChªÃlInfo
(
CÚ‹xt
 
cÚ‹xt
, 
id
, 
äeq
) {

273 ià(
DebugFÏgs
.
LOG_CONTENT
) {

274 
Log
.
	`i
(
LOGTAG
, "§veChªÃlInfo, id: " + 
id
 + ", f»q: " + 
äeq
);

277 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 
	`CÚ‹ÁV®ues
();

278 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_ID
, 
id
);

279 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_CH_NAME
, "");

280 ià(
äeq
 > 0) {

281 
Decim®FÜm©
 
fÜm©
 = (Decim®FÜm©è
Numb”FÜm©


282 .
	`g‘In¡ªû
(
LoÿË
.
ENGLISH
);

283 
fÜm©
.
	`­¶yP©‹º
("0.0");

284 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_CH_FREQ
, 
SŒšg
.
	`v®ueOf
(
fÜm©
.
	`fÜm©
(
äeq
 / 1000.0f)));

286 
cv
.
	`put
(
FMD©aProvid”
.
PROJECTION_CH_FREQ
, "");

288 
Œy
 {

289 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`upd©e
(
FMD©aProvid”
.
CONTENT_URI
, 
cv
,

290 
FMD©aProvid”
.
PROJECTION_ID
 + "=" + 
id
, 
nuÎ
);

291 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

292 
Log
.
	`e
(
LOGTAG
, "", 
e
);

294 
	}
}

303 
public
 
	$§veRecÜdšgFe
(
CÚ‹xt
 
cÚ‹xt
, 
Fe
 
»cÜdFe
,

304 
du¿tiÚ
) {

305 
du¿tiÚ
 = duration < 0 ? 0 : duration;

306 
SŒšg
 
feName
 = 
»cÜdFe
.
	`g‘Name
();

308 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 
	`CÚ‹ÁV®ues
();

309 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
IS_MUSIC
, "1");

310 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
TITLE
,

311 
feName
.
	`sub¡ršg
(0, feName.
	`Ï¡IndexOf
(".")));

312 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
DATA
, 
»cÜdFe
.
	`g‘AbsŞu‹P©h
());

313 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
DATE_ADDED
,

314 (è(
Sy¡em
.
	`cu¼’tTimeMlis
() / 1000));

315 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
DATE_MODIFIED
,

316 (è(
Sy¡em
.
	`cu¼’tTimeMlis
() / 1000));

317 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
DURATION
, 
du¿tiÚ
);

318 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
SIZE
, (è(
»cÜdFe
.
	`Ëngth
()));

319 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
MIME_TYPE
, "audio/amr");

320 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
ARTIST
, "<unknown>");

321 
cv
.
	`put
(
MedŸStÜe
.
Audio
.
MedŸ
.
ALBUM
, "FmRecords");

323 ià(
DebugFÏgs
.
LOG_CONTENT
) {

324 
Log
.
	`d
(
LOGTAG
, "In£¹šg fm„ecÜd: " + 
cv
.
	`toSŒšg
());

326 
Uri
 
ba£
 = 
MedŸStÜe
.
Audio
.
MedŸ
.
EXTERNAL_CONTENT_URI
;

327 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`š£¹
(
ba£
, 
cv
);

328 
	}
}

	@src/com/pekall/fmradio/DebugFlags.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

23 
fš®
 cÏs 
	cDebugFÏgs
 {

25 
fš®
 
boŞ—n
 
	mLOG_RDS
 = 
çl£
;

26 
fš®
 
boŞ—n
 
	mLOG_CONTENT
 = 
çl£
;

	@src/com/pekall/fmradio/FMAudioDefaultImpl.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

22 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioMªag”
;

23 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioMªag”
.
	gOnAudioFocusChªgeLi¡’”
;

24 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioSy¡em
;

25 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

30 
public
 
ab¡¿ù
 cÏs 
	cFMAudioDeçuÉIm¶
 
im¶em’ts
 
	mFMAudioIÁ”çû
 {

32 
´Ùeùed
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMAudioFocusClient";

33 
´Ùeùed
 
	mmFMAudioRoutšg
 = 
ROUTE_FM_HEADSET
;

34 
´Ùeùed
 
boŞ—n
 
	mmLo¡Focus
;

35 
´Ùeùed
 
fš®
 
AudioMªag”
 
	mmAudioMgr
;

36 
´Ùeùed
 
fš®
 
FMRadioS”viû
 
	mmFMS”viû
;

41 
´Ùeùed
 
ab¡¿ù
 
’abËAudio
();

46 
´Ùeùed
 
ab¡¿ù
 
di§bËAudio
();

48 
public
 
	$FMAudioDeçuÉIm¶
(
FMRadioS”viû
 
£rviû
, 
CÚ‹xt
 
cÚ‹xt
) {

49 
mFMS”viû
 = 
£rviû
;

50 
mAudioMgr
 = (
AudioMªag”
è
cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
AUDIO_SERVICE
);

56 
public
 
	$pow”OnAudio
() {

57 
mLo¡Focus
 = 
çl£
;

58 
mAudioMgr
.
	`»que¡AudioFocus
(
mAudioFocusLi¡’”
, 
AudioMªag”
.
STREAM_MUSIC
,

59 
AudioMªag”
.
AUDIOFOCUS_GAIN
);

61 
	`£tAudioOnS³ak”
(
çl£
);

62 
	`’abËAudio
();

63 
	}
}

68 
public
 
	$pow”OffAudio
() {

69 
	`£tAudioOnS³ak”
(
çl£
);

70 
	`di§bËAudio
();

72 
	`£tMu‹
(
çl£
);

73 
mAudioMgr
.
	`abªdÚAudioFocus
(
mAudioFocusLi¡’”
);

74 
mLo¡Focus
 = 
çl£
;

75 
	}
}

80 
public
 
	$»gi¡”MedŸKey
() {

87 
	}
}

92 
public
 
	$uÄegi¡”MedŸKey
() {

98 
	}
}

103 
public
 
	$£tMu‹
(
boŞ—n
 
mu‹
) {

104 
mAudioMgr
.
	`£tSŒ—mMu‹
(
AudioMªag”
.
STREAM_FM
, 
mu‹
);

105 
	}
}

110 
public
 
boŞ—n
 
	$g‘Mu‹
() {

111  
mAudioMgr
.
	`isSŒ—mMu‹
(
AudioMªag”
.
STREAM_FM
);

112 
	}
}

117 
public
 
	$£tAudioOnS³ak”
(
boŞ—n
 
¥—k”
) {

118 ià(
¥—k”
) {

119 
AudioSy¡em
.
	`£tFÜûU£
(AudioSy¡em.
FOR_MEDIA
, AudioSy¡em.
FORCE_SPEAKER
);

121 
AudioSy¡em
.
	`£tFÜûU£
(AudioSy¡em.
FOR_MEDIA
, AudioSy¡em.
FORCE_NONE
);

123 
	}
}

128 
public
 
	$g‘AudioP©h
() {

129  
AudioSy¡em
.
	`g‘FÜûU£
(AudioSy¡em.
FOR_MEDIA
è=ğAudioSy¡em.
FORCE_SPEAKER
 ? 
ROUTE_FM_SPEAKER


130 : 
ROUTE_FM_HEADSET
;

131 
	}
}

136 
´Ùeùed
 
OnAudioFocusChªgeLi¡’”
 
	gmAudioFocusLi¡’”
 = 
Ãw
 
	$OnAudioFocusChªgeLi¡’”
() {

137 
public
 
	`ÚAudioFocusChªge
(
focusChªge
) {

138 
Log
.
	`v
(
LOGTAG
, "AudioFocus,„eûived: " + 
focusChªge
 + ", status:" +

139 
mFMS”viû
.
	`g‘S‹
());

140 ià(
FMRadioS”viû
.
FM_SERVICE_ON
 !ğ
mFMS”viû
.
	`g‘S‹
()

141 && 
FMRadioS”viû
.
FM_SERVICE_INIT
 !ğ
mFMS”viû
.
	`g‘S‹
()

142 && 
FMRadioS”viû
.
FM_SERVICE_OPENED
 !ğ
mFMS”viû
.
	`g‘S‹
()) {

146 
focusChªge
) {

148 
AudioMªag”
.
AUDIOFOCUS_LOSS
: {

149 
Log
.
	`v
(
LOGTAG
, "AUDIOFOCUS_LOSS");

150 
mFMS”viû
.
	`ş—rFMS”viû
();

153 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
("android.intent.action.STOP_FM");

154 
mFMS”viû
.
	`£ndBrßdÿ¡
(
š‹Á
);

158 
AudioMªag”
.
AUDIOFOCUS_LOSS_TRANSIENT
:

159 
AudioMªag”
.
AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK
:

160 
Log
.
	`v
(
LOGTAG
, "AUDIOFOCUS_LOSS_TRANSIENT");

161 
	`di§bËAudio
();

162 
mLo¡Focus
 = 
Œue
;

165 
AudioMªag”
.
AUDIOFOCUS_GAIN
:

166 
Log
.
	`v
(
LOGTAG
, "AUDIOFOCUS_GAIN");

167 ià(
mLo¡Focus
) {

168 
	`’abËAudio
();

169 
mLo¡Focus
 = 
çl£
;

173 
Log
.
	`e
(
LOGTAG
, "Unknown‡udio focus code");

177 
	}
};

	@src/com/pekall/fmradio/FMAudioDeviceInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioSy¡em
;

21 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gS‘tšgs
;

22 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

27 
public
 cÏs 
	cFMAudioDeviûIÁ”çû
 
ex‹nds
 
	mFMAudioDeçuÉIm¶
 {

28 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMAudioDeviceInterface";

35 
´iv©e
 
	mmDŸlTÚeS‘tšg
 = 1;

36 
´iv©e
 
boŞ—n
 
	mmTÚeDi§bËd
 = 
çl£
;

38 
public
 
	$FMAudioDeviûIÁ”çû
(
FMRadioS”viû
 
£rviû
, 
CÚ‹xt
 
cÚ‹xt
) {

39 
	`su³r
(
£rviû
, 
cÚ‹xt
);

45 @
Ov”ride


46 
public
 
	$pow”OnAudio
() {

47 
	`di§bËTouchTÚes
();

49 
su³r
.
	`pow”OnAudio
();

50 
	}
}

55 @
Ov”ride


56 
public
 
	$pow”OffAudio
() {

57 
su³r
.
	`pow”OffAudio
();

59 
	`’abËTouchTÚes
();

60 
mDŸlTÚeS‘tšg
 = 1;

61 
mTÚeDi§bËd
 = 
çl£
;

62 
	}
}

67 
´iv©e
 
	$di§bËTouchTÚes
() {

68 ià(
mTÚeDi§bËd
) {

69 
Log
.
	`e
(
LOGTAG
, "disableTouchTones invoked when "

73 
mTÚeDi§bËd
 = 
Œue
;

75 
mAudioMgr
.
	`uÆßdSoundEfãùs
();

76 
mDŸlTÚeS‘tšg
 = 
S‘tšgs
.
Sy¡em
.
	`g‘IÁ
(
mFMS”viû
.
	`g‘CÚ‹ÁResŞv”
(),

77 
S‘tšgs
.
Sy¡em
.
DTMF_TONE_WHEN_DIALING
, 1);

79 
Log
.
	`i
(
LOGTAG
, "di§bË dŸÈtÚe, save: " + 
mDŸlTÚeS‘tšg
);

80 
S‘tšgs
.
Sy¡em
.
	`putIÁ
(
mFMS”viû
.
	`g‘CÚ‹ÁResŞv”
(),

81 
S‘tšgs
.
Sy¡em
.
DTMF_TONE_WHEN_DIALING
, 0);

82 
	}
}

87 
´iv©e
 
	$’abËTouchTÚes
() {

88 ià(!
mTÚeDi§bËd
) {

89 
Log
.
	`e
(
LOGTAG
, "enableTouchTones invoked when "

93 
mTÚeDi§bËd
 = 
çl£
;

95 
efãù
 = 
S‘tšgs
.
Sy¡em
.
	`g‘IÁ
(
mFMS”viû
.
	`g‘CÚ‹ÁResŞv”
(),

96 
S‘tšgs
.
Sy¡em
.
SOUND_EFFECTS_ENABLED
, 0);

98 ià(
efãù
 == 1) {

99 
mAudioMgr
.
	`lßdSoundEfãùs
();

102 
cu¼’tS‘tšg
 = 
S‘tšgs
.
Sy¡em
.
	`g‘IÁ
(
mFMS”viû
.
	`g‘CÚ‹ÁResŞv”
(),

103 
S‘tšgs
.
Sy¡em
.
DTMF_TONE_WHEN_DIALING
, 1);

104 
Log
.
	`i
(
LOGTAG
, "»¡ÜdŸÈtÚe, saved: " + 
mDŸlTÚeS‘tšg
 + ", current: "

105 + 
cu¼’tS‘tšg
);

110 ià(
cu¼’tS‘tšg
 == 0) {

111 
S‘tšgs
.
Sy¡em
.
	`putIÁ
(
mFMS”viû
.
	`g‘CÚ‹ÁResŞv”
(),

112 
S‘tšgs
.
Sy¡em
.
DTMF_TONE_WHEN_DIALING
, 
mDŸlTÚeS‘tšg
);

115 
	}
}

120 @
Ov”ride


121 
´Ùeùed
 
	$’abËAudio
() {

122 ià(
AudioSy¡em
.
DEVICE_STATE_UNAVAILABLE
 =ğAudioSy¡em.
	`g‘DeviûCÚÃùiÚS‹
(

123 
AudioSy¡em
.
DEVICE_OUT_FM
, "")) {

124 
AudioSy¡em
.
	`£tDeviûCÚÃùiÚS‹
(AudioSy¡em.
DEVICE_OUT_FM
,

125 
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
, "");

127 
	}
}

132 @
Ov”ride


133 
´Ùeùed
 
	$di§bËAudio
() {

134 ià(
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
 =ğAudioSy¡em.
	`g‘DeviûCÚÃùiÚS‹
(

135 
AudioSy¡em
.
DEVICE_OUT_FM
, "")) {

136 
AudioSy¡em
.
	`£tDeviûCÚÃùiÚS‹
(AudioSy¡em.
DEVICE_OUT_FM
,

137 
AudioSy¡em
.
DEVICE_STATE_UNAVAILABLE
, "");

139 
	}
}

144 @
Ov”ride


145 
public
 
boŞ—n
 
	$isAudioOn
() {

146  
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
 =ğAudioSy¡em.
	`g‘DeviûCÚÃùiÚS‹
(

147 
AudioSy¡em
.
DEVICE_OUT_FM
, "");

148 
	}
}

	@src/com/pekall/fmradio/FMAudioInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

22 
public
 
š‹rçû
 
	gFMAudioIÁ”çû
 {

27 
public
 
fš®
 
SŒšg
 
	gFM_ROUTE_HEADSET
 = "com.pekall.fmradio.route.headset";

32 
public
 
fš®
 
SŒšg
 
	gFM_ROUTE_LOUDSPEAKER
 = "com.pekall.fmradio.route.loudspeaker";

37 
public
 
fš®
 
	gROUTE_FM_HEADSET
 = 0;

42 
public
 
fš®
 
	gROUTE_FM_SPEAKER
 = 1;

47 
public
 
fš®
 
	gFMRADIO_MUTE_AUDIO
 = 0;

52 
public
 
fš®
 
	gFMRADIO_UNMUTE_AUDIO
 = 1;

58 
public
 
pow”OnAudio
();

63 
public
 
pow”OffAudio
();

70 
public
 
boŞ—n
 
isAudioOn
();

77 
public
 
£tAudioOnS³ak”
(
boŞ—n
 
¥—k”
);

82 
public
 
»gi¡”MedŸKey
();

87 
public
 
uÄegi¡”MedŸKey
();

95 
public
 
g‘AudioP©h
();

102 
public
 
£tMu‹
(
boŞ—n
 
mu‹
);

109 
public
 
boŞ—n
 
g‘Mu‹
();

	@src/com/pekall/fmradio/FMAudioStubInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

25 
public
 cÏs 
	cFMAudioStubIÁ”çû
 
ex‹nds
 
	mFMAudioDeçuÉIm¶
 {

26 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMAudioStubInterface";

28 
´iv©e
 
boŞ—n
 
	mmMu‹
;

29 
´iv©e
 
boŞ—n
 
	mmAudioOn
;

31 
public
 
	$FMAudioStubIÁ”çû
(
FMRadioS”viû
 
£rviû
, 
CÚ‹xt
 
cÚ‹xt
) {

32 
	`su³r
(
£rviû
, 
cÚ‹xt
);

33 
Log
.
	`i
(
LOGTAG
, "constructor");

39 @
Ov”ride


40 
public
 
	$£tMu‹
(
boŞ—n
 
mu‹
) {

41 
Log
.
	`i
(
LOGTAG
, "£tMu‹: " + 
mu‹
);

42 
mMu‹
 = 
mu‹
;

43 
	}
}

48 @
Ov”ride


49 
public
 
boŞ—n
 
	$g‘Mu‹
() {

50 
Log
.
	`i
(
LOGTAG
, "g‘Mu‹: " + 
mMu‹
);

51  
mMu‹
;

52 
	}
}

57 @
Ov”ride


58 
´Ùeùed
 
	$’abËAudio
() {

59 
Log
.
	`i
(
LOGTAG
, "enableAudio");

60 
mAudioOn
 = 
Œue
;

61 
	}
}

66 @
Ov”ride


67 
´Ùeùed
 
	$di§bËAudio
() {

68 
Log
.
	`i
(
LOGTAG
, "disableAudio");

69 
mAudioOn
 = 
çl£
;

70 
	}
}

75 @
Ov”ride


76 
public
 
boŞ—n
 
	$isAudioOn
() {

77  
mAudioOn
;

78 
	}
}

	@src/com/pekall/fmradio/FMClearChannel.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

20 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

21 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlogF¿gm’t
;

22 
impÜt
 
	gªdroid
.
	g­p
.
	gLi¡Aùiv™y
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹ÁV®ues
;

24 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

25 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

26 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gCursÜ
;

27 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eDiskIOExû±iÚ
;

28 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

29 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

30 
impÜt
 
	gªdroid
.
	gut
.
	gS·r£BoŞ—nA¼ay
;

31 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

32 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

33 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

34 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
;

35 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
.
	gOnI‹mClickLi¡’”
;

36 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

37 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

38 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckedTextV›w
;

39 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLi¡V›w
;

40 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSim¶eAd­‹r
;

42 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

43 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

44 
impÜt
 
	gjava
.
	gut
.
	gM­
;

49 
public
 
şass
 
FMCË¬ChªÃl
 
ex‹nds
 
Li¡Aùiv™y
 
im¶em’ts


50 
	gV›w
.
	gOnClickLi¡’”
 {

51 
´iv©e
 
fš®
 
SŒšg
 
	gTAG
 = "FMClearChannel";

53 @
Suµ»ssW¬nšgs
("unused")

54 
´iv©e
 
fš®
 
	gPRJ_ID_ID
 = 0;

55 
´iv©e
 
fš®
 
	gPRJ_ID_CH_FREQ
 = 1;

56 
´iv©e
 
fš®
 
	gPRJ_ID_CH_NAME
 = 2;

57 
´iv©e
 
fš®
 
	gSŒšg
[] 
	gPROJECTION
 = 
Ãw
 
SŒšg
[] {

58 
FMD©aProvid”
.
PROJECTION_ID
,

59 
FMD©aProvid”
.
PROJECTION_CH_FREQ
,

60 
FMD©aProvid”
.
PROJECTION_CH_NAME
,

63 
´iv©e
 
fš®
 
	gCLEAR_ID
 = 
M’u
.
FIRST
;

64 
´iv©e
 
fš®
 
	gSELECT_ALL_ID
 = 
M’u
.
FIRST
 + 1;

65 
´iv©e
 
fš®
 
	gUNSELECT_ALL_ID
 = 
M’u
.
FIRST
 + 2;

67 
´iv©e
 
fš®
 
	gDIALOG_CONFIRM_CLEAR
 = 0;

69 
´iv©e
 
	gCHANNEL_NUM
 = 0;

70 
´iv©e
 
	gmCurNum
 = 0;

71 
´iv©e
 
Li¡V›w
 
	gmP»£tLi¡V›w
;

72 
´iv©e
 
CheckBox
 
	gmCheckBoxAÎ
 = 
nuÎ
;

73 
´iv©e
 
Bu‰Ú
 
	gmCË¬DÚe
 = 
nuÎ
;

74 
´iv©e
 
boŞ—n
 
	gmS–eùedAÎ
 = 
çl£
;

75 
public
 
boŞ—n
 
	gmD–‘eAÎ
 = 
çl£
;

77 @
Ov”ride


78 
´Ùeùed
 
ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

79 
	gsu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

81 
£tCÚ‹ÁV›w
(
R
.
Ïyout
.
ş—r_ch
);

82 
£tT™Ë
(
R
.
¡ršg
.
ş—r_´e£ts
);

84 
IÁ’t
 
	gš‹Á
 = 
g‘IÁ’t
();

85 ià(
	gš‹Á
 !ğ
nuÎ
) {

86 
mCurNum
 = 
š‹Á
.
g‘IÁExŒa
("current_num", 1);

89 
š™ResourûRefs
();

90 
upd©eUI
();

93 
´iv©e
 
š™ResourûRefs
() {

94 
	gmP»£tLi¡V›w
 = (
Li¡V›w
è
fšdV›wById
(
ªdroid
.
R
.
id
.
li¡
);

95 
	gmCË¬DÚe
 = (
Bu‰Ú
è
fšdV›wById
(
R
.
id
.
bŠ_dÚe
);

96 
	gmCheckBoxAÎ
 = (
CheckBox
è
fšdV›wById
(
R
.
id
.
checkbox
);

97 
	gmCË¬DÚe
.
£tOnClickLi¡’”
(
this
);

98 
	gmCheckBoxAÎ
.
£tOnClickLi¡’”
(
this
);

101 
´iv©e
 
upd©eUI
() {

102 
	gCHANNEL_NUM
 = 0;

103 
CursÜ
 
	gcur
 = 
nuÎ
;

104 
	gŒy
 {

105 
	gcur
 = 
g‘CÚ‹ÁResŞv”
().
qu”y
(
FMD©aProvid”
.
CONTENT_URI
, 
PROJECTION
, 
nuÎ
,

106 
nuÎ
,‚ull);

107 } 
ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

108 
	gLog
.
i
(
TAG
, "ÚO³À: " + 
e
.
toSŒšg
());

109 ià(
	gcur
 !ğ
nuÎ
) {

110 
cur
.
şo£
();

111 
	gcur
 = 
nuÎ
;

115 ià(
	gcur
 =ğ
nuÎ
) {

116 
Log
.
e
(
TAG
, "cur is‚ull, ERROR!");

117 
fšish
();

121 
	gA¼ayLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gcŞl
 = 
Ãw
 
A¼ayLi¡
<
M­
<
SŒšg
, Object>>();

122 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	g™em
;

124 
	gcur
.
moveToFœ¡
();

125 
	gi
 = 1;

126 !
	gcur
.
isAá”La¡
()) {

127 
	g™em
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gObjeù
>();

129 ià(
	gcur
.
g‘SŒšg
(
PRJ_ID_CH_NAME
).
equ®s
("")) {

130 ià(
	gcur
.
g‘SŒšg
(
PRJ_ID_CH_FREQ
).
equ®s
("")) {

131 
	g™em
.
put
(

133 
g‘SŒšg
(
R
.
¡ršg
.
´e£t
) + " "

134 + 
IÁeg”
.
toSŒšg
(
i
) + "("

135 + 
g‘SŒšg
(
R
.
¡ršg
.
em±y
) + ")");

137 
	g™em
.
put
(

139 
g‘SŒšg
(
R
.
¡ršg
.
´e£t
) + " "

140 + 
IÁeg”
.
toSŒšg
(
i
) + "("

141 + 
cur
.
g‘SŒšg
(
PRJ_ID_CH_FREQ
) + "MHz" + ")");

142 
	gCHANNEL_NUM
 = 
CHANNEL_NUM
 + 1;

145 
	g™em
.
put
("c1",

146 
g‘SŒšg
(
R
.
¡ršg
.
´e£t
è+ " " + 
IÁeg”
.
toSŒšg
(
i
)

147 + "(" + 
cur
.
g‘SŒšg
(
PRJ_ID_CH_NAME
) + ")");

149 
	gcŞl
.
add
(
™em
);

150 
	gcur
.
moveToNext
();

151 
	gi
++;

153 
	gcur
.
şo£
();

154 
	gLog
.
d
(
TAG
, "get datao coll,„eadyo setListAdapter. ");

155 
	gSim¶eAd­‹r
.
V›wBšd”
 
	gv›wBšd”
 = 
Ãw
 
Sim¶eAd­‹r
.ViewBinder() {

156 
public
 
boŞ—n
 
£tV›wV®ue
(
V›w
 
v›w
, 
Objeù
 
obj
, 
SŒšg
 
¡r
) {

157 
CheckedTextV›w
 
v
 = (CheckedTextV›wè
v›w
;

158 
	gv
.
£tText
(
obj
.
toSŒšg
());

159  
	gŒue
;

163 
Sim¶eAd­‹r
 
	g§
 = 
Ãw
 Sim¶eAd­‹r(
this
, 
cŞl
,

164 
R
.
Ïyout
.
sim¶e_li¡_™em_muÉË_choiû
,

165 
Ãw
 
SŒšg
[] {

167 }, 
Ãw
 [] {

168 
R
.
id
.
‹xt1


171 
	g§
.
£tV›wBšd”
(
v›wBšd”
);

172 
	gthis
.
£tLi¡Ad­‹r
(
§
);

174 
	gLog
.
d
(
TAG
, "after setListAdapter!");

176 
	gmP»£tLi¡V›w
.
£tFocu§bËInTouchMode
(
Œue
);

177 
	gmP»£tLi¡V›w
.
»que¡Focus
();

178 
	gmP»£tLi¡V›w
.
£tFocu§bË
(
Œue
);

179 
	gmP»£tLi¡V›w
.
£tI‹msCªFocus
(
Œue
);

180 
	gmP»£tLi¡V›w
.
£tChoiûMode
(
Li¡V›w
.
CHOICE_MODE_MULTIPLE
);

181 
	gmP»£tLi¡V›w
.
£tCacheCŞÜHšt
(0);

182 
	gmP»£tLi¡V›w
.
£tDivid”
(
this
.
g‘Resourûs
().
g‘D¿wabË
(

183 
R
.
d¿wabË
.
fm_li¡_lše
));

184 
	gmP»£tLi¡V›w
.
£tDivid”Height
(1);

185 
	gmP»£tLi¡V›w
.
£tOnI‹mClickLi¡’”
(
Ãw
 
OnI‹mClickLi¡’”
() {

186 
public
 
ÚI‹mClick
(
Ad­‹rV›w
<?> 
·»Á
, 
V›w
 
v›w
,

187 
pos™iÚ
, 
id
) {

188 
S·r£BoŞ—nA¼ay
 
checkA¼ay
 = 
mP»£tLi¡V›w


189 .
g‘CheckedI‹mPos™iÚs
();

190 ià(
checkA¼ay
 =ğ
nuÎ
)

192 
i
 = 0; i < 
Ut
.
MAX_CHANNEL_NUM
; i++) {

193 ià(!
checkA¼ay
.
g‘
(
i
)) {

194 ià(
mCheckBoxAÎ
.
isChecked
()) {

195 
mCheckBoxAÎ
.
£tChecked
(
çl£
);

196 
mS–eùedAÎ
 = 
çl£
;

201 
mCheckBoxAÎ
.
£tChecked
(
Œue
);

202 
mS–eùedAÎ
 = 
Œue
;

207 @
Ov”ride


208 
public
 
boŞ—n
 
ÚC»©eO±iÚsM’u
(
M’u
 
m’u
) {

209 
	gsu³r
.
ÚC»©eO±iÚsM’u
(
m’u
);

210 
	gm’u
.
add
(0, 
CLEAR_ID
, 0, 
R
.
¡ršg
.
ş—r
).
£tIcÚ
(

211 
ªdroid
.
R
.
d¿wabË
.
ic_m’u_d–‘e
);

212 
	gm’u
.
add
(0, 
SELECT_ALL_ID
, 1, 
R
.
¡ršg
.
£Ëù_®l
).
£tIcÚ
(

213 
R
.
d¿wabË
.
ic_m’u_£Ëù_®l
);

214 
	gm’u
.
add
(0, 
UNSELECT_ALL_ID
, 2, 
R
.
¡ršg
.
un£Ëù_®l
).
£tIcÚ
(

215 
R
.
d¿wabË
.
ic_m’u_un£Ëù_®l
);

217  
	gŒue
;

220 
public
 
ÚClick
(
V›w
 
v›w
) {

221 
	gv›w
.
g‘Id
()) {

222 
	gR
.
	gid
.
	gcheckbox
:

223 ià(
mCheckBoxAÎ
.
isChecked
()) {

224 
j
 = 0; 
	gj
 < 
	gUt
.
	gMAX_CHANNEL_NUM
; j++) {

225 
	gmP»£tLi¡V›w
.
£tI‹mChecked
(
j
, 
Œue
);

227 
	gmS–eùedAÎ
 = 
Œue
;

229 
	gj
 = 0; j < 
	gUt
.
	gMAX_CHANNEL_NUM
; j++) {

230 
	gmP»£tLi¡V›w
.
£tI‹mChecked
(
j
, 
çl£
);

232 
	gmS–eùedAÎ
 = 
çl£
;

235 
	gR
.
	gid
.
	gbŠ_dÚe
:

236 
boŞ—n
 
isAnyS–eùed
 = 
çl£
;

237 
S·r£BoŞ—nA¼ay
 
	gchecked
 = 
mP»£tLi¡V›w


238 .
g‘CheckedI‹mPos™iÚs
();

239 ià(
	gchecked
 =ğ
nuÎ
)

241 
	gi
 = 0; i < 
	gUt
.
	gMAX_CHANNEL_NUM
; i++) {

242 ià(
	gchecked
.
g‘
(
i
))

243 
	gisAnyS–eùed
 = 
Œue
;

245 ià(!
	gisAnyS–eùed
) {

246 
IÁ’t
 
	gş—r_»suÉ
 = 
Ãw
 Intent();

247 
	gş—r_»suÉ
.
putExŒa
("isCË¬AÎ", 
çl£
);

248 
£tResuÉ
(
RESULT_OK
, 
ş—r_»suÉ
);

249 
fšish
();

251 
showDŸlogF¿gm’t
(
FMCË¬ChªÃl
.
this
, 
DIALOG_CONFIRM_CLEAR
);

259 @
Ov”ride


260 
public
 
boŞ—n
 
ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

261 
	g™em
.
g‘I‹mId
()) {

262 
	gCLEAR_ID
:

263 
boŞ—n
 
isAnyS–eùed
 = 
çl£
;

264 
S·r£BoŞ—nA¼ay
 
	gchecked
 = 
mP»£tLi¡V›w


265 .
g‘CheckedI‹mPos™iÚs
();

266 ià(
	gchecked
 =ğ
nuÎ
)

268 
	gi
 = 0; i < 
	gUt
.
	gMAX_CHANNEL_NUM
; i++) {

269 ià(
	gchecked
.
g‘
(
i
))

270 
	gisAnyS–eùed
 = 
Œue
;

272 ià(!
	gisAnyS–eùed
) {

273 
IÁ’t
 
	gş—r_»suÉ
 = 
Ãw
 Intent();

274 
	gş—r_»suÉ
.
putExŒa
("isCË¬AÎ", 
çl£
);

275 
£tResuÉ
(
RESULT_OK
, 
ş—r_»suÉ
);

276 
fšish
();

278 
showDŸlogF¿gm’t
(
FMCË¬ChªÃl
.
this
, 
DIALOG_CONFIRM_CLEAR
);

281 
	gSELECT_ALL_ID
:

282 
mCheckBoxAÎ
.
£tChecked
(
Œue
);

283 
	gmS–eùedAÎ
 = 
Œue
;

285 
	gj
 = 0; j < 
	gUt
.
	gMAX_CHANNEL_NUM
; j++) {

286 
	gmP»£tLi¡V›w
.
£tI‹mChecked
(
j
, 
Œue
);

290 
	gUNSELECT_ALL_ID
:

291 ià(
mCheckBoxAÎ
.
isChecked
()) {

292 
mCheckBoxAÎ
.
£tChecked
(
çl£
);

293 
	gmS–eùedAÎ
 = 
çl£
;

296 
	gj
 = 0; j < 
	gUt
.
	gMAX_CHANNEL_NUM
; j++) {

297 
	gmP»£tLi¡V›w
.
£tI‹mChecked
(
j
, 
çl£
);

302  
	gsu³r
.
ÚO±iÚsI‹mS–eùed
(
™em
);

305 
public
 
showDŸlogF¿gm’t
(
FMCË¬ChªÃl
 
aùiv™y
, 
id
) {

306 
DŸlogF¿gm’t
 
	gÃwF¿gm’t
 = 
MyAË¹DŸlogF¿gm’t
.
ÃwIn¡ªû
(

307 
aùiv™y
, 
id
);

308 
	gÃwF¿gm’t
.
show
(
g‘F¿gm’tMªag”
(), "dialog");

311 
public
 şas 
	cMyAË¹DŸlogF¿gm’t
 
ex‹nds
 
	gDŸlogF¿gm’t
 {

312 
FMCË¬ChªÃl
 
	gmAùiv™y
;

314 
public
 
MyAË¹DŸlogF¿gm’t
 
ÃwIn¡ªû
(

315 
FMCË¬ChªÃl
 
aùiv™y
, 
id
) {

316 
	gmAùiv™y
 = 
aùiv™y
;

317 
MyAË¹DŸlogF¿gm’t
 
	gäag
 = 
Ãw
 MyAlertDialogFragment();

318 
BundË
 
	g¬gs
 = 
Ãw
 Bundle();

319 
	g¬gs
.
putIÁ
("id", 
id
);

320 
	gäag
.
£tArgum’ts
(
¬gs
);

321  
	gäag
;

324 @
Ov”ride


325 
public
 
DŸlog
 
ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

326 
	gid
 = 
g‘Argum’ts
().
g‘IÁ
("id");

328 
	gid
) {

329 
	gDIALOG_CONFIRM_CLEAR
: {

330  
Ãw
 
AË¹DŸlog
.
Bud”
(
mAùiv™y
)

331 .
£tT™Ë
(
R
.
¡ršg
.
ş—r_´e£ts
)

332 .
£tMes§ge
(
R
.
¡ršg
.
cÚfœm_ş—r_´e£ts
)

333 .
£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

334 
Ãw
 
DŸlogIÁ”çû
.
OnClickLi¡’”
() {

335 
public
 
ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

336 
whichBu‰Ú
) {

337 
boŞ—n
 
isLa¡Pos™iÚCË¬ed
 = 
çl£
;

338 
checked_num
 = 0;

339 
checked_num1
 = 0;

340 
S·r£BoŞ—nA¼ay
 
checked
 = 
mAùiv™y
.
mP»£tLi¡V›w


341 .
g‘CheckedI‹mPos™iÚs
();

342 ià(
checked
 =ğ
nuÎ
)

344 
i
 = 0; i < 
Ut
.
MAX_CHANNEL_NUM
; i++) {

345 ià(
checked
.
g‘
(
i
)) {

346 
checked_num
++;

347 
Log
.
d
(
TAG
, "checked.get(i) "

348 + 
checked
.
g‘
(
i
));

349 
Log
.
d
(
TAG
, "checked_num is "

350 + 
checked_num
);

351 
CÚ‹ÁV®ues
 
cv
 = 
Ãw
 ContentValues();

352 ià(!
mD–‘eAÎ
) {

353 
CursÜ
 
c
 = 
mAùiv™y


354 .
g‘CÚ‹ÁResŞv”
()

355 .
qu”y
(
FMD©aProvid”
.
CONTENT_URI
,

356 
PROJECTION
,

357 
FMD©aProvid”
.
PROJECTION_ID


359 + 
i
,

360 
nuÎ
,‚ull);

361 ià(
c
 !ğ
nuÎ
) {

362 
c
.
moveToFœ¡
();

363 ià(
c
.
g‘SŒšg
(
PRJ_ID_CH_FREQ
è!ğ
nuÎ


364 && 
c
.
g‘SŒšg
(

365 
PRJ_ID_CH_FREQ
)

366 .
Ëngth
() != 0) {

367 
checked_num1
 = checked_num1 + 1;

369 
c
.
şo£
();

372 
cv
.
put
(
FMD©aProvid”
.
PROJECTION_ID
,

373 
IÁeg”
.
toSŒšg
(
i
));

374 
cv
.
put
(
FMD©aProvid”
.
PROJECTION_CH_FREQ
, "");

375 
cv
.
put
(
FMD©aProvid”
.
PROJECTION_CH_NAME
, "");

376 
Œy
 {

377 
mAùiv™y


378 .
g‘CÚ‹ÁResŞv”
()

379 .
upd©e
(
FMD©aProvid”
.
CONTENT_URI
,

380 
cv
,

381 
FMD©aProvid”
.
PROJECTION_ID


383 + 
IÁeg”


384 .
toSŒšg
(
i
),

385 
nuÎ
);

386 } 
ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

387 
Log
.
i
(
TAG
,

389 + 
e
.
toSŒšg
());

391 ià(
i
 =ğ
mAùiv™y
.
mCurNum
) {

392 
isLa¡Pos™iÚCË¬ed
 = 
Œue
;

396 
Log
.
d
(
TAG
, "checked_num1 "

397 + 
checked_num1
);

398 ià(
mAùiv™y
.
mS–eùedAÎ
) {

399 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
Œue
;

400 } ià(
checked_num1
 =ğ
CHANNEL_NUM
) {

401 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
Œue
;

403 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
çl£
;

405 
IÁ’t
 
ş—r_»suÉ
 = 
Ãw
 Intent();

406 ià(
checked_num
 =ğ
Ut
.
MAX_CHANNEL_NUM
) {

407 
ş—r_»suÉ
.
putExŒa
("isClearAll",

408 
Œue
);

410 
ş—r_»suÉ
.
putExŒa
("isClearAll",

411 
çl£
);

412 
ş—r_»suÉ
.
putExŒa
(

414 
isLa¡Pos™iÚCË¬ed
);

416 
mAùiv™y
.
£tResuÉ
(
RESULT_OK
,

417 
ş—r_»suÉ
);

418 
mAùiv™y
.
fšish
();

421 .
£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

422 
Ãw
 
DŸlogIÁ”çû
.
OnClickLi¡’”
() {

423 
public
 
ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

424 
whichBu‰Ú
) {

426 
IÁ’t
 
ş—r_»suÉ
 = 
Ãw
 Intent();

427 
ş—r_»suÉ
.
putExŒa
("isClearAll",

428 
çl£
);

429 
mAùiv™y
.
£tResuÉ
(
RESULT_OK
,

430 
ş—r_»suÉ
);

431 
dŸlog
.
dismiss
();

433 }).
ü—‹
();

436  
	gnuÎ
;

	@src/com/pekall/fmradio/FMDataProvider.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹ÁProvid”
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹ÁV®ues
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

22 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gUriM©ch”
;

23 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gCursÜ
;

24 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gSQLExû±iÚ
;

25 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eD©aba£
;

26 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eO³nH–³r
;

27 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eQu”yBud”
;

28 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

29 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

31 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

32 
impÜt
 
	gjava
.
	g‹xt
.
	gNumb”FÜm©
;

33 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

38 
public
 cÏs 
	cFMD©aProvid”
 
ex‹nds
 
	mCÚ‹ÁProvid”
 {

39 
´iv©e
 
fš®
 
SŒšg
 
	mTAG
 = "FMDataProvider";

41 
´iv©e
 
fš®
 
SŒšg
 
	mDATABASE_NAME
 = "fmradio.db";

42 
´iv©e
 
fš®
 
	mDATABASE_VERSION
 = 1;

44 
´iv©e
 
fš®
 
SŒšg
 
	mTABLE_CHANNELS
 = "channels";

45 
´iv©e
 
fš®
 
SŒšg
 
	mTABLE_LAST_STATUS
 = "last_status";

47 
´iv©e
 
fš®
 
UriM©ch”
 
	msUriM©ch”
;

48 
´iv©e
 
fš®
 
	mCHANNELS
 = 1;

49 
´iv©e
 
fš®
 
	mCHANNELS_ID
 = 2;

50 
´iv©e
 
fš®
 
	mLAST_STATUS
 = 3;

51 
´iv©e
 
fš®
 
	mLAST_STATUS_ID
 = 4;

53 
fš®
 
SŒšg
 
	mAUTHORITY
 = "com.pekall.provider.fmradio";

54 
fš®
 
Uri
 
	mCONTENT_URI
 = Uri.
·r£
("cÚ‹Á://" + 
AUTHORITY
 + "/" + 
TABLE_CHANNELS
);

56 
public
 
fš®
 
Uri
 
	mSAVED_CONTENT_URI
 = Uri.
·r£
("cÚ‹Á://" + 
AUTHORITY
 + "/"

57 + 
TABLE_LAST_STATUS
);

59 
fš®
 
SŒšg
 
	mPROJECTION_ID
 = "_id";

60 
fš®
 
SŒšg
 
	mPROJECTION_CH_FREQ
 = "channel_freq";

61 
fš®
 
SŒšg
 
	mPROJECTION_CH_NAME
 = "channel_name";

62 
fš®
 
SŒšg
 
	mPROJECTION_LAST_FREQ
 = "last_freq";

63 
fš®
 
SŒšg
 
	mPROJECTION_LAST_CH_NUM
 = "last_channel_num";

64 
fš®
 
SŒšg
 
	mPROJECTION_FULL_SCANED
 = "full_scanned";

67 
	msUriM©ch”
 = 
Ãw
 
UriM©ch”
(UriM©ch”.
NO_MATCH
);

68 
	msUriM©ch”
.
addURI
(
FMD©aProvid”
.
AUTHORITY
, 
TABLE_CHANNELS
, 
CHANNELS
);

69 
	msUriM©ch”
.
addURI
(
FMD©aProvid”
.
AUTHORITY
, 
TABLE_CHANNELS
 + "/#", 
CHANNELS_ID
);

70 
	msUriM©ch”
.
addURI
(
FMD©aProvid”
.
AUTHORITY
, 
TABLE_LAST_STATUS
, 
LAST_STATUS
);

71 
	msUriM©ch”
.
addURI
(
FMD©aProvid”
.
AUTHORITY
, 
TABLE_LAST_STATUS
 + "/#", 
LAST_STATUS_ID
);

74 
´iv©e
 
D©aba£H–³r
 
	gmO³nH–³r
;

76 
´iv©e
 şas 
	cD©aba£H–³r
 
ex‹nds
 
	gSQL™eO³nH–³r
 {

77 
fš®
 
CÚ‹xt
 
	gmCÚ‹xt
;

79 
D©aba£H–³r
(
CÚ‹xt
 
cÚ‹xt
) {

80 
su³r
(
cÚ‹xt
, 
DATABASE_NAME
, 
nuÎ
, 
DATABASE_VERSION
);

81 
	gmCÚ‹xt
 = 
cÚ‹xt
;

84 
public
 
ÚC»©e
(
SQL™eD©aba£
 
db
) {

85 
	gŒy
 {

86 
	gdb
.
execSQL
("CREATE TABLE " + 
TABLE_CHANNELS
 + " ("

87 + 
PROJECTION_ID
 + " INTEGER PRIMARY KEY,"

88 + 
PROJECTION_CH_FREQ
 + " FLOAT,"

89 + 
PROJECTION_CH_NAME
 + " TEXT" + ");");

91 
	gdb
.
execSQL
("CREATE TABLE " + 
TABLE_LAST_STATUS
 + " ("

92 + 
PROJECTION_ID
 + " INTEGER,"

93 + 
PROJECTION_LAST_CH_NUM
 + " INTEGER,"

94 + 
PROJECTION_LAST_FREQ
 + " INTEGER,"

95 + 
PROJECTION_FULL_SCANED
 + " BOOLEAN"

98 
	gdb
.
execSQL
("insert into "

99 + 
TABLE_LAST_STATUS


100 + " (" + 
PROJECTION_ID


101 + ", " + 
PROJECTION_LAST_CH_NUM


102 + ", " + 
PROJECTION_LAST_FREQ


103 + ", " + 
PROJECTION_FULL_SCANED


106 } 
ÿtch
 (
SQLExû±iÚ
 
e
) {

107 
	gLog
.
e
(
TAG
,ƒ.
toSŒšg
());

110 
addP»£tChªÃls
(
db
);

113 
´iv©e
 
addP»£tChªÃls
(
SQL™eD©aba£
 
db
) {

114 
	gŒy
 {

115 
Decim®FÜm©
 
	gmyFÜm©
 = (Decim®FÜm©è
Numb”FÜm©


116 .
g‘In¡ªû
(
LoÿË
.
ENGLISH
);

117 
	gmyFÜm©
.
­¶yP©‹º
("0.0");

118 
	gi
 = 0; i < 
	gUt
.
	gMAX_CHANNEL_NUM
; i++) {

119 
	gf
 = (
i
 * 0.5f) + 87.5f;

120 
SŒšgBud”
 
	gbud”
 = 
Ãw
 StringBuilder();

121 
SŒšg
 
	gäeq
 = "";

122 ià(
	gUt
.
di¥ÏyP»£tChªÃls
(
mCÚ‹xt
)) {

123 
	gäeq
 = 
myFÜm©
.
fÜm©
(
f
);

125 
	gbud”
.
­³nd
("insert into ")

126 .
­³nd
(
TABLE_CHANNELS
)

127 .
­³nd
(" (" + 
PROJECTION_ID
 + ", "

128 + 
PROJECTION_CH_FREQ
 + ", "

129 + 
PROJECTION_CH_NAME
 + ") values('")

130 .
­³nd
(
IÁeg”
.
toSŒšg
(
i
)).append("', '")

131 .
­³nd
(
äeq
).append("', '")

132 .
­³nd
(
IÁeg”
.
toSŒšg
(
i
)).append("');");

133 
	gLog
.
i
(
TAG
, "š£¹ f»q: " + 
myFÜm©
.
fÜm©
(
f
));

134 
	gLog
.
i
(
TAG
, "š£¹ f»q: " + 
bud”
.
toSŒšg
());

135 
	gdb
.
execSQL
(
bud”
.
toSŒšg
());

137 } 
ÿtch
 (
SQLExû±iÚ
 
e
) {

138 
	gLog
.
e
(
TAG
,ƒ.
toSŒšg
());

142 @
Ov”ride


143 
public
 
ÚUpg¿de
(
SQL™eD©aba£
 
db
, 
ŞdV”siÚ
, 
ÃwV”siÚ
) {

147 @
Ov”ride


148 
public
 
boŞ—n
 
	$ÚC»©e
() {

149 
mO³nH–³r
 = 
Ãw
 
	`D©aba£H–³r
(
	`g‘CÚ‹xt
());

150  
Œue
;

151 
	}
}

153 @
Ov”ride


154 
public
 
CursÜ
 
	$qu”y
(
Uri
 
uri
, 
SŒšg
[] 
´ojeùiÚ
, SŒšg 
£ËùiÚ
,

155 
SŒšg
[] 
£ËùiÚArgs
, SŒšg 
sÜtOrd”
) {

156 
SQL™eQu”yBud”
 
qb
 = 
Ãw
 
	`SQL™eQu”yBud”
();

157 
SQL™eD©aba£
 
db
 = 
mO³nH–³r
.
	`g‘R—dabËD©aba£
();

158 
CursÜ
 
c
;

159 
sUriM©ch”
.
	`m©ch
(
uri
)) {

160 
CHANNELS
:

161 
Log
.
	`d
(
TAG
, "£ˆchªÃÈbË: " + 
TABLE_CHANNELS
);

162 
qb
.
	`£tTabËs
(
TABLE_CHANNELS
);

164 
CHANNELS_ID
:

165 
Log
.
	`d
(
TAG
, "£ˆchªÃÈbË: " + 
TABLE_CHANNELS
);

166 
qb
.
	`£tTabËs
(
TABLE_CHANNELS
);

169 
LAST_STATUS
:

170 
Log
.
	`d
(
TAG
, "£ˆ§vbË: " + 
TABLE_LAST_STATUS
);

171 
qb
.
	`£tTabËs
(
TABLE_LAST_STATUS
);

173 
LAST_STATUS_ID
:

174 
Log
.
	`d
(
TAG
, "£ˆ§vbË: " + 
TABLE_LAST_STATUS
);

175 
qb
.
	`£tTabËs
(
TABLE_LAST_STATUS
);

179 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("UnknowÀURI " + 
uri
);

182 
c
 = 
qb
.
	`qu”y
(
db
, 
´ojeùiÚ
, 
£ËùiÚ
, 
£ËùiÚArgs
, 
nuÎ
,‚ull,‚ull);

186 ià(
c
 !ğ
nuÎ
) {

187 
c
.
	`£tNÙifiÿtiÚUri
(
	`g‘CÚ‹xt
().
	`g‘CÚ‹ÁResŞv”
(), 
uri
);

190  
c
;

191 
	}
}

193 @
Ov”ride


194 
public
 
SŒšg
 
	$g‘Ty³
(
Uri
 
uri
) {

195  
nuÎ
;

196 
	}
}

198 @
Ov”ride


199 
public
 
Uri
 
	$š£¹
(
Uri
 
uri
, 
CÚ‹ÁV®ues
 
š™ŸlV®ues
) {

200 
SŒšg
 
f›ld1
 = 
š™ŸlV®ues
.
	`g‘
(
PROJECTION_ID
).
	`toSŒšg
();

201 
SŒšg
 
f›ld2
 = 
š™ŸlV®ues
.
	`g‘
(
PROJECTION_CH_FREQ
).
	`toSŒšg
();

202 
SŒšg
 
f›ld3
 = 
š™ŸlV®ues
.
	`g‘
(
PROJECTION_CH_NAME
).
	`toSŒšg
();

204 
SQL™eD©aba£
 
db
 = 
mO³nH–³r
.
	`g‘Wr™abËD©aba£
();

205 ià(
f›ld1
 !ğ
nuÎ
 && 
f›ld2
 !ğnuÎ && 
f›ld3
 !=‚ull) {

206 
SŒšg
 
sql
 = "š£¹ iÁØ" + 
TABLE_CHANNELS
 + " (" + 
PROJECTION_ID


207 + ", " + 
PROJECTION_CH_FREQ
 + ", " + 
PROJECTION_CH_NAME
 + ") "

208 + "v®ues('" + 
f›ld1
 + "', '" + 
f›ld2
 + "','" + 
f›ld3
 + "');";

209 
Œy
 {

210 
db
.
	`execSQL
(
sql
);

211 } 
	`ÿtch
 (
SQLExû±iÚ
 
e
) {

212 
Log
.
	`e
(
TAG
, 
e
.
	`toSŒšg
());

215  
uri
;

216 
	}
}

218 @
Ov”ride


219 
public
 
	$d–‘e
(
Uri
 
uri
, 
SŒšg
 
wh”e
, SŒšg[] 
wh”eArgs
) {

220 
SQL™eD©aba£
 
db
 = 
mO³nH–³r
.
	`g‘Wr™abËD©aba£
();

221  
db
.
	`d–‘e
(
wh”e
, 
wh”eArgs
[0] + "='" + wh”eArgs[1] + "'", 
nuÎ
);

222 
	}
}

224 @
Ov”ride


225 
public
 
	$upd©e
(
Uri
 
uri
, 
CÚ‹ÁV®ues
 
v®ues
, 
SŒšg
 
wh”e
,

226 
SŒšg
[] 
wh”eArgs
) {

227 
SQL™eD©aba£
 
db
 = 
mO³nH–³r
.
	`g‘Wr™abËD©aba£
();

228 
couÁ
;

229 
sUriM©ch”
.
	`m©ch
(
uri
)) {

230 
CHANNELS
:

231 
couÁ
 = 
db
.
	`upd©e
(
TABLE_CHANNELS
, 
v®ues
, 
wh”e
, 
wh”eArgs
);

233 
CHANNELS_ID
:

234 
couÁ
 = 
db
.
	`upd©e
(
TABLE_CHANNELS
, 
v®ues
, 
wh”e
, 
wh”eArgs
);

236 
LAST_STATUS
:

237 
couÁ
 = 
db
.
	`upd©e
(
TABLE_LAST_STATUS
, 
v®ues
, 
wh”e
, 
wh”eArgs
);

239 
LAST_STATUS_ID
:

240 
couÁ
 = 
db
.
	`upd©e
(
TABLE_LAST_STATUS
, 
v®ues
, 
wh”e
, 
wh”eArgs
);

243 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("UnknowÀURI " + 
uri
);

245  
couÁ
;

246 
	}
}

	@src/com/pekall/fmradio/FMHorizontalScrollView.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gh¬dw¬e
.
	gS’sÜMªag”
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

22 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

23 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wCÚfigu¿tiÚ
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gHÜizÚlSüŞlV›w
;

30 
public
 cÏs 
	cFMHÜizÚlSüŞlV›w
 
ex‹nds
 
	mHÜizÚlSüŞlV›w
 {

31 
´iv©e
 
fš®
 
	mFLING_MSG
 = 0;

33 
´iv©e
 
OnSüŞlLi¡’”
 
	mmOnSüŞlLi¡’”
 = 
nuÎ
;

38 
public
 
š‹rçû
 
	mOnSüŞlLi¡’”
 {

39 
public
 
ÚAá”Flšg
();

45 
public
 
	$FMHÜizÚlSüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
) {

46 
	`su³r
(
cÚ‹xt
);

47 
	}
}

52 
public
 
	$FMHÜizÚlSüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

53 
	`su³r
(
cÚ‹xt
, 
©Œs
);

54 
	}
}

59 
public
 
	$FMHÜizÚlSüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
,

60 
defStyË
) {

61 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyË
);

62 
	}
}

64 
public
 
	$£tOnSüŞlLi¡’”
(
OnSüŞlLi¡’”
 
l
) {

65 
mOnSüŞlLi¡’”
 = 
l
;

66 
	}
}

68 @
Ov”ride


69 
public
 
	$æšg
(
v–oc™yX
) {

70 
fš®
 
deûË¿tiÚ
 = 
S’sÜMªag”
.
GRAVITY_EARTH


73 * (
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
 * 160.0f)

76 * 
V›wCÚfigu¿tiÚ
.
	`g‘SüŞlFriùiÚ
();

77 
fš®
 
du¿tiÚ
 = (è(1000 * (è
v–oc™yX
 / 
deûË¿tiÚ
);

79 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FLING_MSG
, 
M©h
.
	`abs
(
du¿tiÚ
));

80 
su³r
.
	`æšg
(
v–oc™yX
);

81 
	}
}

83 
´iv©e
 
fš®
 
HªdËr
 
	gmHªdËr
 = 
Ãw
 
	$HªdËr
() {

84 @
Ov”ride


85 
public
 
	`hªdËMes§ge
(
Mes§ge
 
msg
) {

86 
msg
.
wh©
) {

87 
FLING_MSG
:

88 ià(
mOnSüŞlLi¡’”
 !ğ
nuÎ
) {

89 
mOnSüŞlLi¡’”
.
	`ÚAá”Flšg
();

97 
	}
};

	@src/com/pekall/fmradio/FMRadio.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiÚB¬
;

20 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

21 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

22 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

23 
impÜt
 
	gªdroid
.
	g­p
.
	gProg»ssDŸlog
;

24 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gBrßdÿ¡Reûiv”
;

25 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

26 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

27 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

28 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

29 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’tF‹r
;

30 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gS”viûCÚÃùiÚ
;

31 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

32 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gCÚfigu¿tiÚ
;

33 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

34 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

35 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

36 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

37 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

38 
impÜt
 
	gªdroid
.
	gos
.
	gPow”Mªag”
;

39 
impÜt
 
	gªdroid
.
	gos
.
	gPow”Mªag”
.
	gWakeLock
;

40 
impÜt
 
	gªdroid
.
	gos
.
	gRemÙeExû±iÚ
;

41 
impÜt
 
	gªdroid
.
	gos
.
	gSy¡emClock
;

42 
impÜt
 
	gªdroid
.
	g´eã»nû
.
	gP»ã»nûMªag”
;

43 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

44 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

45 
impÜt
 
	gªdroid
.
	gv›w
.
	gCÚ‹xtM’u
;

46 
impÜt
 
	gªdroid
.
	gv›w
.
	gCÚ‹xtM’u
.
	gCÚ‹xtM’uInfo
;

47 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

48 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

49 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

50 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

51 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

52 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

53 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
.
	gOnClickLi¡’”
;

54 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
.
	gOnLÚgClickLi¡’”
;

55 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

56 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

57 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gG®Ëry
.
	gLayoutP¬ams
;

58 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageBu‰Ú
;

59 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageSw™ch”
;

60 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

61 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

62 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gS“kB¬
;

63 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

64 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

65 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gV›wSw™ch”
;

67 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMHÜizÚlSüŞlV›w
.
	gOnSüŞlLi¡’”
;

69 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

70 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

71 
impÜt
 
	gjava
.
	g‹xt
.
	gNumb”FÜm©
;

72 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

73 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

75 
public
 
şass
 
FMRadio
 
ex‹nds
 
Aùiv™y
 
im¶em’ts
 
	gV›w
.
	gOnClickLi¡’”
,

76 
	gV›w
.
	gOnLÚgClickLi¡’”
, 
	gS“kB¬
.
	gOnS“kB¬ChªgeLi¡’”
,

77 
	gV›w
.
	gOnTouchLi¡’”
, 
	gV›wSw™ch”
.
	gV›wFaùÜy
 {

79 
´iv©e
 
fš®
 
SŒšg
 
	gTAG
 = "FMRadio";

80 
	gæags
 = 0;

81 
´iv©e
 
	gSŒšg
[] 
	g™ems
 = {

84 
´iv©e
 
	gmRdsLoÿËId
 = 
RDSCÚŒŞËr
.
RDS_LOCALE_UTF8
;

87 @
Suµ»ssW¬nšgs
("unused")

88 
´iv©e
 
	gmRdsTy³
 = 
RDSCÚŒŞËr
.
RDS_TYPE_UNKNOWN
;

90 
´iv©e
 
	gby‹
[] 
	gmRdsBy‹s
 = 
nuÎ
;

92 
´iv©e
 
fš®
 
	gFREQUENCY_ADJUST_STEP
 = 100;

93 
public
 
fš®
 
	gLOW_FREQUENCY
 = 87500;

94 
public
 
fš®
 
	gHIGH_FREQUENCY
 = 108000;

95 
´iv©e
 
fš®
 
	gLIGHT_ON_TIME
 = 40000;

96 
´iv©e
 
fš®
 
	gLONG_PRESS_TUNE_TIMEOUT
 = 100;

97 
´iv©e
 
fš®
 
	gLONG_PRESS_SEEK_TIMEOUT
 = 2000;

99 
public
 
	gmCu¼’tF»q
 = 
LOW_FREQUENCY
;

100 
	gFmChªÃl
 = 1;

101 
´iv©e
 
	gmFœ¡CouÁ”
 = 0;

102 
´iv©e
 
	gmLa¡Pos™iÚ
 = 0;

103 
´iv©e
 
	gmS“kSaveCouÁ
 = 0;

104 
´iv©e
 
	gmLi¡V›wS–Pos
 = 0;

105 
´iv©e
 
TextV›w
 
	gchªÃl_num
 = 
nuÎ
;

106 
´iv©e
 
TextV›w
 
	gchªÃl_¡r
 = 
nuÎ
;

107 
´iv©e
 
boŞ—n
 
	gmIsFMRadioEÇbËd
 = 
çl£
;

108 
´iv©e
 
boŞ—n
 
	gmIsS“kAÎ
 = 
çl£
;

109 
´iv©e
 
boŞ—n
 
	gmIsSÿnCªûËd
 = 
çl£
;

111 
´iv©e
 
boŞ—n
 
	gmIsSÿÂedBefÜe
 = 
çl£
;

113 
´iv©e
 
boŞ—n
 
	gmIsLÚgP»s£d
 = 
çl£
;

115 
´iv©e
 
boŞ—n
 
	gmIsS“kbackw¬dLÚgP»s£d
 = 
çl£
;

117 
´iv©e
 
boŞ—n
 
	gmIsS“kfÜw¬dLÚgP»s£d
 = 
çl£
;

119 
´iv©e
 
boŞ—n
 
	gmIsSw™chOff
 = 
çl£
;

120 
´iv©e
 
	gmRssiTh»shŞd
 = 7;

122 
´iv©e
 
FMRecÜd”
 
	gmRecÜd”
;

124 
´iv©e
 
TextV›w
 
	gfm_chªÃl
;

126 
´iv©e
 
ImageBu‰Ú
 
	gmPÏyStİ
;

127 
´iv©e
 
ImageBu‰Ú
 
	gmSoundBu‰Ú
;

128 
´iv©e
 
ImageBu‰Ú
 
	gmAddBu‰Ú
;

129 
´iv©e
 
ImageBu‰Ú
 
	gmReduûBu‰Ú
;

131 
´iv©e
 
	gA¼ayLi¡
<
	gFMInfo
> 
	gmFMResuÉs
;

134 
´iv©e
 
M¬qu“Text
 
	gmInfoText
;

137 
´iv©e
 
Prog»ssDŸlog
 
	gmSÿÂšgDŸlog
;

138 
´iv©e
 
Prog»ssDŸlog
 
	gmLaunchšgDŸlog
;

139 
´iv©e
 
fš®
 
	gDIALOG_SCANNING_PROGRESS
 = 0;

140 
´iv©e
 
fš®
 
	gDIALOG_IF_SCAN_FIRST
 = 1;

141 
´iv©e
 
fš®
 
	gDIALOG_IF_SCAN_NEXT
 = 2;

142 
´iv©e
 
fš®
 
	gDIALOG_CONTEXT_REPLACE
 = 3;

143 
´iv©e
 
fš®
 
	gDIALOG_CONTEXT_CLEAR
 = 4;

144 
´iv©e
 
fš®
 
	gDIALOG_LAUNCHING_PROGRESS
 = 5;

145 
´iv©e
 
fš®
 
	gDIALOG_CONTEXT_ADD
 = 7;

148 
fš®
 
	gCLEAR_ID
 = 
M’u
.
FIRST
;

149 
fš®
 
	gEXIT_ID
 = 
M’u
.
FIRST
 + 1;

150 
fš®
 
	gSCAN_SAVE_ID
 = 
M’u
.
FIRST
 + 2;

151 
fš®
 
	gPLAY_MENU_ID
 = 
M’u
.
FIRST
 + 4;

152 
fš®
 
	gEDIT_MENU_ID
 = 
M’u
.
FIRST
 + 5;

153 
fš®
 
	gREPLACE_MENU_ID
 = 
M’u
.
FIRST
 + 6;

154 
fš®
 
	gCLEAR_MENU_ID
 = 
M’u
.
FIRST
 + 7;

155 
fš®
 
	gBY_LOUDSPEAKER_ID
 = 
M’u
.
FIRST
 + 8;

156 
fš®
 
	gBY_HEADSET_ID
 = 
M’u
.
FIRST
 + 9;

157 
fš®
 
	gRECODER_ID
 = 
M’u
.
FIRST
 + 10;

158 
fš®
 
	gRECORDSLIST_ID
 = 
M’u
.
FIRST
 + 11;

159 
fš®
 
	gSETCHANNEL_ID
 = 
M’u
.
FIRST
 + 15;

160 
fš®
 
	gRDS_CHARSET
 = 
M’u
.
FIRST
 + 16;

161 
fš®
 
	gADD_MENU_ID
 = 
M’u
.
FIRST
 + 17;

163 
´iv©e
 
Sh¬edP»ã»nûs
 
	gmP”ã»nûs
;

164 
´iv©e
 
fš®
 
	gSAVE_CODE
 = 0;

165 
´iv©e
 
fš®
 
	gEDIT_CODE
 = 1;

166 
´iv©e
 
fš®
 
	gCLEAR_CODE
 = 2;

168 
´iv©e
 
V›wGroup
 
	gmChªÃls
;

169 
´iv©e
 
FMHÜizÚlSüŞlV›w
 
	gmSüŞlv›w
;

170 
´iv©e
 
	gmSüŞlChªÃl
 = 0;

171 
´iv©e
 
	gmOnLÚgClickChªÃl
 = 0;

173 
	gCHANNLE_WIDTH
;

175 
´iv©e
 
Brßdÿ¡Reûiv”
 
	gmIÁ’tReûiv”
 = 
nuÎ
;

176 
´iv©e
 
WakeLock
 
	gmWakeLock
;

178 
´iv©e
 
F»qIndiÿtÜ
 
	gmF»qIndiÿtÜ
;

179 
´iv©e
 
TuÃrV›w
 
	gmTuÃrV›w
;

181 
´iv©e
 
IRemÙeS”viûC®lback
 
	gmC®lback
 = 
Ãw
 IRemÙeS”viûC®lback.
Stub
() {

182 
public
 
İ’FMRadioC®lBack
(
boŞ—n
 
»suÉ
) {

183 
Log
.
i
(
TAG
, "İ’FMRadioC®lBack: " + 
»suÉ
);

184 ià(
	g»suÉ
) {

185 
	gmHªdËr
.
£ndEm±yMes§ge
(
FM_OPEN_SUCCEED
);

187 
	gmHªdËr
.
£ndEm±yMes§ge
(
FM_OPEN_FAILED
);

191 
public
 
İ’FMRadioTxC®lBack
(
boŞ—n
 
»suÉ
) {

194 
public
 
£tF»qu’cyC®lback
(
boŞ—n
 
»suÉ
) {

195 
	gmHªdËr
.
£ndEm±yMes§ge
(
FM_SETFREQ_SUCCEED
);

198 
public
 
£ekStiÚC®lback
(
boŞ—n
 
»suÉ
, 
äequ’cy
) {

199 
	gLog
.
i
(
TAG
, "£ekStiÚC®lback: " + 
»suÉ
 + ", " + 
äequ’cy
);

200 ià(
	g»suÉ
) {

201 
	gmCu¼’tF»q
 = 
äequ’cy
;

202 
	gmHªdËr
.
£ndEm±yMes§ge
(
FM_SEEK_SUCCEED
);

204 
	gmHªdËr
.
£ndEm±yMes§ge
(
FM_SEEK_FAILED
);

209 
´iv©e
 
	gTuÃrV›w
.
OnMoveLi¡’”
 
	gmTuÃrV›wMoveLi¡’”
 = 
Ãw
 
TuÃrV›w
.OnMoveListener() {

210 
´iv©e
 
mS‹ps
 = 0;

211 
´iv©e
 
fš®
 
	gTUNE_STEP
 = 3;

213 
public
 
ÚMove
(
TuÃrV›w
 
tuÃrV›w
, 
¡•
) {

214 ià(
	gtuÃrV›w
.
isEÇbËd
(è&& 
	g¡•
 != 0) {

215 
Log
.
i
(
TAG
, "mau®lyuÃ, s‹p: " + 
¡•
);

216 
	gmS‹ps
 +ğ
¡•
;

217 ià(
	gmS‹ps
 >ğ
TUNE_STEP
) {

218 
Log
.
i
(
TAG
, "maually‡dd freq button clicked");

219 
	gmCu¼’tF»q
 +ğ
FREQUENCY_ADJUST_STEP
;

220 ià(
	gmCu¼’tF»q
 > 
	gHIGH_FREQUENCY
) {

221 
	gmCu¼’tF»q
 = 
LOW_FREQUENCY
;

224 
’abËUI
(
çl£
, 
Œue
);

225 
£tFMRadioF»q
();

226 
upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

227 
	gmS‹ps
 = 0;

228 } ià(
	gmS‹ps
 <ğ-
TUNE_STEP
) {

229 
Log
.
i
(
TAG
, "maually„educe freq button clicked");

230 
	gmCu¼’tF»q
 -ğ
FREQUENCY_ADJUST_STEP
;

231 ià(
	gmCu¼’tF»q
 < 
	gLOW_FREQUENCY
) {

232 
	gmCu¼’tF»q
 = 
HIGH_FREQUENCY
;

234 
’abËUI
(
çl£
, 
Œue
);

235 
£tFMRadioF»q
();

236 
upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

237 
	gmS‹ps
 = 0;

243 @
Ov”ride


244 
public
 
ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

245 
	gLog
.
i
(
TAG
, "onCreate() IN...");

246 
	gsu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

248 
	gŒy
 {

249 
	gmP”ã»nûs
 = 
P»ã»nûMªag”
.
g‘DeçuÉSh¬edP»ã»nûs
(
this
);

250 
	gFmChªÃl
 = 
mP”ã»nûs
.
g‘IÁ
("counter", 1);

251 
	gmRdsLoÿËId
 = 
mP”ã»nûs
.
g‘IÁ
("rdsLocaleId",

252 
RDSCÚŒŞËr
.
RDS_LOCALE_UTF8
);

253 } 
ÿtch
 (
Exû±iÚ
 
e1
) {

254 
	gFmChªÃl
 = 1;

255 
	gmRdsLoÿËId
 = 
RDSCÚŒŞËr
.
RDS_LOCALE_UTF8
;

256 
	ge1
.
´štSckT¿û
();

259 
	gCHANNLE_WIDTH
 = 1;

260 
g‘LayoutInæ©”
().
šæ©e
(
R
.
Ïyout
.
aùiÚ_b¬_di¥Ïy_İtiÚs_cu¡om
,

261 
nuÎ
);

263 
g‘Wšdow
().
»que¡F—tu»
(
Wšdow
.
FEATURE_ACTION_BAR
);

264 
£tCÚ‹ÁV›w
(
R
.
Ïyout
.
maš
);

266 
fš®
 
AùiÚB¬
 
	gb¬
 = 
g‘AùiÚB¬
();

267 
	gæags
 = 
AùiÚB¬
.
DISPLAY_SHOW_HOME
;

268 
	gchªge
 = 
b¬
.
g‘Di¥ÏyO±iÚs
(è^ 
æags
;

269 
	gb¬
.
£tDi¥ÏyO±iÚs
(
chªge
, 
æags
);

271 
IÁ’t
 
	g¡¬tFm
 = 
Ãw
 IÁ’t(
INTENT_START_FM
);

272 
£ndBrßdÿ¡
(
¡¬tFm
);

274 
»¡ÜeLa¡Stus
();

277 
š™MašV›w
();

280 
Pow”Mªag”
 
	gpm
 = (Pow”Mªag”è
g‘Sy¡emS”viû
(
CÚ‹xt
.
POWER_SERVICE
);

281 
	gmWakeLock
 = 
pm
.
ÃwWakeLock
(
Pow”Mªag”
.
SCREEN_DIM_WAKE_LOCK
, 
this


282 .
g‘CÏss
().
g‘Name
());

283 
	gmWakeLock
.
£tReã»nûCouÁed
(
çl£
);

286 
bšdToS”viû
();

289 
»gi¡”Brßdÿ¡Li¡’”
();

291 
	gmRecÜd”
 = 
Ãw
 
FMRecÜd”
(
this
);

294 
boŞ—n
 
checkFMF»q
(
äeq
) {

295  (
	gäeq
 !ğ-1 && 
äeq
 >ğ
LOW_FREQUENCY
 && f»q <ğ
HIGH_FREQUENCY
);

298 
´iv©e
 
š™MašV›w
() {

299 
	gLog
.
i
(
TAG
, "initMainView() IN...");

301 
	gmTuÃrV›w
 = (
TuÃrV›w
è
fšdV›wById
(
R
.
id
.
fm_tuÃr_v›w
);

302 
	gmTuÃrV›w
.
£tOnMoveLi¡’”
(
mTuÃrV›wMoveLi¡’”
);

304 
	gmAddBu‰Ú
 = (
ImageBu‰Ú
è
fšdV›wById
(
R
.
id
.
bŠ_fmšü—£
);

305 
	gmAddBu‰Ú
.
£tOnClickLi¡’”
(
this
);

307 
	gmReduûBu‰Ú
 = (
ImageBu‰Ú
è
fšdV›wById
(
R
.
id
.
bŠ_fmdeü—£
);

308 
	gmReduûBu‰Ú
.
£tOnClickLi¡’”
(
this
);

310 
	gmChªÃls
 = (
Lš—rLayout
è
fšdV›wById
(
R
.
id
.
chªÃls
);

311 
	gmChªÃls
.
£tOnTouchLi¡’”
(
this
);

312 
	gmSüŞlv›w
 = (
FMHÜizÚlSüŞlV›w
è
fšdV›wById
(
R
.
id
.
süŞlv›w
);

313 
	gmSüŞlv›w
.
£tOnTouchLi¡’”
(
this
);

314 
	gmSüŞlv›w
.
£tSüŞlb¬FadšgEÇbËd
(
Œue
);

315 
	gmSüŞlv›w
.
£tOnSüŞlLi¡’”
(
Ãw
 
OnSüŞlLi¡’”
() {

316 
public
 
ÚAá”Flšg
() {

317 
cu¼’tChªÃl
();

321 
	gfm_chªÃl
 = (
TextV›w
è
this
.
fšdV›wById
(
R
.
id
.
fm_chªÃl
);

322 
	gtF»qNum
 = (è
mCu¼’tF»q
 / 1000.0f;

323 
	gfm_chªÃl
.
£tText
(
SŒšg
.
v®ueOf
(
tF»qNum
));

324 
	gfm_chªÃl
.
£tTy³çû
(
Ty³çû
.
SERIF
, Ty³çû.
BOLD
);

326 
š™S“kB¬
();

327 
š™ChªÃlLi¡
();

328 
š™CŒlBu‰Ú
();

330 
’abËUI
(
çl£
, false);

332 
	gmInfoText
 = (
M¬qu“Text
è
fšdV›wById
(
R
.
id
.
šfo_‹xt
);

333 
	gLog
.
i
(
TAG
, "leave initMainView()");

336 @
Ov”ride


337 
´Ùeùed
 
ÚS¹
() {

338 
	gLog
.
i
(
TAG
, "onStart() IN...");

339 
	gsu³r
.
ÚS¹
();

340 ià(
g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_ON
) {

341 
mHªdËr
.
£ndEm±yMes§ge
(
START_FMRADIO
);

343 
upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

346 
´iv©e
 
upd©eT¿ckInfo
() {

347 
	gŒy
 {

348 ià(
	gmFMS”viû
 !ğ
nuÎ
) {

349 
äeq
 = 
mFMS”viû
.
g‘FMF»q
();

350 ià(
checkFMF»q
(
äeq
)) {

351 
	gLog
.
i
(
TAG
, "upd©eT¿ckInfo(): f»q = " + 
äeq
);

352 
	gmCu¼’tF»q
 = 
äeq
;

355 
	gmIsFMRadioEÇbËd
 = (
mFMS”viû
.
g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_ON
);

357 } 
ÿtch
 (
RemÙeExû±iÚ
 
e
) {

358 
	ge
.
´štSckT¿û
();

362 @
Ov”ride


363 
´Ùeùed
 
ÚResume
() {

364 
	gLog
.
i
(
TAG
, "onResume() IN...");

365 
	gsu³r
.
ÚResume
();

367 
upd©eT¿ckInfo
();

368 
upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

369 
upd©eSw™hcBu‰Ú
();

372 
’abËRds
();

375 @
Ov”ride


376 
´Ùeùed
 
ÚPau£
() {

377 
	gLog
.
i
(
TAG
, "onPause() IN...");

378 
	gsu³r
.
ÚPau£
();

380 
	gmWakeLock
.
»Ëa£
();

381 
	gCÚ‹ÁH–³r
.
§veCÚfig
(
this
, 
mLa¡Pos™iÚ
, 
mCu¼’tF»q
,

382 
mIsSÿÂedBefÜe
, 
mRssiTh»shŞd
);

385 
di§bËRds
();

388 @
Ov”ride


389 
´Ùeùed
 
ÚDe¡roy
() {

390 
	gLog
.
i
(
TAG
, "onDestroy() IN...");

391 
	gsu³r
.
ÚDe¡roy
();

393 ià(
	gmRecÜd”
.
isRecÜdšg
()) {

394 
	gmRecÜd”
.
’dRecÜd
();

396 
	gmRecÜd”
 = 
nuÎ
;

398 
	gmFMS”viû
 = 
nuÎ
;

399 
uÄegi¡”Reûiv”
(
mIÁ’tReûiv”
);

400 
unbšdFMRadioS”viû
();

403 @
Ov”ride


404 
public
 
ÚCÚfigu¿tiÚChªged
(
CÚfigu¿tiÚ
 
ÃwCÚfig
) {

405 
	gsu³r
.
ÚCÚfigu¿tiÚChªged
(
ÃwCÚfig
);

406 
	gLog
.
i
(
TAG
, "onConfigurationChanged() called");

407 
£tCÚ‹ÁV›w
(
R
.
Ïyout
.
maš
);

408 
š™MašV›w
();

410 
boŞ—n
 
	gmu‹
 = 
çl£
;

411 
	gŒy
 {

412 
	gmu‹
 = 
mFMS”viû
.
isMu‹FM
();

413 } 
ÿtch
 (
Exû±iÚ
 
e
) {

414 
	ge
.
´štSckT¿û
();

416 
£tMu‹Ui
(
mu‹
);

418 
upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

419 ià(
	gmIsLÚgP»s£d
 || 
	gmIsS“kbackw¬dLÚgP»s£d


420 || 
	gmIsS“kfÜw¬dLÚgP»s£d
) {

421 
£tFMRadioF»q
();

422 
	gmIsLÚgP»s£d
 = 
çl£
;

423 
	gmIsS“kbackw¬dLÚgP»s£d
 = 
çl£
;

424 
	gmIsS“kfÜw¬dLÚgP»s£d
 = 
çl£
;

426 
	gCHANNLE_WIDTH
 = 0;

427 
’abËUI
(
Œue
,rue);

428 
	gmRecÜd”
.
upd©eRecÜdUI
();

429 
upd©eSw™hcBu‰Ú
();

432 
´iv©e
 
upd©eSw™hcBu‰Ú
() {

433 
	gmPÏyStİ
.
£tBackgroundResourû
(
mIsFMRadioEÇbËd
 ? 
R
.
d¿wabË
.
bŠ_¡İ


434 : 
R
.
d¿wabË
.
bŠ_¶ay
);

437 şas 
	cUiStus
 {

438 
	gmLa¡Pos™iÚ
;

439 
	gmCu¼’tF»q
;

440 
boŞ—n
 
	gmIsSÿÂedBefÜe
;

442 
UiStus
() {

443 
	gmLa¡Pos™iÚ
 = 0;

444 
	gmCu¼’tF»q
 = 
LOW_FREQUENCY
;

445 
	gmIsSÿÂedBefÜe
 = 
çl£
;

449 
´iv©e
 
	$»¡ÜeLa¡Stus
() {

450 
UiStus
 
¡©us
 = 
Ãw
 
	`UiStus
();

451 
CÚ‹ÁH–³r
.
	`lßdCÚfig
(
this
, 
¡©us
);

452 
mLa¡Pos™iÚ
 = 
¡©us
.mLastPosition;

453 
mCu¼’tF»q
 = 
¡©us
.mCurrentFreq;

454 
mIsSÿÂedBefÜe
 = 
¡©us
.mIsScannedBefore;

455 
	}
}

457 
´iv©e
 
	$š™S“kB¬
() {

458 
mF»qIndiÿtÜ
 = (
F»qIndiÿtÜ
è
	`fšdV›wById
(
R
.
id
.
äeq_šdiÿtÜ_v›w
);

459 
mF»qIndiÿtÜ
.
	`£tOnS“kB¬ChªgeLi¡’”
(
this
);

460 
	}
}

462 
´iv©e
 
	$š™ChªÃlLi¡
() {

465 
	`upd©eLi¡V›w
();

466 
	}
}

468 
´iv©e
 
	$š™CŒlBu‰Ú
() {

469 
mPÏyStİ
 = (
ImageBu‰Ú
è
	`fšdV›wById
(
R
.
id
.
bŠ_sw™ch
);

470 ià(
mPÏyStİ
 !ğ
nuÎ
) {

471 
mPÏyStİ
.
	`£tOnClickLi¡’”
(
this
);

472 
mPÏyStİ
.
	`£tOnTouchLi¡’”
(
this
);

475 
mSoundBu‰Ú
 = (
ImageBu‰Ú
è
	`fšdV›wById
(
R
.
id
.
bŠ_¥—k”
);

476 ià(
mSoundBu‰Ú
 !ğ
nuÎ
) {

477 
mSoundBu‰Ú
.
	`£tOnClickLi¡’”
(
this
);

478 
mSoundBu‰Ú
.
	`£tOnTouchLi¡’”
(
this
);

480 
	}
}

482 
´iv©e
 
	$upd©eDi¥ÏyPª–
(
cu¼’tF»q
) {

483 
Log
.
	`i
(
TAG
, "enter updateDisplayPanel()");

486 
	`£tS“kB¬Prog»ss
(
cu¼’tF»q
);

489 
	`upd©eF»qu’cyDi¥Ïy
(
cu¼’tF»q
);

490 
Log
.
	`i
(
TAG
, "leave updateDisplayPanel()");

491 
	}
}

493 
´iv©e
 
	$upd©eLi¡V›w
() {

494 
Log
.
	`i
(
TAG
, "enter updateListView()");

497 
mFMResuÉs
 = 
Ãw
 
A¼ayLi¡
<
FMInfo
>();

498 
CÚ‹ÁH–³r
.
	`g‘ChªÃlLi¡
(
this
, 
mFMResuÉs
);

500 
	`»£tChªÃls
();

501 
Log
.
	`i
(
TAG
, "leave updateListView()");

502 
	}
}

504 
´iv©e
 
ImageV›w
 
	gmP»PÏyNow
;

505 
´iv©e
 
V›wGroup
 
	gŞdmChªÃlLayout
;

507 
´iv©e
 
	$»£tChªÃls
() {

508 
mChªÃls
.
	`»moveAÎV›ws
();

509 
i
 = 0; i < 
mFMResuÉs
.
	`size
(); i++) {

510 
fš®
 
FMInfo
 
šfo
 = 
mFMResuÉs
.
	`g‘
(
i
);

512 
LayoutInæ©”
 
šæ©”
 = LayoutInæ©”.
	`äom
(
this
);

513 
fš®
 
V›wGroup
 
mChªÃlLayout
 = (V›wGroupè
šæ©”
.
	`šæ©e
(

514 
R
.
Ïyout
.
chªÃl
, 
nuÎ
);

516 
mChªÃlLayout
.
	`£tId
(
šfo
.
mId
);

518 
fš®
 
ImageV›w
 
mPÏy_now
 = (ImageV›wè
mChªÃlLayout


519 .
	`fšdV›wById
(
R
.
id
.
¶ay_now
);

521 
TextV›w
 
mChªÃl
 = (TextV›wè
mChªÃlLayout


522 .
	`fšdV›wById
(
R
.
id
.
chªÃl_num
);

523 
fš®
 
SŒšg
 
mF»q
 = 
šfo
.mFreq;

524 ià(!
TextUts
.
	`isEm±y
(
mF»q
)) {

525 
Decim®FÜm©
 
fÜm©
 = (Decim®FÜm©è
Numb”FÜm©


526 .
	`g‘In¡ªû
(
LoÿË
.
ENGLISH
);

527 
fÜm©
.
	`­¶yP©‹º
("0.0");

528 
Numb”
 
numb”
;

529 
Œy
 {

530 
numb”
 = 
fÜm©
.
	`·r£
(
mF»q
);

531 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

532 
Log
.
	`e
(
TAG
, "frequecy…arseƒrror");

533 
	`fšish
();

536 
mChªÃl
.
	`£tText
(
SŒšg
.
	`v®ueOf
(
numb”
.
	`æßtV®ue
()));

537 
couÁ”
 = (è(
numb”
.
	`æßtV®ue
() * 1000);

538 ià(
couÁ”
 =ğ
mCu¼’tF»q
) {

539 ià(
mP»PÏyNow
 !ğ
nuÎ
) {

540 
mP»PÏyNow
.
	`£tVisib™y
(
ImageV›w
.
INVISIBLE
);

541 ià(
ŞdmChªÃlLayout
 !ğ
nuÎ
) {

542 
chªÃl_num
 = 
mChªÃl
;

543 
chªÃl_¡r
 = (
TextV›w
è
ŞdmChªÃlLayout


544 .
	`fšdV›wById
(
R
.
id
.
chªÃl_¡r
);

545 
chªÃl_num
.
	`£tTextCŞÜ
(
CŞÜ


546 .
	`rgb
(0x00, 0xbd, 0xfd));

547 
chªÃl_¡r
.
	`£tTextCŞÜ
(
CŞÜ


548 .
	`rgb
(0x00, 0xbd, 0xfd));

551 
mPÏy_now
.
	`£tVisib™y
(
ImageV›w
.
VISIBLE
);

552 
mP»PÏyNow
 = 
mPÏy_now
;

553 
ŞdmChªÃlLayout
 = 
mChªÃlLayout
;

554 ià(
mChªÃlLayout
 !ğ
nuÎ
) {

555 
chªÃl_num
 = 
mChªÃl
;

556 
chªÃl_¡r
 = (
TextV›w
è
mChªÃlLayout


557 .
	`fšdV›wById
(
R
.
id
.
chªÃl_¡r
);

558 
chªÃl_num
.
	`£tTextCŞÜ
(
CŞÜ
.
	`rgb
(0x2e, 0x2e, 0x2e));

559 
chªÃl_¡r
.
	`£tTextCŞÜ
(
CŞÜ
.
	`rgb
(0x2e, 0x2e, 0x2e));

563 
mChªÃlLayout
.
	`£tOnClickLi¡’”
(
Ãw
 
	`OnClickLi¡’”
() {

565 
public
 
	`ÚClick
(
V›w
 
v
) {

566 ià(!
TextUts
.
	`isEm±y
(
mF»q
)) {

567 
mCu¼’tF»q
 = (è(
Flßt
.
	`·r£Flßt
(
mF»q
) * 1000);

568 
	`£tFMRadioF»q
();

569 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

570 ià(
mP»PÏyNow
 !ğ
nuÎ
) {

571 
mP»PÏyNow
.
	`£tVisib™y
(
ImageV›w
.
INVISIBLE
);

572 ià(
ŞdmChªÃlLayout
 !ğ
nuÎ
) {

573 
chªÃl_num
 = (
TextV›w
è
ŞdmChªÃlLayout


574 .
	`fšdV›wById
(
R
.
id
.
chªÃl_num
);

575 
chªÃl_¡r
 = (
TextV›w
è
ŞdmChªÃlLayout


576 .
	`fšdV›wById
(
R
.
id
.
chªÃl_¡r
);

577 
chªÃl_num
.
	`£tTextCŞÜ
(
CŞÜ
.
	`rgb
(0x2e, 0x2e,

579 
chªÃl_¡r
.
	`£tTextCŞÜ
(
CŞÜ
.
	`rgb
(0x2e, 0x2e,

583 
mPÏy_now
.
	`£tVisib™y
(
ImageV›w
.
VISIBLE
);

584 
mP»PÏyNow
 = 
mPÏy_now
;

585 
ŞdmChªÃlLayout
 = 
mChªÃlLayout
;

586 ià(
mChªÃlLayout
 !ğ
nuÎ
) {

587 
chªÃl_num
 = (
TextV›w
è
mChªÃlLayout


588 .
	`fšdV›wById
(
R
.
id
.
chªÃl_num
);

589 
chªÃl_¡r
 = (
TextV›w
è
mChªÃlLayout


590 .
	`fšdV›wById
(
R
.
id
.
chªÃl_¡r
);

591 
chªÃl_num
.
	`£tTextCŞÜ
(
CŞÜ


592 .
	`rgb
(0x00, 0xbd, 0xfd));

593 
chªÃl_¡r
.
	`£tTextCŞÜ
(
CŞÜ


594 .
	`rgb
(0x00, 0xbd, 0xfd));

599 
mChªÃlLayout
.
	`£tOnLÚgClickLi¡’”
(
Ãw
 
	`OnLÚgClickLi¡’”
() {

601 
public
 
boŞ—n
 
	`ÚLÚgClick
(
V›w
 
v
) {

602 
mOnLÚgClickChªÃl
 = 
v
.
	`g‘Id
();

603  
çl£
;

606 
	`»gi¡”FÜCÚ‹xtM’u
(
mChªÃlLayout
);

607 
mChªÃls
.
	`addV›w
(
mChªÃlLayout
, 
i
);

609 
	}
}

611 
public
 
V›w
 
	$makeV›w
() {

612 
ImageV›w
 
i
 = 
Ãw
 
	`ImageV›w
(
this
);

613 
i
.
	`£tSÿËTy³
(
ImageV›w
.
SÿËTy³
.
CENTER_INSIDE
);

614 
i
.
	`£tLayoutP¬ams
(
Ãw
 
ImageSw™ch”
.
	`LayoutP¬ams
(

615 
LayoutP¬ams
.
MATCH_PARENT
, LayoutParams.MATCH_PARENT));

616  
i
;

617 
	}
}

619 
´iv©e
 
	$’abËUI
(
boŞ—n
 
’abËd
, boŞ—À
’abËSw™chBŠ
) {

620 
mAddBu‰Ú
.
	`£tEÇbËd
(
’abËd
);

621 
mReduûBu‰Ú
.
	`£tEÇbËd
(
’abËd
);

622 
	}
}

624 
´iv©e
 
	$£tS“kB¬Prog»ss
(
cu¼’tF»q
) {

625 ià(
mIsSw™chOff
) {

626 
mF»qIndiÿtÜ
.
	`£tVisib™y
(
V›w
.
INVISIBLE
);

629 
mF»qIndiÿtÜ
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

630 
mF»qIndiÿtÜ
.
	`£tProg»ss
(
cu¼’tF»q
 - 
LOW_FREQUENCY
);

631 
	}
}

633 
public
 
	$ÚProg»ssChªged
(
S“kB¬
 
£ekB¬
, 
´og»ss
,

634 
boŞ—n
 
äomTouch
) {

635 ià(
äomTouch
) {

636 ià(
£ekB¬
 =ğ
mF»qIndiÿtÜ
) {

637 
mCu¼’tF»q
 = 
´og»ss
 + 
LOW_FREQUENCY
;

638 
	`£tFMRadioF»q
();

639 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

642 
	}
}

644 
public
 
	$ÚS¹T¿ckšgTouch
(
S“kB¬
 
£ekB¬
) {

645 
	}
}

647 
public
 
	$ÚStİT¿ckšgTouch
(
S“kB¬
 
£ekB¬
) {

648 
	}
}

650 
´iv©e
 
	$upd©eF»qu’cyDi¥Ïy
(
cu¼’tF»q
) {

651 ià(
mIsSw™chOff
) {

654 ià(
cu¼’tF»q
 < 
LOW_FREQUENCY
) {

655 
cu¼’tF»q
 = 
LOW_FREQUENCY
;

656 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

657 
	`£tFMRadioF»q
();

658 
	`£tS“kB¬Prog»ss
(
cu¼’tF»q
);

660 ià(
cu¼’tF»q
 > 
HIGH_FREQUENCY
) {

661 
cu¼’tF»q
 = 
HIGH_FREQUENCY
;

662 
mCu¼’tF»q
 = 
HIGH_FREQUENCY
;

663 
	`£tFMRadioF»q
();

664 
	`£tS“kB¬Prog»ss
(
cu¼’tF»q
);

666 
Decim®FÜm©
 
df
 = (Decim®FÜm©è
Numb”FÜm©


667 .
	`g‘In¡ªû
(
LoÿË
.
ENGLISH
);

668 
df
.
	`­¶yP©‹º
("0.0");

669 
mF»qNum
 = (è
cu¼’tF»q
 / 1000.0f;

670 
fm_chªÃl
.
	`£tText
(
SŒšg
.
	`v®ueOf
(
df
.
	`fÜm©
(
mF»qNum
)));

671 
fm_chªÃl
.
	`£tTy³çû
(
Ty³çû
.
SERIF
, Ty³çû.
BOLD
);

673 
Log
.
	`i
(
TAG
, "’‹¸upd©eF»qu’cyDi¥Ïy(): cu¼’tF»q " + 
mF»qNum
);

674 
CÚ‹ÁH–³r
.
	`§veCÚfig
(
this
, 
mLa¡Pos™iÚ
, 
mCu¼’tF»q
,

675 
mIsSÿÂedBefÜe
, 
mRssiTh»shŞd
);

676 
	}
}

678 
public
 cÏs 
	cFMInfo
 {

679 
´iv©e
 
	gmId
;

680 
´iv©e
 
SŒšg
 
	gmF»q
;

682 
public
 
FMInfo
() {

685 
public
 
FMInfo
(
id
, 
SŒšg
 
äeq
, SŒšg 
Çme
) {

686 
	gmId
 = 
id
;

687 
	gmF»q
 = 
äeq
;

691 
FMInfo
 
	$ü—‹FmInfo
(
id
, 
SŒšg
 
äeq
, SŒšg 
Çme
) {

692  
Ãw
 
	`FMInfo
(
id
, 
äeq
, 
Çme
);

693 
	}
}

695 
´iv©e
 
boŞ—n
 
	$hasFMChªÃl
(
chªÃl
) {

696 ià(
mFMResuÉs
 =ğ
nuÎ
)

697  
çl£
;

699 
i
 = 0; i < 
mFMResuÉs
.
	`size
(); i++) {

700 
FMInfo
 
šfo
 = 
mFMResuÉs
.
	`g‘
(
i
);

701 ià(
šfo
.
mId
 =ğ
chªÃl
) {

702  !
TextUts
.
	`isEm±y
(
šfo
.
mF»q
);

705  
çl£
;

706 
	}
}

710 
´iv©e
 
boŞ—n
 
	$hasFMChªÃl
() {

711 
boŞ—n
 
hasChªÃl
 = 
çl£
;

712 ià(
mFMResuÉs
 !ğ
nuÎ
) {

713 
i
 = 0; i < 
mFMResuÉs
.
	`size
(); i++) {

714 
FMInfo
 
šfo
 = 
mFMResuÉs
.
	`g‘
(
i
);

715 ià(
šfo
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(šfo.
mF»q
)) {

716 
hasChªÃl
 = 
Œue
;

721 
Log
.
	`d
(
TAG
, "hasChªÃÈi " + 
hasChªÃl
);

722  
hasChªÃl
;

723 
	}
}

725 
´iv©e
 
	$showTß¡
(
SŒšg
 
v®ue
, 
timeL’gth
) {

726 
Tß¡
 
ts
 = 
nuÎ
;

727 ià(
timeL’gth
 =ğ
Tß¡
.
LENGTH_SHORT
) {

728 
ts
 = 
Tß¡
.
	`makeText
(
FMRadio
.
this
, 
v®ue
, Tß¡.
LENGTH_SHORT
);

730 
ts
 = 
Tß¡
.
	`makeText
(
FMRadio
.
this
, 
v®ue
, Tß¡.
LENGTH_LONG
);

732 
ts
.
	`show
();

733 
	}
}

735 
public
 
boŞ—n
 
	$ÚKeyUp
(
keyCode
, 
KeyEv’t
 
ev’t
) {

736 
keyCode
) {

737 
KeyEv’t
.
KEYCODE_BACK
:

739 
	`moveTaskToBack
(
Œue
);

740  
Œue
;

743  
su³r
.
	`ÚKeyUp
(
keyCode
, 
ev’t
);

745 
	}
}

747 
public
 
	$ÚClick
(
V›w
 
¬g0
) {

748 
Log
.
	`i
(
TAG
, "onClick() called");

750 
¬g0
.
	`g‘Id
()) {

751 
R
.
id
.
Ëá
:

752 
	`´eChªÃl
();

754 
R
.
id
.
right
:

755 
	`ÃxtChªÃl
();

757 
R
.
id
.
bŠ_sw™ch
:

758 ià(!
Ut
.
	`suµÜtIÁ”ÇlAÁ’Ç
(
FMRadio
.
this
)

759 && !
Ut
.
	`isWœedH—d£tOn
()) {

760 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_no_h—d£t_š_li¡’
),

761 
Tß¡
.
LENGTH_SHORT
);

764 ià(
mRecÜd”
.
	`isRecÜdšg
()) {

765 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_»cÜd_bŠ_sw™ch
),

766 
Tß¡
.
LENGTH_SHORT
);

767 } ià(
	`g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_TX_INIT


768 || 
	`g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_TX_ON
) {

769 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_şo£_tx
),

770 
Tß¡
.
LENGTH_LONG
);

772 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_TOGGLE_STATE
);

775 
R
.
id
.
bŠ_¥—k”
:

776 ià(
	`g‘FMS”viûStus
(è!ğ
FMRadioS”viû
.
FM_SERVICE_ON
) {

777 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_nÙ_Ïunch
),

778 
Tß¡
.
LENGTH_SHORT
);

782 
Œy
 {

783 
mFMS”viû
.
	`£tMu‹
(!mFMS”viû.
	`isMu‹FM
() ? 0 : 1);

784 
	`£tMu‹Ui
(
mFMS”viû
.
	`isMu‹FM
());

785 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

786 
e
.
	`´štSckT¿û
();

790 
R
.
id
.
bŠ_fmdeü—£
:

791 
Log
.
	`i
(
TAG
, "auto seek_down freq button clicked");

792 ià(
LOW_FREQUENCY
 =ğ
mCu¼’tF»q
) {

793 
Log
.
	`i
(
TAG
, "current frequency ishe†owest 87.5 mhz");

794 
mCu¼’tF»q
 = 
HIGH_FREQUENCY
;

795 
	`£tFMRadioF»q
();

797 
mIsS“kAÎ
 = 
çl£
;

798 
	`’abËUI
(
çl£
, 
Œue
);

800 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_BACKWARD
);

802 
R
.
id
.
bŠ_fmšü—£
:

803 
Log
.
	`i
(
TAG
, "auto seek_up freq button clicked");

804 
mIsS“kAÎ
 = 
çl£
;

805 
	`’abËUI
(
çl£
, 
Œue
);

807 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

812 
	}
}

814 
´iv©e
 
	$chªgeF»qByS‹p
(
boŞ—n
 
æag
) {

815 ià(
æag
) {

816 
mCu¼’tF»q
 +ğ
FREQUENCY_ADJUST_STEP
;

817 ià(
mCu¼’tF»q
 > 
HIGH_FREQUENCY
) {

818 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

820 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

821 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_FREQUENCY_ADD
,

822 
LONG_PRESS_TUNE_TIMEOUT
);

824 
mCu¼’tF»q
 -ğ
FREQUENCY_ADJUST_STEP
;

825 ià(
mCu¼’tF»q
 < 
LOW_FREQUENCY
) {

826 
mCu¼’tF»q
 = 
HIGH_FREQUENCY
;

828 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

829 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_FREQUENCY_REDUCE
,

830 
LONG_PRESS_TUNE_TIMEOUT
);

832 
	}
}

834 
´iv©e
 
	$£tMu‹Ui
(
boŞ—n
 
mu‹
) {

835 ià(
mu‹
) {

836 
mSoundBu‰Ú
.
	`£tImageResourû
(
R
.
d¿wabË
.
bu‰Ú_loud¥—k”_off
);

838 
mSoundBu‰Ú
.
	`£tImageResourû
(
R
.
d¿wabË
.
bu‰Ú_loud¥—k”_Ú
);

840 
	}
}

842 
public
 
boŞ—n
 
	$ÚLÚgClick
(
V›w
 
v
) {

843 
Log
.
	`i
(
TAG
, "onLongClick() called");

844 
v
.
	`g‘Id
()) {

845 
R
.
id
.
bŠ_fmdeü—£
:

846 
Log
.
	`i
(
TAG
, "auto seek_down freq button clicked");

847 ià(
LOW_FREQUENCY
 =ğ
mCu¼’tF»q
) {

848 
Log
.
	`i
(
TAG
, "current frequency ishe†owest 87.5 mhz");

849 
mCu¼’tF»q
 = 
HIGH_FREQUENCY
;

850 
	`£tFMRadioF»q
();

852 
mIsS“kAÎ
 = 
çl£
;

853 
	`’abËUI
(
çl£
, 
Œue
);

855 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_BACKWARD
);

856  
Œue
;

857 
R
.
id
.
bŠ_fmšü—£
:

858 
Log
.
	`i
(
TAG
, "auto seek_up freq button clicked");

859 
mIsS“kAÎ
 = 
çl£
;

860 
	`’abËUI
(
çl£
, 
Œue
);

862 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

864  
Œue
;

866  
çl£
;

867 
	}
}

869 
public
 
boŞ—n
 
	$ÚTouch
(
V›w
 
v
, 
MÙiÚEv’t
 
ev’t
) {

870 ià(
ev’t
.
	`g‘AùiÚ
(è=ğ
MÙiÚEv’t
.
ACTION_UP
) {

871 
Log
.
	`i
(
TAG
, "onTouch() :ƒvent is MotionEvent.ACTION_UP");

872 ià((
mIsS“kbackw¬dLÚgP»s£d
)

873 && (
v
.
	`g‘Id
(è=ğ
R
.
id
.
bŠ_fmdeü—£
)) {

874 
Log
.
	`i
(
TAG
, "onTouch(); Release button frequency seekbackward");

875 
mIsS“kbackw¬dLÚgP»s£d
 = 
çl£
;

876 } ià((
mIsS“kfÜw¬dLÚgP»s£d
)

877 && (
v
.
	`g‘Id
(è=ğ
R
.
id
.
bŠ_fmšü—£
)) {

878 
Log
.
	`i
(
TAG
, "onTouch(); Release button frequency seekforward");

879 
mIsS“kfÜw¬dLÚgP»s£d
 = 
çl£
;

881 
	`cu¼’tChªÃl
();

884  
çl£
;

885 
	}
}

887 
´iv©e
 
	$cu¼’tChªÃl
() {

888 
cu¼’tx
 = 
mSüŞlv›w
.
	`g‘SüŞlX
();

889 
mSüŞlChªÃl
 = (è
	`round
((è
cu¼’tx
 / 
CHANNLE_WIDTH
, 0,

890 
BigDecim®
.
ROUND_HALF_DOWN
);

891 
»®x
 = 
mSüŞlChªÃl
 * 
CHANNLE_WIDTH
;

892 
mSüŞlv›w
.
	`süŞlTo
(
»®x
, 0);

893 
	}
}

895 
´iv©e
 
	$ÃxtChªÃl
() {

896 
cu¼’tx
 = 
mSüŞlv›w
.
	`g‘SüŞlX
();

897 
mSüŞlChªÃl
 = (è
	`round
((è
cu¼’tx
 / 
CHANNLE_WIDTH
, 0,

898 
BigDecim®
.
ROUND_HALF_DOWN
);

899 
visibËNum
 = 
	`g‘WšdowMªag”
().
	`g‘DeçuÉDi¥Ïy
().
	`g‘Width
()

900 / 
CHANNLE_WIDTH
;

901 ià(
mSüŞlChªÃl
 < (
Ut
.
MAX_CHANNEL_NUM
 - 
visibËNum
)) {

902 
mSüŞlChªÃl
++;

904 
»®x
 = 
mSüŞlChªÃl
 * 
CHANNLE_WIDTH
;

905 
mSüŞlv›w
.
	`süŞlTo
(
»®x
, 0);

906 
	}
}

908 
´iv©e
 
	$´eChªÃl
() {

909 
cu¼’tx
 = 
mSüŞlv›w
.
	`g‘SüŞlX
();

910 
mSüŞlChªÃl
 = (è
	`round
((è
cu¼’tx
 / 
CHANNLE_WIDTH
, 0,

911 
BigDecim®
.
ROUND_HALF_DOWN
);

912 ià(
mSüŞlChªÃl
 > 0) {

913 
mSüŞlChªÃl
--;

915 
»®x
 = 
mSüŞlChªÃl
 * 
CHANNLE_WIDTH
;

916 
mSüŞlv›w
.
	`süŞlTo
(
»®x
, 0);

917 
	}
}

919 
public
 
	$round
(
v®ue
, 
sÿË
, 
roundšgMode
) {

920 
BigDecim®
 
bd
 = 
Ãw
 
	`BigDecim®
(
v®ue
);

921 
bd
 = bd.
	`£tSÿË
(
sÿË
, 
roundšgMode
);

922 
d
 = 
bd
.
	`doubËV®ue
();

923 
bd
 = 
nuÎ
;

924  
d
;

925 
	}
}

927 @
Ov”ride


928 
public
 
	$ÚC»©eCÚ‹xtM’u
(
CÚ‹xtM’u
 
m’u
, 
V›w
 
v
,

929 
CÚ‹xtM’uInfo
 
m’uInfo
) {

930 
m’u
.
	`£tH—d”T™Ë
(
R
.
¡ršg
.
chªÃl_¡ršg
);

931 ià(
	`hasFMChªÃl
(
mOnLÚgClickChªÃl
)) {

932 
m’u
.
	`add
(0, 
REPLACE_MENU_ID
, 2, 
R
.
¡ršg
.
»¶aû_´e£t
);

933 
m’u
.
	`add
(0, 
PLAY_MENU_ID
, 1, 
R
.
¡ršg
.
¶ay_´e£t
);

934 
m’u
.
	`add
(0, 
CLEAR_MENU_ID
, 3, 
R
.
¡ršg
.
ş—r_´e£t
);

936 
m’u
.
	`add
(0, 
ADD_MENU_ID
, 0, 
R
.
¡ršg
.
add_´e£t
);

938 
	}
}

940 
public
 
boŞ—n
 
	$ÚCÚ‹xtI‹mS–eùed
(
M’uI‹m
 
™em
) {

941 
mLi¡V›wS–Pos
 = 
mOnLÚgClickChªÃl
;

943 
Log
.
	`i
(
TAG
,

945 + 
LÚg
.
	`toSŒšg
(
mLi¡V›wS–Pos
));

947 
™em
.
	`g‘I‹mId
()) {

948 
PLAY_MENU_ID
: {

949 
V›wGroup
 
v›w
 = (V›wGroupè
	`fšdV›wById
((è
mLi¡V›wS–Pos
);

950 
v›w
.
	`³rfÜmClick
();

953 
ADD_MENU_ID
: {

954 
	`showDŸlog
(
DIALOG_CONTEXT_ADD
);

957 
REPLACE_MENU_ID
: {

958 
	`showDŸlog
(
DIALOG_CONTEXT_REPLACE
);

961 
CLEAR_MENU_ID
: {

962 
	`showDŸlog
(
DIALOG_CONTEXT_CLEAR
);

966  
Œue
;

967 
	}
}

969 @
Ov”ride


970 
public
 
boŞ—n
 
	$ÚC»©eO±iÚsM’u
(
M’u
 
m’u
) {

971 
su³r
.
	`ÚC»©eO±iÚsM’u
(
m’u
);

972  
Œue
;

973 
	}
}

975 @
Ov”ride


976 
public
 
boŞ—n
 
	$ÚP»·»O±iÚsM’u
(
M’u
 
m’u
) {

977 
su³r
.
	`ÚP»·»O±iÚsM’u
(
m’u
);

979 
m’u
.
	`ş—r
();

980 ià(!
mIsSw™chOff
) {

981 ià((
mIsFMRadioEÇbËd
è&& (!
mRecÜd”
.
	`isRecÜdšg
())) {

982 
m’u
.
	`add
(0, 
SCAN_SAVE_ID
, 0, 
R
.
¡ršg
.
sÿn
).
	`£tIcÚ
(

983 
ªdroid
.
R
.
d¿wabË
.
ic_m’u_£¬ch
);

986 ià(
mIsFMRadioEÇbËd
 && 
Ut
.
	`isWœedH—d£tOn
()) {

987 ià(
	`g‘FMRadioAudioRoutšg
(è=ğ
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
) {

988 
m’u
.
	`add
(0, 
BY_LOUDSPEAKER_ID
, 1, 
R
.
¡ršg
.
by_loud¥—k”
)

989 .
	`£tIcÚ
(
R
.
d¿wabË
.
ic_m’u_loud¥—k”
);

991 
m’u
.
	`add
(0, 
BY_HEADSET_ID
, 1, 
R
.
¡ršg
.
by_h—d£t
).
	`£tIcÚ
(

992 
R
.
d¿wabË
.
ic_m’u_h—d£t
);

996 
m’u
.
	`add
(0, 
RECORDSLIST_ID
, 2, 
R
.
¡ršg
.
»cÜds_li¡
).
	`£tIcÚ
(

997 
R
.
d¿wabË
.
ic_m’u_»cÜd¦i¡
);

998 ià(
mIsFMRadioEÇbËd
) {

999 
m’u
.
	`add
(

1001 
RECODER_ID
,

1003 !
mRecÜd”
.
	`isRecÜdšg
(è? 
R
.
¡ršg
.
¡¬t_»cÜd


1004 : 
R
.
¡ršg
.
¡İ_»cÜd
).
	`£tIcÚ
(

1005 !
mRecÜd”
.
	`isRecÜdšg
(è? 
R
.
d¿wabË
.
ic_m’u_»cÜd


1006 : 
R
.
d¿wabË
.
ic_m’u_»cÜd_’abË
);

1008 
m’u
.
	`add
(0, 
RDS_CHARSET
, 4, 
R
.
¡ršg
.
rds_ch¬£t
).
	`£tIcÚ
(

1009 
R
.
d¿wabË
.
ic_m’u_rds
);

1012 
m’u
.
	`add
(0, 
CLEAR_ID
, 4, 
R
.
¡ršg
.
ş—r_´e£ts
)

1013 .
	`£tIcÚ
(
ªdroid
.
R
.
d¿wabË
.
ic_m’u_d–‘e
)

1014 .
	`£tEÇbËd
(
	`hasFMChªÃl
(è? 
Œue
 : 
çl£
);

1016 
m’u
.
	`add
(0, 
EXIT_ID
, 6, 
R
.
¡ršg
.
ex™
).
	`£tIcÚ
(

1017 
ªdroid
.
R
.
d¿wabË
.
ic_lock_pow”_off
);

1019  
Œue
;

1020 
	}
}

1022 
´iv©e
 
	$showRdsDŸlog
() {

1023 
AË¹DŸlog
.
Bud”
 
bud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
FMRadio
.
this
);

1024 
bud”
.
	`£tT™Ë
(
R
.
¡ršg
.
rds_ch¬£t
);

1025 
bud”
.
	`£tSšgËChoiûI‹ms
(
™ems
, 
mRdsLoÿËId
,

1026 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1027 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

1028 
mRdsLoÿËId
 = 
which
;

1031 
bud”
.
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1032 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1033 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

1034 
mInfoText
.
	`£tText
(
RDSCÚŒŞËr
.
	`g‘Loÿli£dSŒšg
(

1035 
mRdsBy‹s
, 
mRdsLoÿËId
));

1036 
Sh¬edP»ã»nûs
.
Ed™Ü
 
mEd™Ü
 = 
mP”ã»nûs
.
	`ed™
();

1037 
mEd™Ü
.
	`putIÁ
("rdsLoÿËId", 
mRdsLoÿËId
);

1038 
mEd™Ü
.
	`comm™
();

1039 
Log
.
	`i
(
TAG
, "mRdsLoÿËId comm™: " + 
mRdsLoÿËId
);

1042 
bud”
.
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1043 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1044 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

1047 
bud”
.
	`ü—‹
().
	`show
();

1048 
	}
}

1050 
public
 
boŞ—n
 
	$ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

1051 
™em
.
	`g‘I‹mId
()) {

1053 
CLEAR_ID
:

1054 
IÁ’t
 
š‹Á_ş—r
 = 
Ãw
 
	`IÁ’t
();

1055 
š‹Á_ş—r
.
	`putExŒa
("cu¼’t_num", 
mLa¡Pos™iÚ
);

1056 
š‹Á_ş—r
.
	`£tCÏss
(
FMRadio
.
this
, 
FMCË¬ChªÃl
.
şass
);

1057 
	`¡¬tAùiv™yFÜResuÉ
(
š‹Á_ş—r
, 
CLEAR_CODE
);

1059 
RDS_CHARSET
:

1060 
Log
.
	`i
(
TAG
, "RDS_CHARSET");

1061 
	`showRdsDŸlog
();

1063 
EXIT_ID
:

1064 
Log
.
	`i
(
TAG
, "User click Exit Menuoƒxit FM");

1065 
	`pow”OffFMRadio
();

1066 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_DELAY_FINISH
,

1067 
FM_DELAY_FINISH_TIMEOUT
);

1068  
Œue
;

1069 
SETCHANNEL_ID
:

1070 
Log
.
	`i
(
TAG
, "xxd User click SETCHANNEL_ID");

1071 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_SETCHANNEL_ID
);

1073 
SCAN_SAVE_ID
:

1074 ià(
CÚ‹ÁH–³r
.
	`isDBEm±y
(
this
)) {

1075 
mIsS“kAÎ
 = 
Œue
;

1076 
mRssiTh»shŞd
 = 7;

1077 
	`£tFMRadioTh»shŞd
(
mRssiTh»shŞd
);

1078 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

1079 
	`£tFMRadioF»q
();

1080 
mWakeLock
.
	`acquœe
(
LIGHT_ON_TIME
);

1081 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

1082 
	`showDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1084 
	`showDŸlog
(
DIALOG_IF_SCAN_NEXT
);

1087 
RECORDSLIST_ID
:

1088 ià(!
Ut
.
	`isEx‹º®StÜageS‹MouÁed
()) {

1089 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
sdÿrd_nÙ_mouÁed
),

1090 
Tß¡
.
LENGTH_SHORT
);

1093 ià(
mRecÜd”
.
	`isRecÜdšg
()) {

1094 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
»cÜdšg
), 
Tß¡
.
LENGTH_SHORT
);

1097 
	`¡¬tAùiv™y
(
Ãw
 
	`IÁ’t
(
this
, 
RecÜdLi¡Aùiv™y
.
şass
));

1099 
RECODER_ID
:

1100 ià(!
Ut
.
	`isEx‹º®StÜageS‹MouÁed
()) {

1101 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
sdÿrd_nÙ_mouÁed
),

1102 
Tß¡
.
LENGTH_SHORT
);

1105 
mRecÜd”
.
	`toggËRecÜd
();

1108 
BY_LOUDSPEAKER_ID
:

1109 
Log
.
	`i
(
TAG
, "loudspeaker menu is…ressed!");

1110 
IÁ’t
 
iLoud¥—k”
 = 
Ãw
 
	`IÁ’t
(

1111 
FMAudioIÁ”çû
.
FM_ROUTE_LOUDSPEAKER
);

1112 
	`£ndBrßdÿ¡
(
iLoud¥—k”
);

1115 
BY_HEADSET_ID
:

1116 
Log
.
	`i
(
TAG
, "headset menu is…ressed!");

1117 
IÁ’t
 
iH—d£t
 = 
Ãw
 
	`IÁ’t
(
FMAudioIÁ”çû
.
FM_ROUTE_HEADSET
);

1118 
	`£ndBrßdÿ¡
(
iH—d£t
);

1121  
su³r
.
	`ÚO±iÚsI‹mS–eùed
(
™em
);

1122 
	}
}

1124 
´Ùeùed
 
	$ÚAùiv™yResuÉ
(
»que¡Code
, 
»suÉCode
, 
IÁ’t
 
d©a
) {

1128 
»que¡Code
) {

1129 
SAVE_CODE
:

1130 ià(
»suÉCode
 =ğ
RESULT_OK
) {

1131 ià(
d©a
 !ğ
nuÎ
) {

1132 
Log
.
	`i
(
TAG
, "Save backo FMRadio UI");

1133 
	`upd©eLi¡V›w
();

1134 
id
 = 
d©a
.
	`g‘IÁExŒa
("newSaved_id", 0);

1135 
mLa¡Pos™iÚ
 = 
id
;

1140 
EDIT_CODE
:

1141 
Log
.
	`i
(
TAG
, "Edit backo FMRadio UI");

1142 ià(
»suÉCode
 =ğ
RESULT_OK
) {

1143 ià(
d©a
 !ğ
nuÎ
) {

1144 
Log
.
	`i
(
TAG
, "resultCode==RESULT_OK");

1145 
	`upd©eLi¡V›w
();

1146 
id
 = 
d©a
.
	`g‘IÁExŒa
("cu¼’t_num", 
mLa¡Pos™iÚ
);

1147 
mLa¡Pos™iÚ
 = 
id
;

1150 
Log
.
	`i
(
TAG
, "resultCode!=RESULT_OK");

1151 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

1152 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1153 
	`£tFMRadioF»q
();

1157 
CLEAR_CODE
:

1158 ià(
»suÉCode
 =ğ
RESULT_OK
) {

1159 
	`upd©eLi¡V›w
();

1160 
boŞ—n
 
isCË¬AÎ
 = 
d©a
.
	`g‘BoŞ—nExŒa
("isCË¬AÎ", 
çl£
);

1161 ià(
isCË¬AÎ
) {

1162 
Log
.
	`i
(
TAG
, "FMRadio clear‡ll isrue!");

1163 
mLa¡Pos™iÚ
 = 0;

1164 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
Œue
;

1166 ià(
d©a
.
	`g‘BoŞ—nExŒa
("isLa¡Pos™iÚCË¬ed", 
çl£
)) {

1167 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1173 
	}
}

1175 
´Ùeùed
 
DŸlog
 
	$ÚC»©eDŸlog
(
id
) {

1176 
id
) {

1177 
DIALOG_LAUNCHING_PROGRESS
: {

1178 
mLaunchšgDŸlog
 = 
Ãw
 
	`Prog»ssDŸlog
(
this
);

1179 ià(
mLaunchšgDŸlog
 !ğ
nuÎ
) {

1180 
mLaunchšgDŸlog


1181 .
	`£tMes§ge
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_wa™šg_fÜ_pow”_Ú
));

1182 
mLaunchšgDŸlog
.
	`£tInd‘”mš©e
(
Œue
);

1183 
mLaunchšgDŸlog
.
	`£tCªûÏbË
(
çl£
);

1185  
mLaunchšgDŸlog
;

1187 
DIALOG_SCANNING_PROGRESS
: {

1188 
mSÿÂšgDŸlog
 = 
Ãw
 
	`Prog»ssDŸlog
(
this
);

1189 ià(
mSÿÂšgDŸlog
 !ğ
nuÎ
) {

1190 
mSÿÂšgDŸlog


1191 .
	`£tMes§ge
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_sÿn_begš_msg
));

1192 
mSÿÂšgDŸlog
.
	`£tInd‘”mš©e
(
Œue
);

1193 
mSÿÂšgDŸlog
.
	`£tCªûÏbË
(
Œue
);

1194 
mSÿÂšgDŸlog
.
	`£tBu‰Ú
(
	`g‘Text
(
R
.
¡ršg
.
ÿnûl
),

1195 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1196 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1197 
whichBu‰Ú
) {

1198 
mSÿÂšgDŸlog
.
	`ÿnûl
();

1201 
mSÿÂšgDŸlog


1202 .
	`£tOnCªûlLi¡’”
(
Ãw
 
DŸlogIÁ”çû
.
	`OnCªûlLi¡’”
() {

1203 
public
 
	`ÚCªûl
(
DŸlogIÁ”çû
 
dŸlog
) {

1204 
Log
.
	`i
("FMRadio Progress_Dialog",

1206 
	`»moveDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1209 
mSÿÂšgDŸlog


1210 .
	`£tOnDismissLi¡’”
(
Ãw
 
DŸlogIÁ”çû
.
	`OnDismissLi¡’”
() {

1211 
public
 
	`ÚDismiss
(
DŸlogIÁ”çû
 
dŸlog
) {

1212 
Log
.
	`i
("FMRadio Progress_Dialog",

1214 
mIsS“kAÎ
 = 
çl£
;

1215 
mIsSÿnCªûËd
 = 
Œue
;

1216 
	`upd©eLi¡V›w
();

1217 
mLa¡Pos™iÚ
 = 0;

1218 
	`³rfÜmVœtu®Click
(0);

1222  
mSÿÂšgDŸlog
;

1224 
DIALOG_IF_SCAN_FIRST
: {

1225 
DŸlog
 
tmp
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

1226 .
	`£tT™Ë
(
R
.
¡ršg
.
sÿn
)

1227 .
	`£tMes§ge
(
R
.
¡ršg
.
fm¿dio_sÿn_cÚfœm_msg
)

1228 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1229 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1230 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1231 
whichBu‰Ú
) {

1232 
CÚ‹ÁH–³r
.
	`ş—rDB
(
FMRadio
.
this
);

1233 
mRssiTh»shŞd
 = 10;

1234 
	`£tFMRadioTh»shŞd
(
mRssiTh»shŞd
);

1235 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

1236 
	`£tFMRadioF»q
();

1237 
mIsS“kAÎ
 = 
Œue
;

1238 
mWakeLock
.
	`acquœe
(
LIGHT_ON_TIME
);

1239 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

1240 
	`showDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1246 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1247 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1248 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1249 
whichBu‰Ú
) {

1251 }).
	`ü—‹
();

1252  
tmp
;

1254 
DIALOG_IF_SCAN_NEXT
: {

1255 
DŸlog
 
tmp
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

1256 .
	`£tT™Ë
(
R
.
¡ršg
.
sÿn
)

1257 .
	`£tMes§ge
(
R
.
¡ršg
.
fm¿dio_ş—r_cÚfœm_msg
)

1258 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1259 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1260 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1261 
whichBu‰Ú
) {

1262 
CÚ‹ÁH–³r
.
	`ş—rDB
(
FMRadio
.
this
);

1264 
	`£tFMRadioTh»shŞd
(
mRssiTh»shŞd
);

1265 
mCu¼’tF»q
 = 
LOW_FREQUENCY
;

1266 
	`£tFMRadioF»q
();

1267 
mIsS“kAÎ
 = 
Œue
;

1268 
mWakeLock
.
	`acquœe
(
LIGHT_ON_TIME
);

1269 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

1270 
	`showDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1273 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1274 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1275 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1276 
whichBu‰Ú
) {

1278 }).
	`ü—‹
();

1279  
tmp
;

1281 
DIALOG_CONTEXT_ADD
: {

1282 
DŸlog
 
tmp
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

1283 .
	`£tT™Ë
(
R
.
¡ršg
.
add_´e£t
)

1284 .
	`£tMes§ge
(
R
.
¡ršg
.
cÚfœm_add_´e£t
)

1285 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1286 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1287 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1288 
whichBu‰Ú
) {

1289 
CÚ‹ÁH–³r


1290 .
	`§veChªÃlInfo
(
FMRadio
.
this
,

1291 (è
mLi¡V›wS–Pos
,

1292 
mCu¼’tF»q
);

1293 
	`upd©eLi¡V›w
();

1294 ià(
mLa¡Pos™iÚ
 =ğ(è
mLi¡V›wS–Pos
) {

1295 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1297 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
çl£
;

1300 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1301 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1302 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1303 
whichBu‰Ú
) {

1305 }).
	`ü—‹
();

1306  
tmp
;

1308 
DIALOG_CONTEXT_REPLACE
: {

1309 
DŸlog
 
tmp
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

1310 .
	`£tT™Ë
(
R
.
¡ršg
.
»¶aû_´e£t
)

1311 .
	`£tMes§ge
(
R
.
¡ršg
.
cÚfœm_»¶aû_´e£t
)

1312 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1313 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1314 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1315 
whichBu‰Ú
) {

1316 
CÚ‹ÁH–³r


1317 .
	`§veChªÃlInfo
(
FMRadio
.
this
,

1318 (è
mLi¡V›wS–Pos
,

1319 
mCu¼’tF»q
);

1320 
	`upd©eLi¡V›w
();

1321 ià(
mLa¡Pos™iÚ
 =ğ(è
mLi¡V›wS–Pos
) {

1322 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1324 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
çl£
;

1327 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1328 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1329 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1330 
whichBu‰Ú
) {

1332 }).
	`ü—‹
();

1333  
tmp
;

1335 
DIALOG_CONTEXT_CLEAR
: {

1336 
DŸlog
 
tmp
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

1337 .
	`£tT™Ë
(
R
.
¡ršg
.
ş—r_´e£t
)

1338 .
	`£tMes§ge
(
R
.
¡ršg
.
cÚfœm_ş—r_´e£t
)

1339 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
,

1340 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1341 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1342 
whichBu‰Ú
) {

1343 
CÚ‹ÁH–³r
.
	`§veChªÃlInfo
(
FMRadio
.
this
,

1344 (è
mLi¡V›wS–Pos
, -1);

1345 
	`upd©eLi¡V›w
();

1346 ià(
mLa¡Pos™iÚ
 =ğ(è
mLi¡V›wS–Pos
) {

1347 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1351 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

1352 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1353 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1354 
whichBu‰Ú
) {

1356 }).
	`ü—‹
();

1357  
tmp
;

1360  
nuÎ
;

1361 
	}
}

1363 
´Ùeùed
 
	$ÚP»·»DŸlog
(
id
, 
DŸlog
 
dŸlog
) {

1364 
id
) {

1365 
DIALOG_SCANNING_PROGRESS
: {

1366 
mSÿÂšgDŸlog


1367 .
	`£tMes§ge
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_sÿn_begš_msg
));

1368 
mIsSÿnCªûËd
 = 
çl£
;

1369 
mS“kSaveCouÁ
 = 0;

1370 
mFœ¡CouÁ”
 = 0;

1374 
	}
}

1376 
´iv©e
 
	$³rfÜmVœtu®Click
(
rowid
) {

1377 
Log
.
	`i
(
TAG
, "³rfÜmVœtu®Click, cu¼’ˆäeq: " + 
mCu¼’tF»q


1378 + ",Ï¡…os™iÚ: " + 
mLa¡Pos™iÚ
);

1379 if(
mFMResuÉs
.
	`size
() <= 0) {

1383 
FMInfo
 
šfo
 = 
mFMResuÉs
.
	`g‘
(
mLa¡Pos™iÚ
);

1384 ià(
šfo
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(šfo.
mF»q
))

1385 
mCu¼’tF»q
 = (è(
Flßt
.
	`·r£Flßt
(
šfo
.
mF»q
) * 1000);

1387 
	`£tFMRadioF»q
();

1388 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1389 
	}
}

1391 
´iv©e
 
boŞ—n
 
	gmIsBound
 = 
çl£
;

1392 
´iv©e
 
IFMRadioS”viû
 
	gmFMS”viû
 = 
nuÎ
;

1394 
´iv©e
 
boŞ—n
 
	$bšdToS”viû
() {

1395 
Log
.
	`i
(
TAG
, "Starto bindo FMRadio service");

1396  
	`bšdS”viû
(
Ãw
 
	`IÁ’t
("com.pekall.fmradio.FMRADIO_SERVICE"),

1397 
mS”vCÚÃùiÚ
, 
CÚ‹xt
.
BIND_AUTO_CREATE
);

1398 
	}
}

1400 
´iv©e
 
	$unbšdFMRadioS”viû
() {

1401 ià(
mIsBound
) {

1402 
	`unbšdS”viû
(
mS”vCÚÃùiÚ
);

1403 
mIsBound
 = 
çl£
;

1405 
	}
}

1407 
´iv©e
 
S”viûCÚÃùiÚ
 
	gmS”vCÚÃùiÚ
 = 
Ãw
 
	$S”viûCÚÃùiÚ
() {

1408 
public
 
	`ÚS”viûCÚÃùed
(
CompÚ’tName
 
şassName
,

1409 
ªdroid
.
os
.
IBšd”
 
£rviû
) {

1410 
Log
.
	`w
(
TAG
, "onServiceConnected IN...");

1411 
mIsBound
 = 
Œue
;

1413 
mFMS”viû
 = 
IFMRadioS”viû
.
Stub
.
	`asIÁ”çû
(
£rviû
);

1414 ià(
mFMS”viû
 =ğ
nuÎ
) {

1415 
Log
.
	`e
(
TAG
, "onServiceConnectedƒrror, mFMService‚ull");

1419 
	`upd©eT¿ckInfo
();

1420 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1421 
	`upd©eSw™hcBu‰Ú
();

1423 
Œy
 {

1424 
mFMS”viû
.
	`»gi¡”C®lback
(
mC®lback
);

1425 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1426 
Log
.
	`e
(
TAG
, "", 
e
);

1430 
public
 
	`ÚS”viûDiscÚÃùed
(
CompÚ’tName
 
şassName
) {

1431 
Log
.
	`i
(
TAG
, "onServiceDisconnected IN...");

1432 ià(
mFMS”viû
 =ğ
nuÎ
) {

1433 
Log
.
	`e
(
TAG
, "onServiceDisconnectedƒrror, mFMService‚ull");

1437 
Œy
 {

1438 
mFMS”viû
.
	`uÄegi¡”C®lback
(
mC®lback
);

1439 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1440 
Log
.
	`e
(
TAG
, "", 
e
);

1443 
mFMS”viû
 = 
nuÎ
;

1444 
	`fšish
();

1446 
	}
};

1448 
´iv©e
 
fš®
 
	gSTART_FMRADIO
 = 1;

1449 
´iv©e
 
fš®
 
	gSTOP_FMRADIO
 = 2;

1450 
´iv©e
 
fš®
 
	gQUIT
 = 3;

1451 
´iv©e
 
fš®
 
	gFM_OPEN_FAILED
 = 4;

1452 
´iv©e
 
fš®
 
	gFM_OPEN_SUCCEED
 = 5;

1453 
´iv©e
 
fš®
 
	gFM_SETFREQ_SUCCEED
 = 6;

1454 
´iv©e
 
fš®
 
	gFM_SEEK_SUCCEED
 = 7;

1455 
´iv©e
 
fš®
 
	gFM_SEEK_FAILED
 = 8;

1456 
´iv©e
 
fš®
 
	gSEEK_NEXT
 = 12;

1457 
´iv©e
 
fš®
 
	gFM_FREQUENCY_ADD
 = 13;

1458 
´iv©e
 
fš®
 
	gFM_FREQUENCY_REDUCE
 = 14;

1459 
´iv©e
 
fš®
 
	gFM_SEEK_BACKWARD_LONG_PRESS
 = 15;

1460 
´iv©e
 
fš®
 
	gFM_SEEK_FORWARD_LONG_PRESS
 = 16;

1461 
fš®
 
	gFM_START_RECORD
 = 20;

1462 
fš®
 
	gFM_RECORD_BEGIN
 = 21;

1463 
fš®
 
	gFM_RECORD_END
 = 26;

1464 
´iv©e
 
fš®
 
	gFM_DELAY_FINISH
 = 23;

1465 
´iv©e
 
fš®
 
	gFM_SETCHANNEL_ID
 = 24;

1466 
´iv©e
 
fš®
 
	gFM_INIT_SETCHANNEL_ID
 = 25;

1467 
´iv©e
 
fš®
 
	gFM_TOGGLE_STATE
 = 27;

1468 
´iv©e
 
fš®
 
	gFM_CLOSED
 = 28;

1470 
´iv©e
 
fš®
 
	gFM_DELAY_FINISH_TIMEOUT
 = 400;

1472 
fš®
 
HªdËr
 
	$g‘HªdËr
() {

1473  
mHªdËr
;

1474 
	}
}

1476 
fš®
 
HªdËr
 
	gmHªdËr
 = 
Ãw
 
	$HªdËr
() {

1477 @
Ov”ride


1478 
public
 
	`hªdËMes§ge
(
Mes§ge
 
msg
) {

1479 
msg
.
wh©
) {

1480 
START_FMRADIO
:

1481 
»t
 = 
	`g‘FMS”viûStus
();

1482 
Log
.
	`i
(
TAG
, "g‘FMS”viûStus(èğ" + 
»t
);

1483 ià(
»t
 !ğ
FMRadioS”viû
.
FM_SERVICE_ON
) {

1484 
Log
.
	`i
(
TAG
, "service state is‚ot READY."

1486 
	`showDŸlog
(
DIALOG_LAUNCHING_PROGRESS
);

1487 
	`pow”OnFMRadio
();

1489 
mIsFMRadioEÇbËd
 = 
Œue
;

1490 
	`’abËUI
(
Œue
,rue);

1493 
STOP_FMRADIO
:

1494 
	`pow”OffFMRadio
();

1496 
FM_OPEN_FAILED
:

1497 
Log
.
	`i
(
TAG
, "FM open failed!!! Will finish()!!!");

1499 
mIsFMRadioEÇbËd
 = 
çl£
;

1500 
mLaunchšgDŸlog
.
	`dismiss
();

1501 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
£rviû_¡¬t_”rÜ_msg
),

1502 
Tß¡
.
LENGTH_LONG
);

1503 
	`fšish
();

1506 
FM_OPEN_SUCCEED
:

1507 
Log
.
	`i
(
TAG
, "FM open succeed callback");

1509 
mIsFMRadioEÇbËd
 = 
Œue
;

1510 ià(
mLaunchšgDŸlog
 !ğ
nuÎ
) {

1511 
mLaunchšgDŸlog
.
	`dismiss
();

1513 
	`’abËUI
(
Œue
,rue);

1515 ià(!
mIsSÿÂedBefÜe
) {

1516 
Log
.
	`i
(
TAG
, "It ishe FMRadio first start!");

1517 
	`showDŸlog
(
DIALOG_IF_SCAN_FIRST
);

1518 
mIsSÿÂedBefÜe
 = 
Œue
;

1520 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_INIT_SETCHANNEL_ID
);

1522 
FM_CLOSED
:

1523 
mIsFMRadioEÇbËd
 = 
çl£
;

1524 
mAddBu‰Ú
.
	`£tEÇbËd
(
çl£
);

1525 
mReduûBu‰Ú
.
	`£tEÇbËd
(
çl£
);

1528 
FM_SETFREQ_SUCCEED
:

1529 
	`’abËUI
(
Œue
,rue);

1532 
FM_SETCHANNEL_ID
:

1537 
FM_INIT_SETCHANNEL_ID
:

1543 
FM_SEEK_FAILED
:

1544 ià(
mIsS“kAÎ
) {

1545 
mHªdËr
.
	`£ndEm±yMes§ge
(
SEEK_NEXT
);

1547 
	`’abËUI
(
Œue
,rue);

1551 
FM_SEEK_SUCCEED
:

1552 
Log
.
	`i
(
TAG
, "seek forward/backward callback,"

1553 + "hÃw f»q’cy = " + 
mCu¼’tF»q
);

1555 ià(
mIsS“kbackw¬dLÚgP»s£d
) {

1556 
Log
.
	`d
(
TAG
, "mIsSeekbackwardLongPressed isrue,"

1558 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1559 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(

1560 
FM_SEEK_BACKWARD_LONG_PRESS
,

1561 
LONG_PRESS_SEEK_TIMEOUT
);

1562 } ià(
mIsS“kfÜw¬dLÚgP»s£d
) {

1563 
Log
.
	`d
(
TAG
, "mIsSeekforwardLongPressed isure, "

1565 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1566 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(

1567 
FM_SEEK_FORWARD_LONG_PRESS
, 
LONG_PRESS_SEEK_TIMEOUT
);

1570 ià(
mIsS“kAÎ
) {

1571 
Log
.
	`i
(
TAG
, "in seek All…rocedure!");

1572 ià(
mCu¼’tF»q
 <ğ
HIGH_FREQUENCY


1573 && 
mCu¼’tF»q
 >ğ
LOW_FREQUENCY


1574 && 
mCu¼’tF»q
 > 
mFœ¡CouÁ”
) {

1576 
mFœ¡CouÁ”
 = 
mCu¼’tF»q
;

1578 
CÚ‹ÁH–³r
.
	`§veChªÃlInfo
(
FMRadio
.
this
,

1579 
mS“kSaveCouÁ
, 
mCu¼’tF»q
);

1580 
mS“kSaveCouÁ
++;

1581 
mSÿÂšgDŸlog


1582 .
	`£tMes§ge
(
	`g‘SŒšg
(
R
.
¡ršg
.
found
)

1584 + 
mS“kSaveCouÁ


1586 + 
	`g‘SŒšg
(
R
.
¡ršg
.
chªÃls
)

1588 + 
Flßt
.
	`toSŒšg
((è
mCu¼’tF»q
 / 1000)

1591 
mIsSÿnCªûËd
 = 
Œue
;

1592 
	`»moveDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1596 ià(!
mIsSÿnCªûËd
) {

1597 
Mes§ge
 
£ekNextMsg
 = 
mHªdËr


1598 .
	`obšMes§ge
(
SEEK_NEXT
);

1599 
¶ayoutTime
 = 
Sy¡emClock
.
	`u±imeMlis
() + 1500;

1600 
mHªdËr
.
	`£ndMes§geAtTime
(
£ekNextMsg
, 
¶ayoutTime
);

1603 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
§ved
) + " "

1604 + 
mS“kSaveCouÁ
 + " "

1605 + 
	`g‘SŒšg
(
R
.
¡ršg
.
sÿÂed_chªÃls
),

1606 
Tß¡
.
LENGTH_SHORT
);

1607 
	`upd©eLi¡V›w
();

1611 
	`upd©eDi¥ÏyPª–
(
mCu¼’tF»q
);

1612 
	`»£tChªÃls
();

1613 
	`’abËUI
(
Œue
,rue);

1618 
SEEK_NEXT
:

1619 
Log
.
	`i
(
TAG
, "SEEK_NEXT„eceived");

1621 ià(
mS“kSaveCouÁ
 < 
Ut
.
MAX_CHANNEL_NUM
 && !
mIsSÿnCªûËd
) {

1622 
Log
.
	`i
(
TAG
, "scan‚ot canceled, seek‚ext station");

1623 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

1626 
Log
.
	`d
(
TAG
, "MAX_CHANNEL_NUM stations scanned "

1628 
	`»moveDŸlog
(
DIALOG_SCANNING_PROGRESS
);

1629 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
§ved
è+ " " + 
mS“kSaveCouÁ


1630 + " " + 
	`g‘SŒšg
(
R
.
¡ršg
.
sÿÂed_chªÃls
),

1631 
Tß¡
.
LENGTH_SHORT
);

1632 
FMCË¬ChªÃl
.
mD–‘eAÎ
 = 
çl£
;

1633 
	`upd©eLi¡V›w
();

1637 
FM_FREQUENCY_ADD
:

1638 
Log
.
	`i
(
TAG
, "Receive FM_FREQUENCY_ADD msg, "

1639 + "mIsLÚgP»s£d = " + 
mIsLÚgP»s£d
);

1640 ià(
mIsLÚgP»s£d
) {

1641 
	`chªgeF»qByS‹p
(
Œue
);

1645 
FM_FREQUENCY_REDUCE
:

1646 
Log
.
	`i
(
TAG
, "Receive FM_FREQUENCY_REDUCE msg, "

1647 + "mIsLÚgP»s£d = " + 
mIsLÚgP»s£d
);

1648 ià(
mIsLÚgP»s£d
) {

1649 
	`chªgeF»qByS‹p
(
çl£
);

1653 
FM_SEEK_BACKWARD_LONG_PRESS
:

1654 
Log
.
	`i
(
TAG
, "Receive FM_SEEK_BACKWARD_LONG_PRESS msg, "

1656 + 
mIsS“kbackw¬dLÚgP»s£d
);

1657 ià(
mIsS“kbackw¬dLÚgP»s£d
)

1658 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_BACKWARD
);

1661 
FM_SEEK_FORWARD_LONG_PRESS
:

1662 
Log
.
	`i
(
TAG
, "Receive FM_SEEK_FORWARD_LONG_PRESS msg, "

1664 + 
mIsS“kfÜw¬dLÚgP»s£d
);

1665 ià(
mIsS“kfÜw¬dLÚgP»s£d
)

1666 
	`£ekFMRadioStiÚ
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

1669 
FM_START_RECORD
:

1670 
mRecÜd”
.
	`upd©eRecÜdTime
();

1673 
QUIT
:

1674 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
FMRadio
.
this
)

1675 .
	`£tMes§ge
(
R
.
¡ršg
.
£rviû_¡¬t_”rÜ_msg
)

1676 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
£rviû_¡¬t_”rÜ_bu‰Ú
,

1677 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

1678 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
,

1679 
whichBu‰Ú
) {

1680 
	`fšish
();

1682 }).
	`£tCªûÏbË
(
çl£
).
	`show
();

1685 
FM_RECORD_BEGIN
: {

1686 
mRecÜd”
.
	`begšRecÜd
();

1689 
FM_RECORD_END
: {

1690 
mRecÜd”
.
	`’dRecÜd
();

1693 
FM_DELAY_FINISH
: {

1703 
	`fšish
();

1706 
FM_TOGGLE_STATE
: {

1707 
	`toggËS‹
();

1712 
mPÏyStİ


1713 .
	`£tBackgroundResourû
(
mIsFMRadioEÇbËd
 ? 
R
.
d¿wabË
.
bŠ_¡İ


1714 : 
R
.
d¿wabË
.
bŠ_¶ay
);

1716 
	}
};

1718 
´iv©e
 
	$»gi¡”Brßdÿ¡Li¡’”
() {

1719 ià(
mIÁ’tReûiv”
 =ğ
nuÎ
) {

1720 
mIÁ’tReûiv”
 = 
Ãw
 
	`Brßdÿ¡Reûiv”
() {

1721 @
Ov”ride


1722 
public
 
	`ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

1723 
SŒšg
 
aùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

1724 
Log
.
	`i
(
TAG
, "Launch” brßdÿ¡ Reûived " + 
aùiÚ
);

1725 ià(
aùiÚ
.
	`equ®s
(
INTENT_STOP_FM
)) {

1726 
	`pow”OffFMRadio
();

1727 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_DELAY_FINISH
,

1728 
FM_DELAY_FINISH_TIMEOUT
);

1729 } ià(
aùiÚ
.
	`equ®s
(
IÁ’t
.
ACTION_HEADSET_PLUG
)) {

1732 
FMRadio
.
this
.
	`şo£O±iÚsM’u
();

1733 } ià(
aùiÚ
.
	`equ®s
(
FMRadioS”viû
.
FM_RDS_STRING
)) {

1734 
mRdsBy‹s
 = 
š‹Á
.
	`g‘By‹A¼ayExŒa
("rds");

1735 
mRdsTy³
 = 
š‹Á
.
	`g‘IÁExŒa
("type",

1736 
RDSCÚŒŞËr
.
RDS_TYPE_UNKNOWN
);

1737 
mInfoText
.
	`£tText
(
RDSCÚŒŞËr
.
	`g‘Loÿli£dSŒšg
(

1738 
mRdsBy‹s
, 
mRdsLoÿËId
));

1742 
IÁ’tF‹r
 
š‹Á
 = 
Ãw
 
	`IÁ’tF‹r
();

1743 
š‹Á
.
	`addAùiÚ
(
FMRadioS”viû
.
FM_RDS_STRING
);

1744 
š‹Á
.
	`addAùiÚ
(
IÁ’t
.
ACTION_HEADSET_PLUG
);

1745 
š‹Á
.
	`addAùiÚ
(
INTENT_STOP_FM
);

1746 
š‹Á
.
	`addAùiÚ
(
FMRadioS”viû
.
FM_CLOSED
);

1747 
	`»gi¡”Reûiv”
(
mIÁ’tReûiv”
, 
š‹Á
);

1749 
	}
}

1751 
´iv©e
 
fš®
 
SŒšg
 
	gINTENT_STOP_FM
 = "android.intent.action.STOP_FM";

1752 
´iv©e
 
fš®
 
SŒšg
 
	gINTENT_START_FM
 = "android.intent.action.FM_START";

1754 
´iv©e
 
	$g‘FMRadioAudioRoutšg
() {

1755 
»t
 = 
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
;

1756 ià(
mFMS”viû
 !ğ
nuÎ
) {

1757 
Œy
 {

1758 
»t
 = 
mFMS”viû
.
	`g‘FMAudioRoutšg
();

1759 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1760 
Log
.
	`e
(
TAG
, "get fmradio‡udio„outing failed");

1763  
»t
;

1764 
	}
}

1766 
´iv©e
 
	$g‘FMS”viûStus
() {

1767 
»t
 = 
FMRadioS”viû
.
FM_SERVICE_NONE
;

1768 ià(
mFMS”viû
 !ğ
nuÎ
) {

1769 
Œy
 {

1770 
»t
 = 
mFMS”viû
.
	`g‘FMS”viûStus
();

1771 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1772 
Log
.
	`e
(
TAG
, "get fmradio service status failed");

1775  
»t
;

1776 
	}
}

1778 
´iv©e
 
	$pow”OnFMRadio
() {

1779 
Log
.
	`i
(
TAG
, "powerOnFMRadio");

1780 ià(
mFMS”viû
 !ğ
nuÎ
) {

1781 
Œy
 {

1782 
Log
.
	`i
(
TAG
, "mService.open() called!");

1783 
mFMS”viû
.
	`İ’FMRadio
();

1784 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
ex
) {

1785 
Log
.
	`i
(
TAG
, "mService.open() RemoteException!");

1788 
	}
}

1790 
´iv©e
 
	$pow”OffFMRadio
() {

1791 
Log
.
	`i
(
TAG
, "powerOffFMRadio");

1792 ià(
mFMS”viû
 !ğ
nuÎ
) {

1793 
Œy
 {

1794 
Log
.
	`i
(
TAG
, "mService.close() called!");

1795 
mFMS”viû
.
	`şo£FMRadio
();

1796 
mIsFMRadioEÇbËd
 = 
çl£
;

1797 
mAddBu‰Ú
.
	`£tEÇbËd
(
çl£
);

1798 
mReduûBu‰Ú
.
	`£tEÇbËd
(
çl£
);

1799 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
ex
) {

1800 
Log
.
	`i
(
TAG
, "mService.close() RemoteException!");

1803 
	}
}

1805 
´iv©e
 
	$’abËRds
() {

1806 
Log
.
	`i
(
TAG
, "enableRds");

1807 ià(
mFMS”viû
 !ğ
nuÎ
) {

1808 
Œy
 {

1809 ià(
mFMS”viû
.
	`g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_ON
) {

1810 
mFMS”viû
.
	`’abËRds
();

1811 
Log
.
	`i
(
TAG
, "enableRds done!");

1813 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1814 
Log
.
	`e
(
TAG
, "’abËRds()", 
e
);

1817 
	}
}

1819 
´iv©e
 
	$di§bËRds
() {

1820 
Log
.
	`i
(
TAG
, "disableRds");

1821 ià(
mFMS”viû
 !ğ
nuÎ
) {

1822 
Œy
 {

1823 ià(
mFMS”viû
.
	`g‘FMS”viûStus
(è=ğ
FMRadioS”viû
.
FM_SERVICE_ON
) {

1824 
mFMS”viû
.
	`di§bËRds
();

1825 
Log
.
	`i
(
TAG
, "disableRds done!");

1827 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

1828 
Log
.
	`e
(
TAG
, "di§bËRds()", 
e
);

1831 
	}
}

1833 
´iv©e
 
	$£tFMRadioF»q
() {

1834 
Log
.
	`i
(
TAG
, "setFMRadioFreq");

1835 ià(
mFMS”viû
 !ğ
nuÎ
) {

1836 
Œy
 {

1837 
mFMS”viû
.
	`£tFMF»q
(
mCu¼’tF»q
);

1838 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
ex
) {

1839 
Log
.
	`i
(
TAG
, "In setFMRadioFreq(): RemoteException.!");

1842 
	}
}

1844 
´iv©e
 
	$£ekFMRadioStiÚ
(
dœeùiÚ
) {

1845 
Log
.
	`i
("FMRadio", "seekFMRadioStation");

1846 ià(
mFMS”viû
 !ğ
nuÎ
) {

1847 
Œy
 {

1848 
mFMS”viû
.
	`£ekFM
(
dœeùiÚ
);

1849 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
ex
) {

1850 
Log
.
	`i
(
TAG
, "In seekFMRadioStation(): RemoteException.!");

1853 
	}
}

1855 
´iv©e
 
	$£tFMRadioTh»shŞd
(
v®ue
) {

1856 
Log
.
	`i
(
TAG
, "setFMRadioThreshold");

1857 ià(
mFMS”viû
 !ğ
nuÎ
) {

1858 
Œy
 {

1859 
mFMS”viû
.
	`£tFMRssiTh»shŞd
(
v®ue
);

1860 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
ex
) {

1861 
Log
.
	`i
(
TAG
, "In setFMRadioThreshold(): RemoteException.!");

1864 
	}
}

1866 
´iv©e
 
	$toggËS‹
() {

1867 ià(!
mIsFMRadioEÇbËd
) {

1868 ià(
Ut
.
	`isAœ¶ªeModeOn
(
FMRadio
.
this
)) {

1869 
	`showTß¡
(

1870 
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_aœ¶ªe_mode_’abË_©_begš
),

1874 ià(
Ut
.
	`isInC®lS‹
(
FMRadio
.
this
)) {

1875 
	`showTß¡
(

1876 
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_ÿÎ_¡©e_’abË_©_begš
),

1880 
d–ay
 = 0;

1881 
¡©e
 = 
	`g‘FMS”viûStus
();

1882 ià(
¡©e
 =ğ
FMRadioS”viû
.
FM_SERVICE_TX_INIT


1883 || 
¡©e
 =ğ
FMRadioS”viû
.
FM_SERVICE_TX_ON
) {

1884 
	`showTß¡
(
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_şo£_tx
), 0);

1887 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
START_FMRADIO
, 
d–ay
);

1889 ià(
mRecÜd”
.
	`isRecÜdšg
()) {

1890 
mRecÜd”
.
	`toggËRecÜd
();

1892 
	`pow”OffFMRadio
();

1893 
	`£tMu‹Ui
(
çl£
);

1895 
	}
}

	@src/com/pekall/fmradio/FMRadioAppWidgetProvider.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
.
	gFM_LAUNCHING
;

20 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
.
	gFM_OPEN_FAILED
;

21 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
.
	gFM_SERVICE_INIT
;

22 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
.
	gFM_SERVICE_ON
;

24 
impÜt
 
	gªdroid
.
	g­p
.
	gP’dšgIÁ’t
;

25 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

26 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Provid”
;

27 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

28 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

29 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

30 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gCursÜ
;

31 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gsql™e
.
	gSQL™eDiskIOExû±iÚ
;

32 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

33 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›ws
;

35 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

36 
impÜt
 
	gjava
.
	g‹xt
.
	gNumb”FÜm©
;

37 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

42 
public
 cÏs 
	cFMRadioAµWidg‘Provid”
 
ex‹nds
 
	mAµWidg‘Provid”
 {

43 
´iv©e
 
fš®
 
	mFREQ_UINT
 = 1000.0f;

45 
´iv©e
 
	mcu¼’tF»q
 = 
FMRadio
.
LOW_FREQUENCY
;

47 
´iv©e
 
FMRadioAµWidg‘Provid”
 
	msIn¡ªû
;

49 
´iv©e
 
fš®
 
	mSŒšg
[] 
	mSAVED_PROJECTION
 = 
Ãw
 
SŒšg
[] {

50 
FMD©aProvid”
.
PROJECTION_ID
,

51 
FMD©aProvid”
.
PROJECTION_LAST_FREQ
,

54 
´iv©e
 
fš®
 
SŒšg
 
	gTAG
 = "FMRadioAppWidgetProdiver";

56 
synchrÚized
 
FMRadioAµWidg‘Provid”
 
	$g‘In¡ªû
() {

57 ià(
sIn¡ªû
 =ğ
nuÎ
) {

58 
sIn¡ªû
 = 
Ãw
 
	`FMRadioAµWidg‘Provid”
();

60  
sIn¡ªû
;

61 
	}
}

63 @
Ov”ride


64 
public
 
	$ÚUpd©e
(
CÚ‹xt
 
cÚ‹xt
, 
AµWidg‘Mªag”
 
­pWidg‘Mªag”
, [] 
­pWidg‘Ids
) {

67 
	`š™AµWidg‘
(
cÚ‹xt
, 
­pWidg‘Ids
);

73 
IÁ’t
 
upd©eIÁ’t
 = 
Ãw
 
	`IÁ’t
(
FMRadioS”viû
.
FM_APPWIDGET_UPDATE
);

74 
upd©eIÁ’t
.
	`putExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_IDS
, 
­pWidg‘Ids
);

75 
upd©eIÁ’t
.
	`addFÏgs
(
IÁ’t
.
FLAG_RECEIVER_REGISTERED_ONLY
);

76 
cÚ‹xt
.
	`£ndBrßdÿ¡
(
upd©eIÁ’t
);

77 
	}
}

83 
´iv©e
 
	$š™AµWidg‘
(
CÚ‹xt
 
cÚ‹xt
, [] 
­pWidg‘Ids
) {

84 
fš®
 
RemÙeV›ws
 
v›ws
 = 
Ãw
 
	`RemÙeV›ws
(
cÚ‹xt
.
	`g‘PackageName
(), 
R
.
Ïyout
.
fmwidg‘
);

86 
cu¼’tF»q
 = 
	`g‘In™ŸlF»q
(
cÚ‹xt
);

87 
	`upd©eF»qDi¥Ïy
(
v›ws
);

89 
v›ws
.
	`£tImageV›wResourû
(
R
.
id
.
sw™ch_bu‰Ú
, R.
d¿wabË
.
­pwidg‘_tuº_Ú
);

91 
	`lškBu‰Ús
(
cÚ‹xt
, 
v›ws
);

92 
	`pushUpd©e
(
cÚ‹xt
, 
­pWidg‘Ids
, 
v›ws
);

93 
	}
}

95 
´iv©e
 
	$g‘In™ŸlF»q
(
CÚ‹xt
 
cÚ‹xt
) {

96 
CursÜ
 
cursÜ
 = 
nuÎ
;

97 
Œy
 {

98 
cursÜ
 = 
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(
FMD©aProvid”
.
SAVED_CONTENT_URI
,

99 
SAVED_PROJECTION
, 
nuÎ
,‚ull,‚ull);

100 } 
	`ÿtch
 (
SQL™eDiskIOExû±iÚ
 
e
) {

101 
Log
.
	`i
(
TAG
, "ÚQu”y : " + 
e
.
	`toSŒšg
());

102 ià(
cursÜ
 !ğ
nuÎ
) {

103 
cursÜ
.
	`şo£
();

104 
cursÜ
 = 
nuÎ
;

108 ià(
cursÜ
 =ğ
nuÎ
) {

109 
Log
.
	`i
(
TAG
, "saved_cur is‚ull get data failed");

110  
FMRadio
.
LOW_FREQUENCY
;

113 
äeq
 = 
FMRadio
.
LOW_FREQUENCY
;

114 
cursÜ
.
	`moveToFœ¡
();

115 ià(!
cursÜ
.
	`isAá”La¡
()) {

116 
äeq
 = 
IÁeg”
.
	`·r£IÁ
(
cursÜ
.
	`g‘SŒšg
(1));

119 
cursÜ
.
	`şo£
();

120 
cursÜ
 = 
nuÎ
;

122  
äeq
;

123 
	}
}

128 
	$nÙifyChªge
(
FMRadioS”viû
 
£rviû
, 
SŒšg
 
wh©
) {

129 ià(!
	`hasIn¡ªûs
(
£rviû
)) {

133 
fš®
 
RemÙeV›ws
 
v›ws
 = 
Ãw
 
	`RemÙeV›ws
(
£rviû
.
	`g‘PackageName
(), 
R
.
Ïyout
.
fmwidg‘
);

134 ià(
wh©
.
	`equ®s
(
FM_OPEN_FAILED
)) {

135 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
¡©us_‹xtv›w
,

136 
£rviû
.
	`g‘SŒšg
(
R
.
¡ršg
.
£rviû_¡¬t_”rÜ_msg
));

137 } ià(
wh©
.
	`equ®s
(
FM_LAUNCHING
)) {

138 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
¡©us_‹xtv›w
,

139 
£rviû
.
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_wa™šg_fÜ_pow”_Ú
));

141 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
¡©us_‹xtv›w
, "else");

143 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
¡©us_‹xtv›w
, "none");

145 
	`³rfÜmUpd©e
(
£rviû
, 
nuÎ
, 
wh©
);

146 
	}
}

148 
´iv©e
 
	$pushUpd©e
(
CÚ‹xt
 
cÚ‹xt
, [] 
­pWidg‘Ids
, 
RemÙeV›ws
 
v›ws
) {

152 
fš®
 
AµWidg‘Mªag”
 
gm
 = AµWidg‘Mªag”.
	`g‘In¡ªû
(
cÚ‹xt
);

153 ià(
­pWidg‘Ids
 !ğ
nuÎ
) {

154 
gm
.
	`upd©eAµWidg‘
(
­pWidg‘Ids
, 
v›ws
);

156 
gm
.
	`upd©eAµWidg‘
(
Ãw
 
	`CompÚ’tName
(
cÚ‹xt
, 
this
.
	`g‘CÏss
()), 
v›ws
);

158 
	}
}

164 
´iv©e
 
boŞ—n
 
	$hasIn¡ªûs
(
CÚ‹xt
 
cÚ‹xt
) {

165 
AµWidg‘Mªag”
 
­pWidg‘Mªag”
 = AµWidg‘Mªag”.
	`g‘In¡ªû
(
cÚ‹xt
);

166 [] 
­pWidg‘Ids
 = 
­pWidg‘Mªag”
.
	`g‘AµWidg‘Ids
(
Ãw
 
	`CompÚ’tName
(
cÚ‹xt
, 
this


167 .
	`g‘CÏss
()));

168  (
­pWidg‘Ids
.
Ëngth
 > 0);

169 
	}
}

171 
´iv©e
 
	$upd©eF»qDi¥Ïy
(
RemÙeV›ws
 
v›ws
) {

172 
äeqNum
 = (è
cu¼’tF»q
 / 
FREQ_UINT
;

174 
Decim®FÜm©
 
df
 = (Decim®FÜm©è
Numb”FÜm©
.
	`g‘In¡ªû
(
LoÿË
.
ENGLISH
);

175 
df
.
	`­¶yP©‹º
("0.0");

177 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
chªÃl_‹xtv›w
, 
df
.
	`fÜm©
(
äeqNum
));

178 
	}
}

183 
	$³rfÜmUpd©e
(
FMRadioS”viû
 
£rviû
, [] 
­pWidg‘Ids
) {

184 
	`³rfÜmUpd©e
(
£rviû
, 
­pWidg‘Ids
, 
nuÎ
);

185 
	}
}

187 
´iv©e
 
	$³rfÜmUpd©e
(
FMRadioS”viû
 
£rviû
, [] 
­pWidg‘Ids
, 
SŒšg
 
nÙifiÿtiÚ
) {

188 
fš®
 
RemÙeV›ws
 
v›ws
 = 
Ãw
 
	`RemÙeV›ws
(
£rviû
.
	`g‘PackageName
(), 
R
.
Ïyout
.
fmwidg‘
);

190 
äeq
 = 
£rviû
.
	`g‘FMF»q
();

191 ià(
FMRadio
.
	`checkFMF»q
(
äeq
)) {

192 
cu¼’tF»q
 = 
äeq
;

193 
	`upd©eF»qDi¥Ïy
(
v›ws
);

199 
SŒšg
 
¡©usText
 = "";

200 ià(
nÙifiÿtiÚ
 !ğ
nuÎ
) {

201 ià(
nÙifiÿtiÚ
.
	`equ®s
(
FM_OPEN_FAILED
)) {

202 
¡©usText
 = 
£rviû
.
	`g‘SŒšg
(
R
.
¡ršg
.
£rviû_¡¬t_”rÜ_msg
);

203 } ià(
nÙifiÿtiÚ
.
	`equ®s
(
FM_LAUNCHING
)) {

204 
¡©usText
 = 
£rviû
.
	`g‘SŒšg
(
R
.
¡ršg
.
fm¿dio_wa™šg_fÜ_pow”_Ú
);

208 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
¡©us_‹xtv›w
, 
¡©usText
);

210 
fš®
 
£rviûS‹
 = 
£rviû
.
	`g‘S‹
();

211 ià(
£rviûS‹
 =ğ
FM_SERVICE_INIT
 || s”viûS‹ =ğ
FM_SERVICE_ON
) {

212 
v›ws
.
	`£tImageV›wResourû
(
R
.
id
.
sw™ch_bu‰Ú
, R.
d¿wabË
.
­pwidg‘_tuº_off
);

214 
v›ws
.
	`£tImageV›wResourû
(
R
.
id
.
sw™ch_bu‰Ú
, R.
d¿wabË
.
­pwidg‘_tuº_Ú
);

218 
	`lškBu‰Ús
(
£rviû
, 
v›ws
);

220 
	`pushUpd©e
(
£rviû
, 
­pWidg‘Ids
, 
v›ws
);

221 
	}
}

226 
´iv©e
 
	$lškBu‰Ús
(
CÚ‹xt
 
cÚ‹xt
, 
RemÙeV›ws
 
v›ws
) {

227 
IÁ’t
 
š‹Á
;

228 
P’dšgIÁ’t
 
³ndšgIÁ’t
;

230 
fš®
 
CompÚ’tName
 
£rviûName
 = 
Ãw
 
	`CompÚ’tName
(
cÚ‹xt
, 
FMRadioS”viû
.
şass
);

233 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FMRadioS”viû
.
FM_PREV_CHANNEL
);

234 
š‹Á
.
	`£tCompÚ’t
(
£rviûName
);

235 
³ndšgIÁ’t
 = 
P’dšgIÁ’t
.
	`g‘S”viû
(
cÚ‹xt
, 0, 
š‹Á
, 0);

236 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
´evious_chªÃl
, 
³ndšgIÁ’t
);

239 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
FMRadio
.
şass
);

240 
³ndšgIÁ’t
 = 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 0, 
š‹Á
, 0);

241 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
chªÃl_‹xtv›w
, 
³ndšgIÁ’t
);

244 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FMRadioS”viû
.
FM_NEXT_CHANNEL
);

245 
š‹Á
.
	`£tCompÚ’t
(
£rviûName
);

246 
³ndšgIÁ’t
 = 
P’dšgIÁ’t
.
	`g‘S”viû
(
cÚ‹xt
, 0, 
š‹Á
, 0);

247 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
Ãxt_chªÃl
, 
³ndšgIÁ’t
);

250 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FMRadioS”viû
.
FM_TOGGLE_ONOFF
);

251 
š‹Á
.
	`£tCompÚ’t
(
£rviûName
);

252 
š‹Á
.
	`putExŒa
("äeq", 
cu¼’tF»q
);

253 
³ndšgIÁ’t
 = 
P’dšgIÁ’t
.
	`g‘S”viû
(
cÚ‹xt
, 0, 
š‹Á
, 0);

254 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
sw™ch_bu‰Ú
, 
³ndšgIÁ’t
);

255 
	}
}

	@src/com/pekall/fmradio/FMRadioInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

24 
public
 
š‹rçû
 
	gFMRadioIÁ”çû
 {

29 
public
 
fš®
 
	gFMRADIO_SEEK_BACKWARD
 = 0;

34 
public
 
fš®
 
	gFMRADIO_SEEK_FORWARD
 = 1;

41 
public
 
boŞ—n
 
pow”OnCh
();

48 
public
 
boŞ—n
 
pow”OffCh
();

55 
public
 
boŞ—n
 
İ’FMRadio
();

62 
public
 
boŞ—n
 
şo£FMRadio
();

69 
public
 
boŞ—n
 
İ’FMRadioTx
();

76 
public
 
boŞ—n
 
isMu‹FM
();

84 
public
 
boŞ—n
 
£tFMMu‹
(
mode
);

91 
public
 
boŞ—n
 
g‘FMF»q
();

99 
public
 
boŞ—n
 
£tFMF»q
(
äeq
);

106 
public
 
boŞ—n
 
£tRdsC®lback
(
¡¬t
);

117 
public
 
boŞ—n
 
£ekFM
(
¡¬tF»q
, 
dœeùiÚ
);

125 
public
 
boŞ—n
 
¡İS“kFM
();

133 @
D•»ÿ‹d


134 
public
 
boŞ—n
 
g‘FMVŞume
();

143 @
D•»ÿ‹d


144 
public
 
boŞ—n
 
£tFMVŞume
(
vŞume
);

152 @
D•»ÿ‹d


153 
public
 
boŞ—n
 
g‘FMRssiLev–
();

161 @
D•»ÿ‹d


162 
public
 
boŞ—n
 
£tFMRssiTh»shŞd
(
th»shŞd
);

169 
public
 
boŞ—n
 
’abËRds
();

176 
public
 
boŞ—n
 
di§bËRds
();

184 
public
 
boŞ—n
 
£tAÁ’Ç
(
ty³
);

189 
public
 
de¡roy
();

195 
public
 
£tResuÉHªdËr
(
HªdËr
 
hªdËr
);

200 
public
 
š‹rçû
 
	gOnCmdDÚeLi¡’”
 {

204 
public
 
fš®
 
	gFM_STATUS_SUCCESS
 = 0;

209 
public
 
fš®
 
	gFM_STATUS_FAILED
 = 1;

214 
public
 
fš®
 
	gFM_CMD_NONE
 = -1;

215 
public
 
fš®
 
	gFM_CMD_POWERON
 = 0;

216 
public
 
fš®
 
	gFM_CMD_POWEROFF
 = 1;

217 
public
 
fš®
 
	gFM_CMD_OPEN
 = 2;

218 
public
 
fš®
 
	gFM_CMD_CLOSE
 = 3;

219 
public
 
fš®
 
	gFM_CMD_GET_BAND
 = 4;

220 
public
 
fš®
 
	gFM_CMD_SET_BAND
 = 5;

221 
public
 
fš®
 
	gFM_CMD_GET_AUDIO_MODE
 = 6;

222 
public
 
fš®
 
	gFM_CMD_SET_AUDIO_MODE
 = 7;

223 
public
 
fš®
 
	gFM_CMD_IS_MUTE
 = 8;

224 
public
 
fš®
 
	gFM_CMD_SET_MUTE
 = 9;

225 
public
 
fš®
 
	gFM_CMD_GET_FREQ
 = 10;

226 
public
 
fš®
 
	gFM_CMD_SET_FREQ
 = 11;

227 
public
 
fš®
 
	gFM_CMD_SEEK
 = 12;

228 
public
 
fš®
 
	gFM_CMD_STOP_SEEK
 = 13;

229 
public
 
fš®
 
	gFM_CMD_GET_VOLUME
 = 14;

230 
public
 
fš®
 
	gFM_CMD_SET_VOLUME
 = 15;

231 
public
 
fš®
 
	gFM_CURRENT_RSSI
 = 16;

232 
public
 
fš®
 
	gFM_SET_RSSI_THRESHOLD
 = 17;

233 
public
 
fš®
 
	gFM_SET_DEEMPHASIS_FILTER
 = 18;

234 
public
 
fš®
 
	gFM_CMD_TX_ON
 = 19;

235 
public
 
fš®
 
	gFM_CMD_SEND_RDS_STRING
 = 20;

236 
public
 
fš®
 
	gFM_CMD_SET_OUTPUT_MODE
 = 21;

237 
public
 
fš®
 
	gFM_CMD_SEND_RDS_RAW_DATA
 = 22;

247 
ÚCmdDÚe
(
wh©
, 
¡©us
, 
Objeù
 
v®ue
);

	@src/com/pekall/fmradio/FMRadioNativeInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

20 
impÜt
 
	gªdroid
.
	gos
.
	gLoİ”
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

22 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

24 
impÜt
 
	gjava
.
	gÏng
.
	g»f
.
	gW—kReã»nû
;

29 
public
 cÏs 
	cFMRadioN©iveIÁ”çû
 
im¶em’ts
 
	mFMRadioIÁ”çû
 {

30 
´iv©e
 
fš®
 
SŒšg
 
	mTAG
 = "FMRadioNativeInterface";

33 
	mSy¡em
.
lßdLib¿ry
("fm_jni");

39 
public
 
	$FMRadioN©iveIÁ”çû
(
FMRadioS”viû
 
£rviû
) {

40 
Loİ”
 
loİ”
;

41 ià((
loİ”
 = 
Loİ”
.
	`myLoİ”
()è!ğ
nuÎ
) {

42 
Log
.
	`d
(
TAG
, "FMRadioNativeInterface Looper = Looper.myLooper()!");

43 
mEv’tHªdËr
 = 
Ãw
 
	`Ev’tHªdËr
(
this
, 
loİ”
);

44 } ià((
loİ”
 = 
Loİ”
.
	`g‘MašLoİ”
()è!ğ
nuÎ
) {

45 
mEv’tHªdËr
 = 
Ãw
 
	`Ev’tHªdËr
(
this
, 
loİ”
);

47 
mEv’tHªdËr
 = 
nuÎ
;

50 
	`fm¿dio_Çtive_£tup
(
Ãw
 
W—kReã»nû
<
FMRadioN©iveIÁ”çû
>(
this
));

52 
mOnCmdDÚeLi¡’”
 = 
£rviû
.
	`g‘CommªdDÚeLi¡’”
();

53 
	}
}

58 
public
 
boŞ—n
 
	$pow”OnCh
() {

59  
	`ÇtivePow”OnCh
();

60 
	}
}

65 
public
 
boŞ—n
 
	$pow”OffCh
() {

66  
	`ÇtivePow”OffCh
();

67 
	}
}

72 
public
 
boŞ—n
 
	$İ’FMRadio
() {

73  
	`ÇtiveO³nFMRadio
();

74 
	}
}

79 
public
 
boŞ—n
 
	$şo£FMRadio
() {

80  
	`ÇtiveClo£FMRadio
();

81 
	}
}

86 
public
 
boŞ—n
 
	$İ’FMRadioTx
() {

87  
	`ÇtiveO³nFMRadioTx
();

88 
	}
}

93 
public
 
boŞ—n
 
	$isMu‹FM
() {

94  
	`ÇtiveIsMu‹FM
();

95 
	}
}

100 
public
 
boŞ—n
 
	$£tFMMu‹
(
mode
) {

101  
	`ÇtiveS‘FMMu‹
(
mode
);

102 
	}
}

107 
public
 
boŞ—n
 
	$g‘FMF»q
() {

108  
	`ÇtiveG‘FMF»q
();

109 
	}
}

114 
public
 
boŞ—n
 
	$£tFMF»q
(
äeq
) {

115  
	`ÇtiveS‘FMF»q
(
äeq
);

116 
	}
}

121 
public
 
boŞ—n
 
	$£tRdsC®lback
(
¡¬t
) {

122  
	`ÇtiveS‘RdsC®lback
(
¡¬t
);

123 
	}
}

128 
public
 
boŞ—n
 
	$£ekFM
(
¡¬tF»q
, 
dœeùiÚ
) {

129  
	`ÇtiveS“kFM
(
¡¬tF»q
, 
dœeùiÚ
);

130 
	}
}

135 
public
 
boŞ—n
 
	$¡İS“kFM
() {

136  
	`ÇtiveStİS“kFM
();

137 
	}
}

142 
public
 
boŞ—n
 
	$g‘FMVŞume
() {

143  
	`ÇtiveG‘FMVŞume
();

144 
	}
}

149 
public
 
boŞ—n
 
	$£tFMVŞume
(
vŞume
) {

150  
	`ÇtiveS‘FMVŞume
(
vŞume
);

151 
	}
}

156 
public
 
boŞ—n
 
	$g‘FMRssiLev–
() {

157  
	`ÇtiveG‘FMRssiLev–
();

158 
	}
}

163 
public
 
boŞ—n
 
	$£tFMRssiTh»shŞd
(
th»shŞd
) {

164  
	`ÇtiveS‘FMRssiTh»shŞd
(
th»shŞd
);

165 
	}
}

170 
public
 
boŞ—n
 
	$’abËRds
() {

171  
	`ÇtiveEÇbËRds
();

172 
	}
}

177 
public
 
boŞ—n
 
	$di§bËRds
() {

178  
	`ÇtiveDi§bËRds
();

179 
	}
}

184 
public
 
boŞ—n
 
	$£tAÁ’Ç
(
ty³
) {

185  
	`ÇtiveS‘AÁ’Ç
(
ty³
);

186 
	}
}

191 
public
 
	$de¡roy
() {

192 
	`fm¿dio_Çtive_fš®ize
();

193 
	}
}

195 
public
 
Çtive
 
boŞ—n
 
ÇtivePow”OnCh
();

197 
public
 
Çtive
 
boŞ—n
 
ÇtivePow”OffCh
();

199 
public
 
Çtive
 
boŞ—n
 
ÇtiveO³nFMRadio
();

201 
public
 
Çtive
 
boŞ—n
 
ÇtiveClo£FMRadio
();

203 
public
 
Çtive
 
boŞ—n
 
ÇtiveO³nFMRadioTx
();

205 
public
 
Çtive
 
boŞ—n
 
ÇtiveG‘FMBªd
();

207 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMBªd
(
bªd
);

209 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘EmphasisF‹r
(
deEmphasis
);

211 
public
 
Çtive
 
boŞ—n
 
ÇtiveG‘FMAudioMode
();

213 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMAudioMode
(
mode
);

215 
public
 
Çtive
 
boŞ—n
 
ÇtiveIsMu‹FM
();

217 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMMu‹
(
mode
);

219 
public
 
Çtive
 
boŞ—n
 
ÇtiveG‘FMF»q
();

221 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMF»q
(
äeq
);

223 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMChªÃl
(
äeq
);

225 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘RdsC®lback
(
¡¬t
);

227 
public
 
Çtive
 
boŞ—n
 
ÇtiveS“kFM
(
¡¬tF»q
, 
dœeùiÚ
);

229 
public
 
Çtive
 
boŞ—n
 
ÇtiveStİS“kFM
();

231 
public
 
Çtive
 
boŞ—n
 
ÇtiveG‘FMVŞume
();

233 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMVŞume
(
vŞume
);

235 
public
 
Çtive
 
boŞ—n
 
ÇtiveG‘FMRssiLev–
();

237 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘FMRssiTh»shŞd
(
th»shŞd
);

239 
public
 
Çtive
 
boŞ—n
 
ÇtiveEÇbËRds
();

241 
public
 
Çtive
 
boŞ—n
 
ÇtiveDi§bËRds
();

243 
public
 
Çtive
 
boŞ—n
 
ÇtiveS‘AÁ’Ç
(
ty³
);

245 
´iv©e
 
Çtive
 
fm¿dio_Çtive_£tup
(
Objeù
 
fm¿dio_this
);

247 
´iv©e
 
Çtive
 
fm¿dio_Çtive_fš®ize
();

250 
´iv©e
 
	$po¡Ev’tFromN©ive
(
Objeù
 
fm¿dio_»f
, 
cmdid
,

251 
cmd»suÉ
, 
fm¡©us
, 
fmv®ue
) {

252 
FMRadioN©iveIÁ”çû
 
fmsy¡em
 = (FMRadioN©iveIÁ”çûè((
W—kReã»nû
<?>è
fm¿dio_»f
)

253 .
	`g‘
();

254 ià(
fmsy¡em
 =ğ
nuÎ
) {

258 ià(
fmsy¡em
.
mEv’tHªdËr
 !ğ
nuÎ
) {

259 
Mes§ge
 
msg
 = 
fmsy¡em
.
mEv’tHªdËr
.
	`obšMes§ge
(
cmd»suÉ
,

260 
cmdid
, 
fm¡©us
, 
fmv®ue
);

261 
fmsy¡em
.
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

263 
	}
}

266 
´iv©e
 
	$po¡RdsSŒšgFromN©ive
(
Objeù
 
fm¿dio_»f
, 
by‹
[] 
rds
,

267 
ty³
) {

268 
FMRadioN©iveIÁ”çû
 
fmsy¡em
 = (FMRadioN©iveIÁ”çûè((
W—kReã»nû
<?>è
fm¿dio_»f
)

269 .
	`g‘
();

270 ià(
fmsy¡em
 =ğ
nuÎ
 || fmsy¡em.
mEv’tHªdËr
 =ğnuÎ || 
rds
 ==‚ull) {

274 
Mes§ge
 
msg
 = 
fmsy¡em
.
mEv’tHªdËr
.
	`obšMes§ge
(

275 
Ev’tHªdËr
.
FM_EVENT_CMD_RDS_STRING
,

276 
OnCmdDÚeLi¡’”
.
FM_CMD_SEND_RDS_STRING
, 
ty³
, 
rds
);

277 
fmsy¡em
.
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

278 
	}
}

281 
´iv©e
 
	$po¡RdsRawD©aFromN©ive
(
Objeù
 
fm¿dio_»f
, 
by‹
[] 
¿w
,

282 
Ën
) {

283 
FMRadioN©iveIÁ”çû
 
fmsy¡em
 = (FMRadioN©iveIÁ”çûè((
W—kReã»nû
<?>è
fm¿dio_»f
)

284 .
	`g‘
();

285 ià(
¿w
 =ğ
nuÎ
 || 
fmsy¡em
 =ğnuÎ || fmsy¡em.
mEv’tHªdËr
 ==‚ull) {

289 
Mes§ge
 
msg
 = 
fmsy¡em
.
mEv’tHªdËr
.
	`obšMes§ge
(

290 
Ev’tHªdËr
.
FM_EVENT_CMD_RDS_RAW_DATA
,

291 
OnCmdDÚeLi¡’”
.
FM_CMD_SEND_RDS_RAW_DATA
, 
Ën
, 
¿w
);

292 
fmsy¡em
.
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

293 
	}
}

295 
´iv©e
 
HªdËr
 
	gmEv’tHªdËr
;

296 
´iv©e
 
	gmN©iveCÚ‹xt
;

298 
´iv©e
 
fš®
 
OnCmdDÚeLi¡’”
 
	gmOnCmdDÚeLi¡’”
;

300 
´iv©e
 şas 
	cEv’tHªdËr
 
ex‹nds
 
	gHªdËr
 {

301 
´iv©e
 
FMRadioN©iveIÁ”çû
 
	gmFMRadioSy¡em
;

303 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_DONE
 = 0;

304 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_RDS_STRING
 = 2;

305 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_RDS_RAW_DATA
 = 3;

307 
public
 
Ev’tHªdËr
(
FMRadioN©iveIÁ”çû
 
fm
, 
Loİ”
 
loİ”
) {

308 
su³r
(
loİ”
);

309 
	gmFMRadioSy¡em
 = 
fm
;

312 @
Ov”ride


313 
public
 
hªdËMes§ge
(
Mes§ge
 
msg
) {

314 ià(
	gmFMRadioSy¡em
.
	gmN©iveCÚ‹xt
 == 0) {

315 
Log
.
w
(
TAG
, "FMRadioCore went‡way with unhandlerƒvents !");

318 ià(
	gmFMRadioSy¡em
.
	gmOnCmdDÚeLi¡’”
 =ğ
nuÎ
) {

319 
Log
.
w
(
TAG
, "Listener‚ull,„eturn");

322 
	gmsg
.
	gwh©
) {

323 
	gFM_EVENT_CMD_DONE
:

324 
FM_EVENT_CMD_RDS_STRING
:

325 
FM_EVENT_CMD_RDS_RAW_DATA
:

326 
Log
.
i
(
TAG
, "hªdËMes§ge: " + 
msg
.
wh©
);

327 
	gmFMRadioSy¡em
.
	gmOnCmdDÚeLi¡’”
.
ÚCmdDÚe
(
msg
.
¬g1
, msg.
¬g2
,

328 
msg
.
obj
);

331 
Log
.
e
(
TAG
, "UnknowÀmes§gty³ " + 
msg
.
wh©
);

340 @
Ov”ride


341 
public
 
	$£tResuÉHªdËr
(
HªdËr
 
hªdËr
) {

342 
mEv’tHªdËr
 = 
hªdËr
;

343 
	}
}

	@src/com/pekall/fmradio/FMRadioService.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	g­p
.
	gNÙifiÿtiÚ
;

20 
impÜt
 
	gªdroid
.
	g­p
.
	gP’dšgIÁ’t
;

21 
impÜt
 
	gªdroid
.
	g­p
.
	gS”viû
;

22 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gBrßdÿ¡Reûiv”
;

24 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

25 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

26 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’tF‹r
;

27 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

28 
impÜt
 
	gªdroid
.
	gos
.
	gIBšd”
;

29 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

30 
impÜt
 
	gªdroid
.
	gos
.
	gRemÙeC®lbackLi¡
;

31 
impÜt
 
	gªdroid
.
	gos
.
	gRemÙeExû±iÚ
;

32 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

33 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

39 
public
 cÏs 
	cFMRadioS”viû
 
ex‹nds
 
	mS”viû
 {

40 
´iv©e
 
fš®
 
SŒšg
 
	mTAG
 = "FMRadioService";

45 
fš®
 
SŒšg
 
	mFM_RDS_STRING
 = "com.pekall.fmradio.rds.string";

50 
fš®
 
SŒšg
 
	mFM_CLOSED
 = "com.pekall.fmradio.closed";

55 
fš®
 
SŒšg
 
	mFM_APPWIDGET_UPDATE
 = "com.pekall.fmradio.appwidgetupdate";

56 
fš®
 
SŒšg
 
	mFM_TOGGLE_ONOFF
 = "com.pekall.fmradio.toggleonoff";

57 
fš®
 
SŒšg
 
	mFM_PREV_CHANNEL
 = "com.pekall.fmradio.prevchannel";

58 
fš®
 
SŒšg
 
	mFM_NEXT_CHANNEL
 = "com.pekall.fmradio.nextchannel";

63 
fš®
 
SŒšg
 
	mFM_OPEN_FAILED
 = "com.pekall.fmradio.openfailed";

68 
fš®
 
SŒšg
 
	mFM_LAUNCHING
 = "com.pekall.fmradio.launching";

73 
fš®
 
SŒšg
 
	mSERVICE_CMD
 = "com.pekall.fmradio.servicecommand";

74 
fš®
 
SŒšg
 
	mCMD_NAME
 = "command";

75 
fš®
 
SŒšg
 
	mCMD_SEEK
 = "command.seek";

80 
public
 
fš®
 
	mFM_SERVICE_NONE
 = -1;

81 
public
 
fš®
 
	mFM_SERVICE_INIT
 = 0;

82 
public
 
fš®
 
	mFM_SERVICE_OPENED
 = 1;

83 
public
 
fš®
 
	mFM_SERVICE_ON
 = 2;

84 
public
 
fš®
 
	mFM_SERVICE_EXITING
 = 3;

85 
public
 
fš®
 
	mFM_SERVICE_TX_INIT
 = 4;

86 
public
 
fš®
 
	mFM_SERVICE_TX_ON
 = 5;

87 
´iv©e
 
	mmFMS”viûS‹
 = 
FM_SERVICE_NONE
;

89 
´iv©e
 
	mmS”viûS¹Id
 = -1;

90 
´iv©e
 
	mmCu¼’tF»q
 = -1;

92 
´iv©e
 
FMRadioIÁ”çû
 
	mmFMRadioIÁ”çû
 = 
nuÎ
;

93 
´iv©e
 
FMAudioIÁ”çû
 
	mmAudioIÁ”çû
 = 
nuÎ
;

95 
´iv©e
 
FMRadioAµWidg‘Provid”
 
	mmAµWidg‘Provid”
 =

96 
FMRadioAµWidg‘Provid”
.
g‘In¡ªû
();

98 
´iv©e
 
fš®
 
	mFM_CB_OPEN_RX
 = 0;

99 
´iv©e
 
fš®
 
	mFM_CB_OPEN_TX
 = 1;

100 
´iv©e
 
fš®
 
	mFM_CB_SEEK_CHN
 = 2;

101 
´iv©e
 
fš®
 
	mFM_CB_SET_FREQ
 = 3;

106 
´iv©e
 
Brßdÿ¡Reûiv”
 
	mmSdC¬dLi¡’”
 = 
nuÎ
;

108 
´iv©e
 
	$»gi¡”SdC¬dLi¡’”
() {

109 ià(
mSdC¬dLi¡’”
 !ğ
nuÎ
) {

112 
mSdC¬dLi¡’”
 = 
Ãw
 
	`Brßdÿ¡Reûiv”
() {

113 
public
 
	`ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

114 
SŒšg
 
aùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

115 ià(
aùiÚ
 =ğ
nuÎ
) {

118 
Log
.
	`i
(
TAG
, "Reûived iÁ’t: " + 
aùiÚ
);

119 ià(
aùiÚ
.
	`equ®s
(
IÁ’t
.
ACTION_MEDIA_UNMOUNTED
)) {

120 
IÁ’t
 
Stİš‹Á
 = 
Ãw
 
	`IÁ’t
(

122 
	`£ndBrßdÿ¡
(
Stİš‹Á
);

127 
IÁ’tF‹r
 
iF‹r
 = 
Ãw
 
	`IÁ’tF‹r
();

128 
iF‹r
.
	`addAùiÚ
(
IÁ’t
.
ACTION_MEDIA_UNMOUNTED
);

129 
iF‹r
.
	`addD©aScheme
("file");

130 
	`»gi¡”Reûiv”
(
mSdC¬dLi¡’”
, 
iF‹r
);

133 
´iv©e
 
Brßdÿ¡Reûiv”
 
mReûiv”
 = 
nuÎ
;

135 
´iv©e
 
	$»gi¡”Brßdÿ¡Li¡’”
() {

136 ià(
mReûiv”
 !ğ
nuÎ
) {

139 
mReûiv”
 = 
Ãw
 
	`Brßdÿ¡Reûiv”
() {

140 
public
 
	`ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

141 
SŒšg
 
aùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

142 ià(
aùiÚ
 =ğ
nuÎ
) {

145 
Log
.
	`i
(
TAG
, "Reûived iÁ’t: " + 
aùiÚ
);

147 ià(
aùiÚ
.
	`equ®s
(
IÁ’t
.
ACTION_HEADSET_PLUG
)) {

148 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

151 
fš®
 
boŞ—n
 
h—d£tPlugš
 = (
š‹Á
.
	`g‘IÁExŒa
("state",

153 
fš®
 
boŞ—n
 
suµÜtInAÁ’Ç
 = 
Ut


154 .
	`suµÜtIÁ”ÇlAÁ’Ç
(
cÚ‹xt
);

156 
Log
.
	`d
(
TAG
, "HEADSET i ¶uged in? : " + 
h—d£tPlugš
);

157 ià(!
suµÜtInAÁ’Ç
 && !
h—d£tPlugš
) {

159 
Tß¡
.
	`makeText
(
FMRadioS”viû
.
this
,

160 
R
.
¡ršg
.
fm¿dio_no_h—d£t_š_li¡’
,

161 
Tß¡
.
LENGTH_LONG
).
	`show
();

163 
IÁ’t
 
Stİš‹Á
 = 
Ãw
 
	`IÁ’t
(

165 
	`£ndBrßdÿ¡
(
Stİš‹Á
);

166 
mFMS”viûS‹
 = 
FM_SERVICE_OPENED
;

168 ià(
mAµWidg‘Provid”
 !ğ
nuÎ
) {

169 
mAµWidg‘Provid”
.
	`nÙifyChªge
(

170 
FMRadioS”viû
.
this
, 
FM_CLOSED
);

173 
	`ş—rFMS”viû
();

174 
	`¡İS–f
(
mS”viûS¹Id
);

175 } ià(
suµÜtInAÁ’Ç
) {

176 
mFMRadioIÁ”çû
.
	`£tAÁ’Ç
(
h—d£tPlugš
 ? 0 : 1);

178 ià(
h—d£tPlugš
) {

179 
mAudioIÁ”çû
.
	`£tAudioOnS³ak”
(
çl£
);

181 
mAudioIÁ”çû
.
	`£tAudioOnS³ak”
(
Œue
);

184 } ià(
aùiÚ
.
	`equ®s
(
FM_APPWIDGET_UPDATE
)) {

188 [] 
­pWidg‘Ids
 = 
š‹Á


189 .
	`g‘IÁA¼ayExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_IDS
);

190 
mAµWidg‘Provid”
.
	`³rfÜmUpd©e
(
FMRadioS”viû
.
this
,

191 
­pWidg‘Ids
);

192 } ià(
aùiÚ
.
	`equ®s
(
IÁ’t
.
ACTION_AIRPLANE_MODE_CHANGED
)) {

193 
fš®
 
boŞ—n
 
isAœ¶ªeModeOn
 = 
š‹Á
.
	`g‘BoŞ—nExŒa
(

194 "¡©e", 
çl£
);

195 ià(
isAœ¶ªeModeOn
) {

196 
Log
.
	`i
(
TAG
, "Aireplane mode isƒnabled.");

197 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_AIRPLANE_MODE_CHANGED
);

199 } ià(
aùiÚ
.
	`equ®s
(
FMAudioIÁ”çû
.
FM_ROUTE_HEADSET
)) {

200 
Log
.
	`i
(
TAG
, "FM_ROUTE_HEADSET");

201 
mAudioIÁ”çû
.
	`£tAudioOnS³ak”
(
çl£
);

202 } ià(
aùiÚ
.
	`equ®s
(
FMAudioIÁ”çû
.
FM_ROUTE_LOUDSPEAKER
)) {

203 
Log
.
	`i
(
TAG
, "FM_ROUTE_LOUDSPEAKER");

204 
mAudioIÁ”çû
.
	`£tAudioOnS³ak”
(
Œue
);

205 } ià(
aùiÚ
.
	`equ®s
(
SERVICE_CMD
)) {

206 
Log
.
	`i
(
TAG
, "Got media keyƒvents");

207 
SŒšg
 
cmd
 = 
š‹Á
.
	`g‘SŒšgExŒa
(
CMD_NAME
);

208 ià(
CMD_SEEK
.
	`equ®s
(
cmd
)) {

209 
Mes§ge
 
msg
 = Message

210 .
	`obš
(
mHªdËr
,

211 
FM_SEEK_CHANNEL
,

212 
IÁeg”
.
	`v®ueOf
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
));

213 
mHªdËr
.
	`£ndMes§ge
(
msg
);

219 
IÁ’tF‹r
 
iF‹r
 = 
Ãw
 
	`IÁ’tF‹r
();

220 
iF‹r
.
	`addAùiÚ
(
IÁ’t
.
ACTION_AIRPLANE_MODE_CHANGED
);

221 
iF‹r
.
	`addAùiÚ
(
IÁ’t
.
ACTION_HEADSET_PLUG
);

222 
iF‹r
.
	`addAùiÚ
(
FMAudioIÁ”çû
.
FM_ROUTE_HEADSET
);

223 
iF‹r
.
	`addAùiÚ
(
FMAudioIÁ”çû
.
FM_ROUTE_LOUDSPEAKER
);

224 
iF‹r
.
	`addAùiÚ
(
FM_APPWIDGET_UPDATE
);

225 
iF‹r
.
	`addAùiÚ
(
FM_TOGGLE_ONOFF
);

226 
iF‹r
.
	`addAùiÚ
(
FM_PREV_CHANNEL
);

227 
iF‹r
.
	`addAùiÚ
(
FM_NEXT_CHANNEL
);

228 
iF‹r
.
	`addAùiÚ
(
SERVICE_CMD
);

230 
	`»gi¡”Reûiv”
(
mReûiv”
, 
iF‹r
);

231 
	}
}

233 
´iv©e
 
	$ş—rTx
() {

234 
mFMS”viûS‹
 = 
FM_SERVICE_EXITING
;

235 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_CLOSE_FIRMWARE
);

236 
	}
}

238 
	$ş—rFMS”viû
() {

239 
Log
.
	`i
(
TAG
, "ş—rFMS”viû: " + 
mFMS”viûS‹
);

242 ià(
FM_SERVICE_TX_INIT
 =ğ
mFMS”viûS‹
) {

243 
Log
.
	`i
(
TAG
, "clearFMService: wait until FM_SERVICE_TX_ON");

244 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_CLEAR_SERVICE
, 100);

247 ià(
FM_SERVICE_TX_ON
 =ğ
mFMS”viûS‹
) {

248 
Log
.
	`i
(
TAG
, "clearFMService: closex");

249 
	`ş—rTx
();

252 ià(
mFMS”viûS‹
 =ğ
FM_SERVICE_EXITING
) {

253 
Log
.
	`i
(
TAG
, "clearFMService same message, ignore");

258 
mFMS”viûS‹
 = 
FM_SERVICE_EXITING
;

259 
	`¡İFÜeground
(
Œue
);

261 
mFMRadioIÁ”çû
.
	`di§bËRds
();

262 
mAudioIÁ”çû
.
	`pow”OffAudio
();

263 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_CLOSE_FIRMWARE
);

264 
	}
}

266 
´iv©e
 
	$showNÙifiÿtiÚ
() {

267 
NÙifiÿtiÚ
 
nÙifiÿtiÚ
 = 
Ãw
 NÙifiÿtiÚ.
	`Bud”
(
this
)

268 .
	`£tSm®lIcÚ
(
R
.
d¿wabË
.
fm_¡©usb¬_icÚ
)

269 .
	`bud
();

271 
IÁ’t
 
i
 = 
Ãw
 
	`IÁ’t
(
this
, 
FMRadio
.
şass
);

272 
i
.
	`addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_SINGLE_TOP
);

273 
P’dšgIÁ’t
 
cÚ‹ÁIÁ’t
 = P’dšgIÁ’t.
	`g‘Aùiv™y
(
this
, 0, 
i
, 0);

275 
nÙifiÿtiÚ
.
æags
 |ğ
NÙifiÿtiÚ
.
FLAG_ONGOING_EVENT
;

276 
nÙifiÿtiÚ
.
	`£tL©e¡Ev’tInfo
(
this
,

277 
	`g‘Text
(
R
.
¡ršg
.
fm¿dio_£rviû_Ïb–
), "", 
cÚ‹ÁIÁ’t
);

282 
	`¡¬tFÜeground
(
R
.
¡ršg
.
fm¿dio_£rviû_Ïb–
, 
nÙifiÿtiÚ
);

283 
	}
}

286 
´iv©e
 
fš®
 
	gFM_POWER_ON_CHIP
 = 1;

287 
´iv©e
 
fš®
 
	gFM_POWER_OFF_CHIP
 = 2;

288 
´iv©e
 
fš®
 
	gFM_OPEN_FIRMWARE
 = 3;

289 
´iv©e
 
fš®
 
	gFM_CLOSE_FIRMWARE
 = 4;

290 
´iv©e
 
fš®
 
	gFM_SEEK_CHANNEL
 = 5;

291 
´iv©e
 
fš®
 
	gFM_SET_RSSI_THRESHOLD
 = 6;

292 
´iv©e
 
fš®
 
	gFM_AIRPLANE_MODE_CHANGED
 = 7;

293 
´iv©e
 
fš®
 
	gFM_POWER_ON_AUDIO
 = 12;

294 
´iv©e
 
fš®
 
	gFM_SET_FREQ
 = 13;

295 
´iv©e
 
fš®
 
	gFM_OPEN_TX
 = 15;

296 
´iv©e
 
fš®
 
	gFM_CLEAR_SERVICE
 = 16;

297 
´iv©e
 
fš®
 
	gFM_DELAY_STOP_SERVICE
 = 17;

298 
´iv©e
 
fš®
 
	gFM_ENABLE_RDS
 = 20;

299 
´iv©e
 
fš®
 
	gFM_DISABLE_RDS
 = 21;

300 
´iv©e
 
fš®
 
	gFM_SET_ANTENNA
 = 23;

301 
´iv©e
 
fš®
 
	gFM_SET_OUTPUT_MODE
 = 24;

304 
´iv©e
 
fš®
 
	gIDLE_DELAY
 = 10000;

306 
´iv©e
 
fš®
 
HªdËr
 
	gmHªdËr
 = 
Ãw
 
	$HªdËr
() {

307 
public
 
	`hªdËMes§ge
(
Mes§ge
 
msg
) {

308 
Log
.
	`i
(
TAG
, "Reûived mes§ge: " + 
msg
.
wh©
);

310 
msg
.
wh©
) {

311 
FM_POWER_ON_CHIP
:

312 
Log
.
	`i
(
TAG
, "Message FM_POWER_ON_CHIP");

313 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
,

314 
FM_LAUNCHING
);

317 ià(
FM_SERVICE_TX_INIT
 =ğ
mFMS”viûS‹


318 || 
FM_SERVICE_TX_ON
 =ğ
mFMS”viûS‹


319 || 
FM_SERVICE_EXITING
 =ğ
mFMS”viûS‹
) {

320 
Log
.
	`i
(
TAG
, "FM_POWER_ON_CHIP: waitx stop");

321 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_POWER_ON_CHIP
, 300);

325 
mFMS”viûS‹
 = 
FM_SERVICE_INIT
;

326 
	`showNÙifiÿtiÚ
();

327 
mFMRadioIÁ”çû
.
	`pow”OnCh
();

330 
FM_POWER_OFF_CHIP
:

331 
Log
.
	`i
(
TAG
, "Message FM_POWER_OFF_CHIP");

332 
mFMRadioIÁ”çû
.
	`pow”OffCh
();

335 
FM_OPEN_FIRMWARE
:

336 
Log
.
	`i
(
TAG
, "Message FM_OPEN_FIRMWARE");

337 
mFMRadioIÁ”çû
.
	`İ’FMRadio
();

340 
FM_OPEN_TX
:

341 
Log
.
	`i
(
TAG
, "Mes§gFM_OPEN_TX: " + 
mFMS”viûS‹
);

343 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_NONE
) {

344 
Log
.
	`i
(
TAG
, "FM_OPEN_TX: wait„x stop");

345 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_OPEN_TX
, 200);

349 
mFMS”viûS‹
 = 
FM_SERVICE_TX_INIT
;

350 
mFMRadioIÁ”çû
.
	`İ’FMRadioTx
();

353 
FM_CLOSE_FIRMWARE
:

354 
Log
.
	`i
(
TAG
, "Message FM_CLOSE_FIRMWARE");

355 
mFMRadioIÁ”çû
.
	`şo£FMRadio
();

358 
FM_CLEAR_SERVICE
:

359 
Log
.
	`i
(
TAG
, "Message FM_CLEAR_SERVICE");

360 
	`ş—rFMS”viû
();

363 
FM_SET_FREQ
:

364 
Log
.
	`i
(
TAG
, "Message FM_SET_FREQ");

365 
mFMRadioIÁ”çû
.
	`£tFMF»q
(
CÚ‹ÁH–³r


366 .
	`lßdCu¼’tF»q
(
FMRadioS”viû
.
this
));

369 
FM_SET_OUTPUT_MODE
:

370 
Log
.
	`i
(
TAG
, "Message FM_CMD_SET_OUTPUT_MODE: ");

373 
FM_POWER_ON_AUDIO
:

374 
Log
.
	`i
(
TAG
, "Message FM_POWER_ON_AUDIO");

375 
mAudioIÁ”çû
.
	`pow”OnAudio
();

378 
FM_SEEK_CHANNEL
:

379 
Log
.
	`i
(
TAG
, "Message ACTION_SEEK_CHANNEL");

380 
mFMRadioIÁ”çû
.
	`£ekFM
(
mCu¼’tF»q
, (
IÁeg”
è
msg
.
obj
);

383 
FM_SET_RSSI_THRESHOLD
:

384 
Log
.
	`i
(
TAG
, "Message ACTION_SET_RSSI_THRESHOLD");

385 
mFMRadioIÁ”çû
.
	`£tFMRssiTh»shŞd
((
IÁeg”
è
msg
.
obj
);

388 
FM_AIRPLANE_MODE_CHANGED
: {

389 
Log
.
	`i
(
TAG
, "Message FM_AIRPLANE_MODE_CHANGED");

390 
Tß¡
 
ts
 = 
nuÎ
;

391 
ts
 = 
Tß¡
.
	`makeText
(
FMRadioS”viû
.
this
,

392 
R
.
¡ršg
.
fm¿dio_aœ¶ªe_mode_’abË_š_li¡’
,

393 
Tß¡
.
LENGTH_LONG
);

394 
ts
.
	`show
();

396 
	`ş—rFMS”viû
();

397 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
("android.intent.action.STOP_FM");

398 
	`£ndBrßdÿ¡
(
š‹Á
);

402 
FM_DELAY_STOP_SERVICE
:

403 
Log
.
	`i
(
TAG
, "Mes§gFM_DELAY_STOP_SERVICE: " + 
mFMS”viûS‹
);

404 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_NONE


405 || 
mHªdËr
.
	`hasMes§ges
(
FM_POWER_ON_CHIP
)

406 || 
mHªdËr
.
	`hasMes§ges
(
FM_OPEN_TX
)) {

407 
Log
.
	`i
(
TAG
, "FM_DELAY_STOP_SERVICE: service‚ot idle");

410 
	`¡İS–f
(
mS”viûS¹Id
);

413 
FM_ENABLE_RDS
: {

414 
Log
.
	`i
(
TAG
, "Message FM_ENABLE_RDS");

415 
mFMRadioIÁ”çû
.
	`’abËRds
();

418 
FM_DISABLE_RDS
: {

419 
Log
.
	`i
(
TAG
, "Message FM_DISABLE_RDS");

420 
mFMRadioIÁ”çû
.
	`di§bËRds
();

423 
FM_SET_ANTENNA
: {

425 ià(
mFMS”viûS‹
 =ğ
FM_SERVICE_ON
) {

426 
Log
.
	`i
(
TAG
, "Message FM_SET_ANTENNA");

427 
mFMRadioIÁ”çû
.
	`£tAÁ’Ç
(
Ut
.
	`isWœedH—d£tOn
() ? 0

433 
Log
.
	`i
(
TAG
, "mHandler handleMessage: fmrdio ignore msg");

437 
	}
};

439 
public
 
	gFMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
 
	$g‘CommªdDÚeLi¡’”
() {

440  
mOnCmdDÚeLi¡’”
;

441 
	}
}

444 
´iv©e
 
fš®
 
	gFMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
 
	gmOnCmdDÚeLi¡’”
 = 
Ãw
 
FMRadioIÁ”çû
.
	$OnCmdDÚeLi¡’”
() {

446 
public
 
	`ÚCmdDÚe
(
wh©
, 
¡©us
, 
Objeù
 
v®ue
) {

447 
Log
.
	`i
(
TAG
, "OnCmdDÚeLi¡’”:" + 
wh©
 + ", stus:" + 
¡©us
);

449 
IÁ’t
 
š‹Á
 = 
nuÎ
;

450 
wh©
) {

451 
FM_CMD_POWERON
:

452 ià(
¡©us
 =ğ
FM_STATUS_SUCCESS
) {

453 
Log
.
	`i
(
TAG
, "Power on chip ok");

454 
mFMS”viûS‹
 = 
FM_SERVICE_OPENED
;

455 
mFMRadioIÁ”çû
.
	`İ’FMRadio
();

457 
Log
.
	`e
(
TAG
, "Power on failed!");

458 
mFMS”viûS‹
 = 
FM_SERVICE_NONE
;

460 
	`ÿÎback2Cl›Á
(
FM_CB_OPEN_RX
, 
çl£
, 
nuÎ
);

461 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
,

462 
FM_OPEN_FAILED
);

463 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_DELAY_STOP_SERVICE
,

464 
IDLE_DELAY
);

468 
FM_CMD_TX_ON
: {

469 
Log
.
	`i
(
TAG
, "O³ÀFM Tx dÚe: " + 
¡©us
);

470 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_TX_INIT
) {

471 
Log
.
	`e
(
TAG
, "FM_CMD_TX_ON s‹ƒ¼Ü: " + 
mFMS”viûS‹
);

475 
boŞ—n
 
r¡
 = (
¡©us
 =ğ
FM_STATUS_SUCCESS
è? 
Œue
 : 
çl£
;

476 ià(
r¡
) {

477 
mFMS”viûS‹
 = 
FM_SERVICE_TX_ON
;

479 
mFMS”viûS‹
 = 
FM_SERVICE_NONE
;

482 
	`ÿÎback2Cl›Á
(
FM_CB_OPEN_TX
, 
r¡
, 
nuÎ
);

486 
FM_CMD_POWEROFF
:

487 
Log
.
	`i
(
TAG
, "Power off chip complete!");

488 
mFMS”viûS‹
 = 
FM_SERVICE_NONE
;

491 
FM_CMD_OPEN
: {

492 
Log
.
	`i
(
TAG
, "İ’ fm com¶‘e: " + 
¡©us
);

493 ià(
¡©us
 =ğ
FM_STATUS_SUCCESS
) {

494 
mFMS”viûS‹
 = 
FM_SERVICE_ON
;

495 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
, "");

497 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_SET_ANTENNA
);

500 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_SET_FREQ
);

501 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_POWER_ON_AUDIO
, 100);

503 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_ENABLE_RDS
, 200);

505 
Log
.
	`i
(
TAG
, "open fm failed");

506 
mFMS”viûS‹
 = 
FM_SERVICE_OPENED
;

507 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_POWER_OFF_CHIP
);

508 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_DELAY_STOP_SERVICE
,

509 
IDLE_DELAY
);

510 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
,

511 
FM_OPEN_FAILED
);

514 
	`ÿÎback2Cl›Á
(
FM_CB_OPEN_RX
, 
¡©us
 =ğ
FM_STATUS_SUCCESS
,

515 
nuÎ
);

519 
FM_CMD_CLOSE
:

520 
Log
.
	`i
(
TAG
, "OnCmdDoneListener : FM_CMD_CLOSE");

521 
mFMS”viûS‹
 = 
FM_SERVICE_OPENED
;

522 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_POWER_OFF_CHIP
);

523 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FM_CLOSED
);

524 
	`£ndBrßdÿ¡
(
š‹Á
);

525 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
, 
FM_CLOSED
);

526 
CÚ‹ÁH–³r


527 .
	`§veCu¼’tF»q
(
FMRadioS”viû
.
this
, 
mCu¼’tF»q
);

530 
FM_CMD_SET_FREQ
: {

531 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_TX_ON


532 && 
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
)

534 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
, "");

536 
Log
.
	`i
(
TAG
, "£ˆäequ’cy,„esuÉ: " + 
¡©us
);

537 
	`ÿÎback2Cl›Á
(
FM_CB_SET_FREQ
, 
¡©us
 =ğ
FM_STATUS_SUCCESS
,

538 
nuÎ
);

541 
FM_CMD_SET_OUTPUT_MODE
: {

542 
Log
.
	`i
(
TAG
, "OnCmdDoneListener : FM_CMD_SET_OUTPUT_MODE");

543 
Mes§ge
 
msg
 = Mes§ge.
	`obš
(
mHªdËr
, 
FM_SET_OUTPUT_MODE
,

544 
IÁeg”
.
	`v®ueOf
(
¡©us
));

545 
mHªdËr
.
	`£ndMes§ge
(
msg
);

548 
FM_CMD_SEEK
: {

549 ià(
¡©us
 =ğ
FM_STATUS_SUCCESS
) {

550 
mCu¼’tF»q
 = 
IÁeg”
.
	`·r£IÁ
(
v®ue
.
	`toSŒšg
());

551 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
, "");

553 
mAµWidg‘Provid”
.
	`nÙifyChªge
(
FMRadioS”viû
.
this
, "");

555 
	`ÿÎback2Cl›Á
(
FM_CB_SEEK_CHN
, 
¡©us
 =ğ
FM_STATUS_SUCCESS
,

556 
IÁeg”
.
	`v®ueOf
(
mCu¼’tF»q
));

560 
FM_CMD_SEND_RDS_STRING
:

561 
Log
.
	`i
(
TAG
, "OnCmdDoneListener, get„ds string: ");

562 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FM_RDS_STRING
);

563 
š‹Á
.
	`putExŒa
("rds", (
by‹
[]è
v®ue
);

564 
š‹Á
.
	`putExŒa
("ty³", 
¡©us
);

565 
	`£ndBrßdÿ¡
(
š‹Á
);

568 
FM_CMD_SEND_RDS_RAW_DATA
:

569 
RDSCÚŒŞËr
.
	`g‘In¡ªû
().
	`­³ndRdsRawD©a
((
by‹
[]è
v®ue
);

573 
Log
.
	`i
(
TAG
, "OnCmdDoneListener : fmrdio default cmd");

574 ià(
¡©us
 =ğ
FM_STATUS_FAILED
) {

575 
Log
.
	`e
(
TAG
, "OnCmdDoneListener, unknownƒrror!");

580 
	}
};

583 
´iv©e
 
fš®
 
	gIFMRadioS”viû
.
Stub
 
	gmBšd”
 = 
Ãw
 
IFMRadioS”viû
.
	$Stub
() {

584 
public
 
	`g‘FMS”viûStus
() {

585 
Log
.
	`i
(
TAG
, "AIDL: g‘FMS”viûStus: " + 
mFMS”viûS‹
);

586  
mFMS”viûS‹
;

589 
public
 
boŞ—n
 
	`İ’FMRadio
() {

590 
Log
.
	`i
(
TAG
, "AIDL: openFMRadio");

591 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_POWER_ON_CHIP
);

592  
Œue
;

595 
public
 
boŞ—n
 
	`şo£FMRadio
() {

596 
Log
.
	`i
(
TAG
, "AIDL: closeFMRadio");

597 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_CLEAR_SERVICE
);

598  
Œue
;

601 
public
 
boŞ—n
 
	`İ’FMRadioTx
() {

602 
Log
.
	`i
(
TAG
, "AIDL: openFMRadioTx");

603 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_OPEN_TX
);

604  
Œue
;

607 
public
 
	`g‘FMF»q
() {

608 
Log
.
	`i
(
TAG
, "AIDL: getFMFreq");

609  
FMRadioS”viû
.
this
.
	`g‘FMF»q
();

612 
public
 
boŞ—n
 
	`£tRdsC®lback
(
¡¬t
) {

613 
Log
.
	`i
(
TAG
, "AIDL: s‘RdsC®lback: " + 
¡¬t
);

614  
mFMRadioIÁ”çû
.
	`£tRdsC®lback
(
¡¬t
);

617 
public
 
boŞ—n
 
	`£tFMF»q
(
äeq
) {

618 
Log
.
	`i
(
TAG
, "AIDL: s‘FMF»q: " + 
äeq
 + ", state:"

619 + 
mFMS”viûS‹
);

620 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON


621 && 
mFMS”viûS‹
 !ğ
FM_SERVICE_TX_ON
) {

622  
çl£
;

624 
mCu¼’tF»q
 = 
äeq
;

625  
mFMRadioIÁ”çû
.
	`£tFMF»q
(
äeq
);

628 
public
 
boŞ—n
 
	`£ekFM
(
dœeùiÚ
) {

629 
Log
.
	`i
(
TAG
, "AIDL: seekFM");

630 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
)

631  
çl£
;

632 
Mes§ge
 
msg
 = Mes§ge.
	`obš
(
mHªdËr
, 
FM_SEEK_CHANNEL
,

633 
IÁeg”
.
	`v®ueOf
(
dœeùiÚ
));

634 
mHªdËr
.
	`£ndMes§ge
(
msg
);

635  
Œue
;

638 @
	`Suµ»ssW¬nšgs
("deprecation")

639 
public
 
boŞ—n
 
	`¡İS“kFM
() {

640 
Log
.
	`w
(
TAG
, "AIDL: stopSeekFM");

641 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

642  
çl£
;

644  
mFMRadioIÁ”çû
.
	`¡İS“kFM
();

647 @
	`Suµ»ssW¬nšgs
("deprecation")

648 
public
 
	`g‘FMVŞume
() {

649 
Log
.
	`i
(
TAG
, "AIDL: getFMVolume");

650 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

653 
mFMRadioIÁ”çû
.
	`g‘FMVŞume
();

657 @
	`Suµ»ssW¬nšgs
("deprecation")

658 
public
 
boŞ—n
 
	`£tFMVŞume
(
vŞume
) {

659 
Log
.
	`i
(
TAG
, "AIDL: setFMVolume");

660 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

661  
çl£
;

663  
mFMRadioIÁ”çû
.
	`£tFMVŞume
(
vŞume
);

666 
public
 
boŞ—n
 
	`isMu‹FM
() {

667 
Log
.
	`i
(
TAG
, "AIDL: isMuteFM");

668 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

669  
çl£
;

671  
mAudioIÁ”çû
.
	`g‘Mu‹
();

674 
public
 
boŞ—n
 
	`£tMu‹
(
mode
) {

675 
Log
.
	`i
(
TAG
, "AIDL: setMute");

676 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

677  
çl£
;

679 
mAudioIÁ”çû
.
	`£tMu‹
(
mode
 == 0);

680  
Œue
;

683 
public
 
	`g‘FMAudioRoutšg
() {

684 
Log
.
	`i
(
TAG
, "AIDL: getFMAudioRouting");

685 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

688  
mAudioIÁ”çû
.
	`g‘AudioP©h
();

691 
public
 
boŞ—n
 
	`£tFMAudioRoutšg
(
mode
) {

692 
Log
.
	`i
(
TAG
, "AIDL: setFMAudioRouting");

693 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

694  
çl£
;

696 
mAudioIÁ”çû
.
	`£tAudioOnS³ak”
(
mode
 =ğ
FMAudioIÁ”çû
.
ROUTE_FM_SPEAKER
);

697  
Œue
;

700 @
	`Suµ»ssW¬nšgs
("deprecation")

701 
public
 
	`g‘FMRssiLev–
() {

702 
Log
.
	`i
(
TAG
, "AIDL: getFMRssiLevel");

703 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

706 
mFMRadioIÁ”çû
.
	`g‘FMRssiLev–
();

710 
public
 
boŞ—n
 
	`£tFMRssiTh»shŞd
(
v®ue
) {

711 
Log
.
	`i
(
TAG
, "AIDL: s‘FMRssiTh»shŞd! v®uğ" + 
v®ue
);

712 ià(
mFMS”viûS‹
 !ğ
FM_SERVICE_ON
) {

713  
çl£
;

715 
Mes§ge
 
msg
 = Mes§ge.
	`obš
(
mHªdËr
, 
FM_SET_RSSI_THRESHOLD
,

716 
IÁeg”
.
	`v®ueOf
(
v®ue
));

717 
mHªdËr
.
	`£ndMes§ge
(
msg
);

718  
Œue
;

721 
public
 
boŞ—n
 
	`’abËRds
() {

722 
Log
.
	`i
(
TAG
, "AIDL:ƒnableRds ");

723 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_ENABLE_RDS
);

724  
Œue
;

727 
public
 
boŞ—n
 
	`di§bËRds
() {

728 
Log
.
	`i
(
TAG
, "AIDL: disableRds ");

729 
mHªdËr
.
	`£ndEm±yMes§ge
(
FM_DISABLE_RDS
);

730  
Œue
;

733 
public
 
	`»gi¡”C®lback
(
IRemÙeS”viûC®lback
 
cb
) {

734 ià(
cb
 !ğ
nuÎ
) {

735 
mC®lbacks
.(
cb
);

739 
public
 
	`uÄegi¡”C®lback
(
IRemÙeS”viûC®lback
 
cb
) {

740 ià(
cb
 !ğ
nuÎ
) {

741 
mC®lbacks
.
	`uÄegi¡”
(
cb
);

744 
	}
};

746 
fš®
 
	gRemÙeC®lbackLi¡
<
	gIRemÙeS”viûC®lback
> 
	gmC®lbacks
 = 
Ãw
 
RemÙeC®lbackLi¡
<
IRemÙeS”viûC®lback
>();

748 
´iv©e
 
	$ÿÎback2Cl›Á
(
ÿÎbackId
, 
boŞ—n
 
»suÉ
, 
Objeù
 
d©a
) {

749 
fš®
 
numb”
 = 
mC®lbacks
.
	`begšBrßdÿ¡
();

750 
i
 = 0; i < 
numb”
; i++) {

751 
Œy
 {

752 
ÿÎbackId
) {

753 
FM_CB_OPEN_RX
: {

754 
mC®lbacks
.
	`g‘Brßdÿ¡I‹m
(
i
).
	`İ’FMRadioC®lBack
(
»suÉ
);

757 
FM_CB_OPEN_TX
: {

758 
mC®lbacks
.
	`g‘Brßdÿ¡I‹m
(
i
)

759 .
	`İ’FMRadioTxC®lBack
(
»suÉ
);

762 
FM_CB_SEEK_CHN
: {

763 
mC®lbacks
.
	`g‘Brßdÿ¡I‹m
(
i
).
	`£ekStiÚC®lback
(
»suÉ
,

764 ((
IÁeg”
è
d©a
).
	`štV®ue
());

767 
FM_CB_SET_FREQ
: {

768 
mC®lbacks
.
	`g‘Brßdÿ¡I‹m
(
i
).
	`£tF»qu’cyC®lback
(
»suÉ
);

774 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

775 
Log
.
	`e
(
TAG
, "", 
e
);

778 
mC®lbacks
.
	`fšishBrßdÿ¡
();

779 
	}
}

781 @
Ov”ride


782 
public
 
IBšd”
 
	$ÚBšd
(
IÁ’t
 
š‹Á
) {

783 
Log
.
	`i
(
TAG
, "onBind() called");

784  
mBšd”
;

785 
	}
}

787 @
Ov”ride


788 
public
 
boŞ—n
 
	$ÚUnbšd
(
IÁ’t
 
š‹Á
) {

789 
Log
.
	`i
(
TAG
, "onUnbind() delay stopSelf()");

793 
mHªdËr
.
	`£ndEm±yMes§geD–ayed
(
FM_DELAY_STOP_SERVICE
, 
IDLE_DELAY
);

795  
çl£
;

796 
	}
}

798 @
Ov”ride


799 
public
 
	$ÚC»©e
() {

800 
Log
.
	`i
(
TAG
, "onCreate()");

801 
su³r
.
	`ÚC»©e
();

803 
mFMS”viûS‹
 = 
FM_SERVICE_NONE
;

804 
mFMRadioIÁ”çû
 = 
FaùÜy
.
	`g‘FMRadioIÁ”çû
(
this
);

805 
	`»gi¡”Brßdÿ¡Li¡’”
();

806 
	`»gi¡”SdC¬dLi¡’”
();

807 
RDSCÚŒŞËr
.
	`g‘In¡ªû
().
	`£tCÚ‹xt
(
this
);

808 
mAudioIÁ”çû
 = 
FaùÜy
.
	`g‘AudioIÁ”çû
(
this
, (
CÚ‹xt
)his);

809 
mAudioIÁ”çû
.
	`»gi¡”MedŸKey
();

810 
	}
}

812 @
Ov”ride


813 
public
 
	$ÚS¹Commªd
(
IÁ’t
 
š‹Á
, 
æags
, 
¡¬tId
) {

814 
mS”viûS¹Id
 = 
¡¬tId
;

816 ià(
š‹Á
 !ğ
nuÎ
) {

817 ià(
mFMS”viûS‹
 =ğ
FM_SERVICE_TX_INIT


818 || 
mFMS”viûS‹
 =ğ
FM_SERVICE_TX_ON
) {

819 
Tß¡
.
	`makeText
(
FMRadioS”viû
.
this
, 
R
.
¡ršg
.
fm¿dio_şo£_tx
,

820 
Tß¡
.
LENGTH_LONG
).
	`show
();

821  
START_STICKY
;

824 
SŒšg
 
aùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

825 ià(
FM_TOGGLE_ONOFF
.
	`equ®s
(
aùiÚ
)) {

826 ià(!
Ut
.
	`suµÜtIÁ”ÇlAÁ’Ç
(
FMRadioS”viû
.
this
)

827 && !
Ut
.
	`isWœedH—d£tOn
()) {

828 
Tß¡
.
	`makeText
(
FMRadioS”viû
.
this
,

829 
R
.
¡ršg
.
fm¿dio_no_h—d£t_š_li¡’
,

830 
Tß¡
.
LENGTH_LONG
).
	`show
();

832 ià(
mFMS”viûS‹
 =ğ
FM_SERVICE_NONE
) {

833 
Œy
 {

834 
mBšd”
.
	`İ’FMRadio
();

835 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

836 
e
.
	`´štSckT¿û
();

839 
Œy
 {

840 
mBšd”
.
	`şo£FMRadio
();

841 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

842 
e
.
	`´štSckT¿û
();

846 } ià(
FM_PREV_CHANNEL
.
	`equ®s
(
aùiÚ
)) {

847 
Œy
 {

848 
mBšd”
.
	`£ekFM
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_BACKWARD
);

849 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

850 
e
.
	`´štSckT¿û
();

852 } ià(
FM_NEXT_CHANNEL
.
	`equ®s
(
aùiÚ
)) {

853 
Œy
 {

854 
mBšd”
.
	`£ekFM
(
FMRadioIÁ”çû
.
FMRADIO_SEEK_FORWARD
);

855 } 
	`ÿtch
 (
RemÙeExû±iÚ
 
e
) {

856 
e
.
	`´štSckT¿û
();

861  
START_STICKY
;

862 
	}
}

864 @
Ov”ride


865 
public
 
	$ÚDe¡roy
() {

866 
Log
.
	`i
(
TAG
, "onDestroy()");

867 
mFMS”viûS‹
 = 
FM_SERVICE_NONE
;

869 ià(
mReûiv”
 !ğ
nuÎ
) {

870 
	`uÄegi¡”Reûiv”
(
mReûiv”
);

871 
mReûiv”
 = 
nuÎ
;

873 ià(
mSdC¬dLi¡’”
 !ğ
nuÎ
) {

874 
	`uÄegi¡”Reûiv”
(
mSdC¬dLi¡’”
);

875 
mSdC¬dLi¡’”
 = 
nuÎ
;

878 
mHªdËr
.
	`»moveC®lbacksAndMes§ges
(
nuÎ
);

880 
mFMRadioIÁ”çû
.
	`de¡roy
();

881 
mAudioIÁ”çû
.
	`uÄegi¡”MedŸKey
();

883 
su³r
.
	`ÚDe¡roy
();

884 
	}
}

890 
public
 
	$g‘FMF»q
() {

891 ià(
mFMS”viûS‹
 =ğ
FM_SERVICE_ON
) {

892 
Log
.
	`i
(
TAG
, "g‘FMF»q: " + 
mCu¼’tF»q
);

893  
mCu¼’tF»q
;

896 
	}
}

902 
public
 
	$g‘S‹
() {

903  
mFMS”viûS‹
;

904 
	}
}

910 
public
 
	$£tS‹
(
¡©e
) {

911 ià(
¡©e
 < 
FM_SERVICE_NONE
 || s‹ > 
FM_SERVICE_TX_ON
) {

912 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
();

914 
mFMS”viûS‹
 = 
¡©e
;

915 
	}
}

	@src/com/pekall/fmradio/FMRadioStubInterface.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

20 
impÜt
 
	gªdroid
.
	gos
.
	gLoİ”
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

22 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

27 
public
 cÏs 
	cFMRadioStubIÁ”çû
 
im¶em’ts
 
	mFMRadioIÁ”çû
 {

28 
´iv©e
 
fš®
 
SŒšg
 
	mTAG
 = "FMRadioStubInterface";

29 
´iv©e
 
fš®
 
	mFM_SEEK_STEP
 = 500;

31 
´iv©e
 
	mmF»q
;

36 
public
 
	$FMRadioStubIÁ”çû
(
FMRadioS”viû
 
£rviû
) {

37 
Log
.
	`d
(
TAG
, "Constructor");

39 
Loİ”
 
loİ”
;

40 ià((
loİ”
 = 
Loİ”
.
	`myLoİ”
()è!ğ
nuÎ
) {

41 
Log
.
	`d
(
TAG
, "FMRadioStubInterface Looper = Looper.myLooper()!");

42 
mEv’tHªdËr
 = 
Ãw
 
	`Ev’tHªdËr
(
this
, 
loİ”
);

43 } ià((
loİ”
 = 
Loİ”
.
	`g‘MašLoİ”
()è!ğ
nuÎ
) {

44 
mEv’tHªdËr
 = 
Ãw
 
	`Ev’tHªdËr
(
this
, 
loİ”
);

46 
mEv’tHªdËr
 = 
nuÎ
;

48 
mOnCmdDÚeLi¡’”
 = 
£rviû
.
	`g‘CommªdDÚeLi¡’”
();

54 
public
 
boŞ—n
 
	$pow”OnCh
() {

55 
Log
.
	`d
(
TAG
, "powerOnChip");

56 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

57 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_POWERON
,

58 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

59 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

60  
Œue
;

61 
	}
}

66 
public
 
boŞ—n
 
	$pow”OffCh
() {

67 
Log
.
	`d
(
TAG
, "powerOffChip");

69 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

70 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_POWEROFF
,

71 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

72 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

73  
Œue
;

74 
	}
}

79 
public
 
boŞ—n
 
	$İ’FMRadio
() {

80 
Log
.
	`d
(
TAG
, "openFMRadio");

82 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

83 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_OPEN
,

84 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

85 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

86  
Œue
;

87 
	}
}

92 
public
 
boŞ—n
 
	$şo£FMRadio
() {

93 
Log
.
	`d
(
TAG
, "closeFMRadio");

95 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

96 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_CLOSE
,

97 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

98 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

99  
Œue
;

100 
	}
}

105 
public
 
boŞ—n
 
	$İ’FMRadioTx
() {

106 
Log
.
	`d
(
TAG
, "openFMRadioTx");

108  
Œue
;

109 
	}
}

114 
public
 
boŞ—n
 
	$isMu‹FM
() {

115 
Log
.
	`d
(
TAG
, "isMuteFM");

117  
Œue
;

118 
	}
}

123 
public
 
boŞ—n
 
	$£tFMMu‹
(
mode
) {

124 
Log
.
	`d
(
TAG
, "£tFMMu‹: " + 
mode
);

125 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

126 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SET_MUTE
,

127 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

128 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

129  
Œue
;

130 
	}
}

135 
public
 
boŞ—n
 
	$g‘FMF»q
() {

136 
Log
.
	`d
(
TAG
, "getFMFreq");

138 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

139 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_GET_FREQ
,

140 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

141 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

142  
Œue
;

143 
	}
}

148 
public
 
boŞ—n
 
	$£tFMF»q
(
äeq
) {

149 
Log
.
	`d
(
TAG
, "£tFMF»q: " + 
äeq
);

151 
mF»q
 = 
äeq
;

152 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

153 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SET_FREQ
,

154 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 0);

155 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

156  
Œue
;

157 
	}
}

162 
public
 
boŞ—n
 
	$£tRdsC®lback
(
¡¬t
) {

163 
Log
.
	`d
(
TAG
, "£tRdsC®lback: " + 
¡¬t
);

165  
Œue
;

166 
	}
}

171 
public
 
boŞ—n
 
	$£ekFM
(
¡¬tF»q
, 
dœeùiÚ
) {

172 
Log
.
	`d
(
TAG
, "£ekFM: " + 
dœeùiÚ
);

174 ià(
dœeùiÚ
 == 0) {

175 
mF»q
 -ğ
FM_SEEK_STEP
;

176 } ià(
dœeùiÚ
 == 1) {

177 
mF»q
 +ğ
FM_SEEK_STEP
;

179 ià(
mF»q
 < 
FMRadio
.
LOW_FREQUENCY
) {

180 
mF»q
 = 
FMRadio
.
LOW_FREQUENCY
;

182 ià(
mF»q
 > 
FMRadio
.
HIGH_FREQUENCY
) {

183 
mF»q
 = 
FMRadio
.
HIGH_FREQUENCY
;

186 
Mes§ge
 
msg
 = 
mEv’tHªdËr
.
	`obšMes§ge
(
Ev’tHªdËr
.
FM_EVENT_CMD_DONE
,

187 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SEEK
,

188 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
, 
mF»q
);

189 
mEv’tHªdËr
.
	`£ndMes§ge
(
msg
);

190  
Œue
;

191 
	}
}

196 
public
 
boŞ—n
 
	$¡İS“kFM
() {

197 
Log
.
	`d
(
TAG
, "stopSeekFM");

199  
Œue
;

200 
	}
}

205 
public
 
boŞ—n
 
	$g‘FMVŞume
() {

206 
Log
.
	`d
(
TAG
, "getFMVolume");

208  
Œue
;

209 
	}
}

214 
public
 
boŞ—n
 
	$£tFMVŞume
(
vŞume
) {

215 
Log
.
	`d
(
TAG
, "£tFMVŞume: " + 
vŞume
);

217  
Œue
;

218 
	}
}

223 
public
 
boŞ—n
 
	$g‘FMRssiLev–
() {

224 
Log
.
	`d
(
TAG
, "getFMRssiLevel");

226  
Œue
;

227 
	}
}

232 
public
 
boŞ—n
 
	$£tFMRssiTh»shŞd
(
th»shŞd
) {

233 
Log
.
	`d
(
TAG
, "£tFMRssiTh»shŞd: " + 
th»shŞd
);

235  
Œue
;

236 
	}
}

241 
public
 
boŞ—n
 
	$’abËRds
() {

242 
Log
.
	`d
(
TAG
, "enableRds");

244  
Œue
;

245 
	}
}

250 
public
 
boŞ—n
 
	$di§bËRds
() {

251 
Log
.
	`d
(
TAG
, "disableRds");

253  
Œue
;

254 
	}
}

259 
public
 
boŞ—n
 
	$£tAÁ’Ç
(
ty³
) {

260 
Log
.
	`d
(
TAG
, "£tAÁ’Ç: " + 
ty³
);

262  
Œue
;

263 
	}
}

268 
public
 
	$de¡roy
() {

269 
Log
.
	`d
(
TAG
, "destroy");

271 
	}
}

274 
´iv©e
 
HªdËr
 
	gmEv’tHªdËr
;

275 
´iv©e
 
fš®
 
OnCmdDÚeLi¡’”
 
	gmOnCmdDÚeLi¡’”
;

278 
´iv©e
 şas 
	cEv’tHªdËr
 
ex‹nds
 
	gHªdËr
 {

279 
´iv©e
 
FMRadioStubIÁ”çû
 
	gmFMRadioSy¡em
;

281 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_DONE
 = 0;

282 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_RDS_STRING
 = 2;

283 
´iv©e
 
fš®
 
	gFM_EVENT_CMD_RDS_RAW_DATA
 = 3;

285 
public
 
Ev’tHªdËr
(
FMRadioStubIÁ”çû
 
fm
, 
Loİ”
 
loİ”
) {

286 
su³r
(
loİ”
);

287 
	gmFMRadioSy¡em
 = 
fm
;

290 @
Ov”ride


291 
public
 
hªdËMes§ge
(
Mes§ge
 
msg
) {

292 
	gmsg
.
	gwh©
) {

293 
	gFM_EVENT_CMD_DONE
:

294 
FM_EVENT_CMD_RDS_STRING
:

295 
FM_EVENT_CMD_RDS_RAW_DATA
:

296 
Log
.
i
(
TAG
, "hªdËMes§ge: " + 
msg
.
wh©
);

297 
	gmFMRadioSy¡em
.
	gmOnCmdDÚeLi¡’”
.
ÚCmdDÚe
(

298 
msg
.
¬g1
, msg.
¬g2
, msg.
obj
);

301 
Log
.
e
(
TAG
, "UnknowÀmes§gty³ " + 
msg
.
wh©
);

307 @
Ov”ride


308 
public
 
	$£tResuÉHªdËr
(
HªdËr
 
hªdËr
) {

309 
mEv’tHªdËr
 = 
hªdËr
;

310 
	}
}

	@src/com/pekall/fmradio/FMRecorder.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioSy¡em
;

20 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gMedŸRecÜd”
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

22 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

23 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

24 
impÜt
 
	gªdroid
.
	gos
.
	gStFs
;

25 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

26 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

27 
impÜt
 
	gªdroid
.
	gv›w
.
	gªim©iÚ
.
	gAnim©iÚ
;

28 
impÜt
 
	gªdroid
.
	gv›w
.
	gªim©iÚ
.
	gLš—rIÁ”pŞ©Ü
;

29 
impÜt
 
	gªdroid
.
	gv›w
.
	gªim©iÚ
.
	gRÙ©eAnim©iÚ
;

30 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

31 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

33 
impÜt
 
	gjava
.
	gio
.
	gFe
;

34 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

35 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

36 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

37 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

39 şas 
	cFMRecÜd”
 {

40 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMRecorder";

46 
fš®
 
	mDEVICE_IN_FM_RX
 = 
AudioSy¡em
.
DEVICE_IN_FM_RX
;

47 
fš®
 
	mAUDIO_SOURCE_FMRADIO
 = 
MedŸRecÜd”
.
AudioSourû
.
FMRADIO
;

49 
´iv©e
 
fš®
 
SŒšg
 
	mRECORDS_PATH_NAME
 = "FmRecords/";

50 
´iv©e
 
fš®
 
SŒšg
 
	mRECORD
 = "fmrecord_";

51 
´iv©e
 
fš®
 
	mBLOCK_SIZE
 = 1024 * 512;

52 
´iv©e
 
fš®
 
Anim©iÚ
 
	mrÙ©eAnim©iÚ
;

53 
´iv©e
 
fš®
 
FMRadio
 
	mmAùiv™y
;

54 
´iv©e
 
MedŸRecÜd”
 
	mmMedŸRecÜd”
;

55 
´iv©e
 
SŒšg
 
	mmRecÜdFeName
;

56 
´iv©e
 
	mmRecÜdS¹
;

57 
´iv©e
 
	mmRecÜdEnd
;

58 
´iv©e
 
	mmMaxRecÜdFeSize
;

59 
´iv©e
 
boŞ—n
 
	mmIsRecÜdšg
 = 
çl£
;

60 
´iv©e
 
Fe
 
	mmNewRecÜdFe
;

61 
´iv©e
 
fš®
 
ImageV›w
 
	mmImage
;

63 
´iv©e
 
IÁ”ÇlHªdËr
 
	mmHªdËr
;

65 
´iv©e
 
RuÂabË
 
	mmCheckBlockSize
 = 
Ãw
 
	$RuÂabË
() {

66 
public
 
	`run
() {

67 ià(!
mIsRecÜdšg
) {

71 
blockSize
 = 
	`ä“S·ûOnSd
(è- 
BLOCK_SIZE
;

72 ià(
blockSize
 <= 0) {

73 
Tß¡
.
	`makeText
(
mAùiv™y
, 
R
.
¡ršg
.
sdÿrd_no_¥aû_»cÜd
, Tß¡.
LENGTH_SHORT
)

74 .
	`show
();

75 
	`toggËRecÜd
();

78 
mAùiv™y
.
	`g‘HªdËr
().
	`po¡D–ayed
(
this
, 5000);

82 
´iv©e
 
SŒšg
 
	$g‘Cu¼’tTime
() {

83 
Sim¶eD©eFÜm©
 
sdf
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyyMMddHHmmss", 
LoÿË
.
US
);

84  
sdf
.
	`fÜm©
(
Ãw
 
	`D©e
());

85 
	}
}

87 
´iv©e
 
	$ä“S·ûOnSd
() {

88 
StFs
 
¡©
 = 
Ãw
 
	`StFs
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().
	`g‘P©h
());

89  (è
¡©
.
	`g‘AvaabËBlocks
(è* (è¡©.
	`g‘BlockSize
();

90 
	}
}

92 
	$FMRecÜd”
(
FMRadio
 
aùiv™y
) {

93 
mAùiv™y
 = 
aùiv™y
;

94 
mImage
 = (
ImageV›w
è
mAùiv™y
.
	`fšdV›wById
(
R
.
id
.
»cÜd_img
);

95 
rÙ©eAnim©iÚ
 = 
Ãw
 
	`RÙ©eAnim©iÚ
(0f, 359f,

96 
Anim©iÚ
.
RELATIVE_TO_SELF
, 0.5f, Animation.RELATIVE_TO_SELF,

98 
Lš—rIÁ”pŞ©Ü
 
lš
 = 
Ãw
 
	`Lš—rIÁ”pŞ©Ü
();

99 
rÙ©eAnim©iÚ
.
	`£tIÁ”pŞ©Ü
(
lš
);

100 
rÙ©eAnim©iÚ
.
	`£tR•—tCouÁ
(3600 * 10000);

101 
mImage
.
	`£tImageResourû
(
R
.
d¿wabË
.
wh™e_background
);

103 
mHªdËr
 = 
Ãw
 
	`IÁ”ÇlHªdËr
(
this
);

104 
	}
}

106 @
Suµ»ssW¬nšgs
("deprecation")

107 
public
 
	$begšRecÜd
() {

108 
Log
.
	`i
(
LOGTAG
, "beginRecord");

109 
Œy
 {

110 
mImage
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

111 
mImage
.
	`£tImageResourû
(
R
.
d¿wabË
.
»cÜdimage
);

112 
rÙ©eAnim©iÚ
.
	`£tDu¿tiÚ
(3000);

113 
mImage
.
	`£tAnim©iÚ
(
rÙ©eAnim©iÚ
);

114 
mImage
.
	`¡¬tAnim©iÚ
(
rÙ©eAnim©iÚ
);

116 
mMedŸRecÜd”
.
	`£tAudioSourû
(
AUDIO_SOURCE_FMRADIO
);

117 
mMedŸRecÜd”
.
	`£tOuutFÜm©
(
MedŸRecÜd”
.
OuutFÜm©
.
RAW_AMR
);

118 
mMedŸRecÜd”
.
	`£tAudioEncod”
(
MedŸRecÜd”
.
AudioEncod”
.
AMR_NB
);

119 
mMedŸRecÜd”
.
	`£tOuutFe
(
mRecÜdFeName
);

120 
mMedŸRecÜd”
.
	`£tOnE¼ÜLi¡’”
(
Ãw


121 
MedŸRecÜd”
.
	`OnE¼ÜLi¡’”
() {

122 
public
 
	`ÚE¼Ü
(
MedŸRecÜd”
 
mr
, 
wh©
, 
exŒa
) {

123 
Tß¡
.
	`makeText
(
mAùiv™y
, 
R
.
¡ršg
.
fm»cÜd_”rÜ
,

124 
Tß¡
.
LENGTH_SHORT
).
	`show
();

127 
mMedŸRecÜd”
.
	`´•¬e
();

128 
mMedŸRecÜd”
.
	`¡¬t
();

129 
mAùiv™y
.
	`g‘HªdËr
().
	`po¡D–ayed
(
mCheckBlockSize
, 5000);

130 
mRecÜdS¹
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

132 
mIsRecÜdšg
 = 
Œue
;

133 
	`upd©eRecÜdUI
();

135 
Mes§ge
 
msg
 = 
mAùiv™y
.
	`g‘HªdËr
().
	`obšMes§ge
(
FMRadio
.
FM_START_RECORD
);

136 
mAùiv™y
.
	`g‘HªdËr
().
	`£ndMes§ge
(
msg
);

137 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

138 
Log
.
	`e
(
LOGTAG
, "", 
e
);

140 
mIsRecÜdšg
 = 
çl£
;

141 
	`upd©eRecÜdUI
();

143 
Tß¡
.
	`makeText
(
mAùiv™y
, 
R
.
¡ršg
.
”rÜ_­p_š‹º®
, Tß¡.
LENGTH_LONG
).
	`show
();

145 
mRecÜdEnd
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

146 ià(
mMedŸRecÜd”
 !ğ
nuÎ
) {

147 
mMedŸRecÜd”
.
	`»Ëa£
();

149 
mMedŸRecÜd”
 = 
nuÎ
;

151 
AudioSy¡em
.
	`£tDeviûCÚÃùiÚS‹
(
DEVICE_IN_FM_RX
,

152 
AudioSy¡em
.
DEVICE_STATE_UNAVAILABLE
, "");

154 
	}
}

156 
public
 
	$’dRecÜd
() {

157 
Log
.
	`i
(
LOGTAG
, "endRecord");

158 
boŞ—n
 
isE¼Ü
 = 
çl£
;

160 
mIsRecÜdšg
 = 
çl£
;

161 
	`upd©eRecÜdUI
();

163 
mRecÜdEnd
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

164 
Œy
 {

165 
mMedŸRecÜd”
.
	`¡İ
();

166 } 
	`ÿtch
 (
IÎeg®S‹Exû±iÚ
 
›
) {

167 
Log
.
	`e
(
LOGTAG
, "", 
›
);

168 
isE¼Ü
 = 
Œue
;

169 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

170 
Log
.
	`e
(
LOGTAG
, "", 
e
);

171 
isE¼Ü
 = 
Œue
;

172 } 
fš®ly
 {

173 ià(
mMedŸRecÜd”
 !ğ
nuÎ
) {

174 
mMedŸRecÜd”
.
	`»Ëa£
();

176 
mMedŸRecÜd”
 = 
nuÎ
;

179 ià(
isE¼Ü
) {

180 ià(
mNewRecÜdFe
 !ğ
nuÎ
 && mNewRecÜdFe.
	`exi¡s
()) {

181 
mNewRecÜdFe
.
	`d–‘e
();

184 
CÚ‹ÁH–³r
.
	`§veRecÜdšgFe
(
mAùiv™y
, 
mNewRecÜdFe
, 
mRecÜdEnd
 - 
mRecÜdS¹
);

185 
Tß¡
.
	`makeText
(
mAùiv™y
, 
mRecÜdFeName
, Tß¡.
LENGTH_LONG
).
	`show
();

188 
AudioSy¡em
.
	`£tDeviûCÚÃùiÚS‹
(
DEVICE_IN_FM_RX
,

189 
AudioSy¡em
.
DEVICE_STATE_UNAVAILABLE
, "");

190 
	}
}

192 
public
 
synchrÚized
 
	$toggËRecÜd
() {

193 ià(
mMedŸRecÜd”
 =ğ
nuÎ
) {

194 
mMedŸRecÜd”
 = 
Ãw
 
	`MedŸRecÜd”
();

197 ià(!
mIsRecÜdšg
) {

198 
mMaxRecÜdFeSize
 = 
	`ä“S·ûOnSd
(è- 
BLOCK_SIZE
;

199 ià(
mMaxRecÜdFeSize
 <= 0) {

200 
Tß¡
.
	`makeText
(
mAùiv™y
, 
R
.
¡ršg
.
sdÿrd_no_¥aû_»cÜd
, Tß¡.
LENGTH_SHORT
)

201 .
	`show
();

204 
Fe
 
»cÜdsFŞd”
 = 
Ãw
 
	`Fe
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
(),

205 
RECORDS_PATH_NAME
);

206 ià(!
»cÜdsFŞd”
.
	`exi¡s
()) {

207 
»cÜdsFŞd”
.
	`mkdœ
();

209 
mNewRecÜdFe
 = 
Ãw
 
	`Fe
(
»cÜdsFŞd”
.
	`g‘P©h
(), 
RECORD
 + 
	`g‘Cu¼’tTime
() + ".amr");

210 ià(!
mNewRecÜdFe
.
	`exi¡s
()) {

211 
Œy
 {

212 
mNewRecÜdFe
.
	`ü—‹NewFe
();

213 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

214 
Log
.
	`e
(
LOGTAG
, "", 
e
);

218 
mRecÜdFeName
 = 
mNewRecÜdFe
.
	`g‘P©h
();

219 
AudioSy¡em
.
	`£tDeviûCÚÃùiÚS‹
(
DEVICE_IN_FM_RX
,

220 
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
, "");

223 
mAùiv™y
.
	`g‘HªdËr
().
	`£ndEm±yMes§geD–ayed
(
FMRadio
.
FM_RECORD_BEGIN
, 500);

225 
mAùiv™y
.
	`g‘HªdËr
().
	`£ndEm±yMes§geD–ayed
(
FMRadio
.
FM_RECORD_END
, 10);

227 
	}
}

229 
public
 
	$upd©eRecÜdUI
() {

230 ià(
mIsRecÜdšg
) {

231 
Mes§ge
 
msg
 = 
mHªdËr
.
	`obšMes§ge
(
¡¬t_ui
);

232 
mHªdËr
.
	`£ndMes§ge
(
msg
);

234 
mHªdËr
.
	`»moveMes§ges
(
¡¬t_ui
);

235 
rÙ©eAnim©iÚ
.
	`ÿnûl
();

237 
mImage
.
	`£tImageResourû
(
R
.
d¿wabË
.
wh™e_background
);

238 
mAùiv™y
.
	`g‘HªdËr
().
	`»moveMes§ges
(
FMRadio
.
FM_START_RECORD
);

240 
	}
}

242 
public
 
boŞ—n
 
	$isRecÜdšg
() {

243  
mIsRecÜdšg
;

244 
	}
}

246 
´iv©e
 
fš®
 
	g¡¬t_ui
 = 0;

248 
´iv©e
 
fš®
 cÏs 
	cIÁ”ÇlHªdËr
 
ex‹nds
 
	gHªdËr
 {

249 
´iv©e
 
fš®
 
FMRecÜd”
 
	gmRecÜd”
;

251 
IÁ”ÇlHªdËr
(
FMRecÜd”
 
r
) {

252 
	gmRecÜd”
 = 
r
;

255 @
Ov”ride


256 
public
 
hªdËMes§ge
(
Mes§ge
 
msg
) {

257 
	gmsg
.
	gwh©
) {

258 
	g¡¬t_ui
:

259 
this
.
£ndEm±yMes§geD–ayed
(
¡¬t_ui
, 3000 * 3);

260 
	gmRecÜd”
.
	gmImage
.
£tVisib™y
(
V›w
.
VISIBLE
);

261 
	gmRecÜd”
.
	gmImage
.
£tImageResourû
(
R
.
d¿wabË
.
»cÜdimage
);

262 
	gmRecÜd”
.
	grÙ©eAnim©iÚ
.
£tDu¿tiÚ
(3000);

263 
	gmRecÜd”
.
	gmImage
.
£tAnim©iÚ
(
mRecÜd”
.
rÙ©eAnim©iÚ
);

264 
	gmRecÜd”
.
	gmImage
.
¡¬tAnim©iÚ
(
mRecÜd”
.
rÙ©eAnim©iÚ
);

270 
public
 
	$upd©eRecÜdTime
() {

271 
Mes§ge
 
msg
 = 
Ãw
 
	`Mes§ge
();

272 
msg
.
wh©
 = 
FMRadio
.
FM_START_RECORD
;

273 
mAùiv™y
.
	`g‘HªdËr
().
	`£ndMes§geD–ayed
(
msg
, 1000);

274 
	}
}

	@src/com/pekall/fmradio/Factory.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

21 
public
 cÏs 
	cFaùÜy
 {

22 
´iv©e
 
boŞ—n
 
	mmU£Stub
;

30 
public
 
	$u£StubIÁ”çû
(
boŞ—n
 
¡ub
) {

31 
mU£Stub
 = 
¡ub
;

41 
public
 
FMAudioIÁ”çû
 
	$g‘AudioIÁ”çû
(
FMRadioS”viû
 
£rviû
, 
CÚ‹xt
 
cÚ‹xt
) {

42 ià(!
mU£Stub
) {

43  
Ãw
 
	`FMAudioDeviûIÁ”çû
(
£rviû
, 
cÚ‹xt
);

45  
Ãw
 
	`FMAudioStubIÁ”çû
(
£rviû
, 
cÚ‹xt
);

47 
	}
}

55 
public
 
FMRadioIÁ”çû
 
	$g‘FMRadioIÁ”çû
(
FMRadioS”viû
 
£rviû
) {

56 ià(!
mU£Stub
) {

57  
Ãw
 
	`FMRadioN©iveIÁ”çû
(
£rviû
);

59  
Ãw
 
	`FMRadioStubIÁ”çû
(
£rviû
);

61 
	}
}

	@src/com/pekall/fmradio/FreqIndicator.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gS“kB¬
;

26 
public
 cÏs 
	cF»qIndiÿtÜ
 
ex‹nds
 
	mS“kB¬
 {

27 
public
 
	$F»qIndiÿtÜ
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyË
) {

28 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyË
);

31 
public
 
	$F»qIndiÿtÜ
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

32 
	`su³r
(
cÚ‹xt
, 
©Œs
);

33 
	}
}

35 
public
 
	$F»qIndiÿtÜ
(
CÚ‹xt
 
cÚ‹xt
) {

36 
	`su³r
(
cÚ‹xt
);

37 
	}
}

	@src/com/pekall/fmradio/IFMRadioService.aidl

16 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

18 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gIRemÙeS”viûC®lback
;

20 
š‹rçû
 
	gIFMRadioS”viû


22 
g‘FMS”viûStus
();

24 
boŞ—n
 
İ’FMRadio
();

25 
boŞ—n
 
şo£FMRadio
();

26 
boŞ—n
 
İ’FMRadioTx
();

28 
g‘FMF»q
();

29 
boŞ—n
 
£tFMF»q
(
äeq
);

30 
boŞ—n
 
£tRdsC®lback
(
¡¬t
);

32 
boŞ—n
 
£ekFM
(
dœeùiÚ
);

33 
boŞ—n
 
¡İS“kFM
();

35 
boŞ—n
 
£tMu‹
(
mode
);

36 
boŞ—n
 
isMu‹FM
();

37 
g‘FMVŞume
();

38 
boŞ—n
 
£tFMVŞume
(
vŞume
);

40 
boŞ—n
 
£tFMAudioRoutšg
(
routšg
);

41 
g‘FMAudioRoutšg
();

42 
g‘FMRssiLev–
();

43 
boŞ—n
 
£tFMRssiTh»shŞd
(
v®ue
);

45 
boŞ—n
 
’abËRds
();

46 
boŞ—n
 
di§bËRds
();

48 
»gi¡”C®lback
(
IRemÙeS”viûC®lback
 
cb
);

49 
uÄegi¡”C®lback
(
IRemÙeS”viûC®lback
 
cb
);

	@src/com/pekall/fmradio/IRemoteServiceCallback.aidl

16 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

18 
š‹rçû
 
	gIRemÙeS”viûC®lback
 {

19 
İ’FMRadioC®lBack
(
boŞ—n
 
»suÉ
);

20 
İ’FMRadioTxC®lBack
(
boŞ—n
 
»suÉ
);

21 
£tF»qu’cyC®lback
(
boŞ—n
 
»suÉ
);

22 
£ekStiÚC®lback
(
boŞ—n
 
»suÉ
, 
äequ’cy
);

	@src/com/pekall/fmradio/MarqueeText.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

26 
public
 cÏs 
	cM¬qu“Text
 
ex‹nds
 
	mTextV›w
 {

28 
public
 
	$M¬qu“Text
(
CÚ‹xt
 
¬g0
, 
A‰ribu‹S‘
 
¬g1
, 
¬g2
) {

29 
	`su³r
(
¬g0
, 
¬g1
, 
¬g2
);

32 
public
 
	$M¬qu“Text
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

33 
	`su³r
(
cÚ‹xt
, 
©Œs
);

34 
	}
}

36 
public
 
	$M¬qu“Text
(
CÚ‹xt
 
cÚ‹xt
) {

37 
	`su³r
(
cÚ‹xt
);

38 
	}
}

40 @
Ov”ride


41 
public
 
boŞ—n
 
	$isFocu£d
() {

42  
Œue
;

43 
	}
}

	@src/com/pekall/fmradio/MediaButtonIntentReceiver.java

18 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gBrßdÿ¡Reûiv”
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

22 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

23 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

29 
public
 cÏs 
	cMedŸBu‰ÚIÁ’tReûiv”
 
ex‹nds
 
	mBrßdÿ¡Reûiv”
 {

30 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "MediaButtonIntentReceiver";

32 @
Ov”ride


33 
public
 
	$ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

34 
SŒšg
 
š‹ÁAùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

36 
Log
.
	`i
(
LOGTAG
, "ÚReûive: " + 
š‹ÁAùiÚ
);

37 ià(
IÁ’t
.
ACTION_MEDIA_BUTTON
.
	`equ®s
(
š‹ÁAùiÚ
)) {

38 
KeyEv’t
 
ev’t
 = (KeyEv’tè
š‹Á
.
	`g‘P¬ûÏbËExŒa
(
IÁ’t
.
EXTRA_KEY_EVENT
);

39 ià(
ev’t
 =ğ
nuÎ
) {

43 
keycode
 = 
ev’t
.
	`g‘KeyCode
();

44 
aùiÚ
 = 
ev’t
.
	`g‘AùiÚ
();

45 
Log
.
	`i
(
LOGTAG
, "ÚReûivkeyƒv’t: " + 
keycode
 + ",‡ùiÚ: " + 
aùiÚ
);

47 ià(
aùiÚ
 =ğ
KeyEv’t
.
ACTION_DOWN
 && 
keycode
 =ğKeyEv’t.
KEYCODE_HEADSETHOOK
) {

48 
IÁ’t
 
i
 = 
Ãw
 
	`IÁ’t
();

49 
i
.
	`£tAùiÚ
(
FMRadioS”viû
.
SERVICE_CMD
);

50 
i
.
	`putExŒa
(
FMRadioS”viû
.
CMD_NAME
, FMRadioS”viû.
CMD_SEEK
);

51 
cÚ‹xt
.
	`£ndBrßdÿ¡
(
i
);

52 
Log
.
	`i
(
LOGTAG
, "ÚReûivbrßdÿ¡ s’t: " + 
FMRadioS”viû
.
CMD_SEEK
);

56 
	}
}

	@src/com/pekall/fmradio/RDSController.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

21 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

23 
impÜt
 
	grds
.
	gcÜe
.
	gGroupLev–Decod”
;

24 
impÜt
 
	grds
.
	gcÜe
.
	gText
;

25 
impÜt
 
	grds
.
	gcÜe
.
	gTuÃdStiÚ
;

26 
impÜt
 
	grds
.
	gšput
.
	ggroup
.
	gGroupEv’t
;

27 
impÜt
 
	grds
.
	glog
.
	gR—lTime
;

34 şas 
	cRDSCÚŒŞËr
 {

35 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "RDSController";

40 
fš®
 
	mRDS_TYPE_PS
 = 0;

44 
fš®
 
	mRDS_TYPE_RT_A
 = 1;

48 
fš®
 
	mRDS_TYPE_RT_B
 = 2;

52 
fš®
 
	mRDS_TYPE_UNKNOWN
 = -1;

57 
fš®
 
	mRDS_LOCALE_GBK
 = 0;

61 
fš®
 
	mRDS_LOCALE_UTF8
 = 1;

63 
´iv©e
 
fš®
 
	mRDS_DISPLAY_INTERVAL
 = 30;

65 
´iv©e
 
	mmLa¡Ty³
 = 
RDS_TYPE_UNKNOWN
;

66 
´iv©e
 
	mmDi¥ÏyCouÁ”
 = 
RDS_DISPLAY_INTERVAL
;

68 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

70 
´iv©e
 
fš®
 
GroupLev–Decod”
 
	mmGroupDecod”
 = 
Ãw
 GroupLevelDecoder(

71 
Ãw
 
rds
.
log
.
Log
());

73 
´iv©e
 
RDSCÚŒŞËr
 
	mmIn¡ªû
 = 
nuÎ
;

75 
synchrÚized
 
RDSCÚŒŞËr
 
	$g‘In¡ªû
() {

76 ià(
mIn¡ªû
 =ğ
nuÎ
) {

77 
mIn¡ªû
 = 
Ãw
 
	`RDSCÚŒŞËr
();

80  
mIn¡ªû
;

91 
SŒšg
 
	$g‘Loÿli£dSŒšg
(
by‹
[] 
decodedD©a
, 
loÿËId
) {

92 ià(
decodedD©a
 =ğ
nuÎ
 || decodedD©a.
Ëngth
 <= 0) {

95 
Œy
 {

96 ià(
loÿËId
 =ğ
RDS_LOCALE_GBK
) {

97  
Ãw
 
	`SŒšg
(
decodedD©a
, "GBK");

98 } ià(
loÿËId
 =ğ
RDS_LOCALE_UTF8
) {

99  
Ãw
 
	`SŒšg
(
decodedD©a
, "UTF8");

101  
Ãw
 
	`SŒšg
(
decodedD©a
);

103 } 
	`ÿtch
 (
java
.
io
.
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

104 
Log
.
	`e
(
LOGTAG
, "not support†ocale");

107 
	}
}

109 
´iv©e
 
	$RDSCÚŒŞËr
() {

110 
	}
}

112 
	$£tCÚ‹xt
(
CÚ‹xt
 
c
) {

113 
mCÚ‹xt
 = 
c
;

114 
	}
}

116 
´iv©e
 
	$£ndRdsD©a2Ui
(
by‹
[] 
d©a
, 
ty³
) {

117 ià(
mCÚ‹xt
 =ğ
nuÎ
) {

118 
Log
.
	`e
(
LOGTAG
, "sendRdsData2Ui, mContext is‚ull!");

122 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
FMRadioS”viû
.
FM_RDS_STRING
);

123 
š‹Á
.
	`putExŒa
("rds", 
d©a
);

124 
š‹Á
.
	`putExŒa
("ty³", 
ty³
);

125 
mCÚ‹xt
.
	`£ndBrßdÿ¡
(
š‹Á
);

126 
	}
}

128 
´iv©e
 
	$»£tRds
() {

129 
mGroupDecod”
.
	`»£t
();

130 
mLa¡Ty³
 = 
RDS_TYPE_UNKNOWN
;

131 
mDi¥ÏyCouÁ”
 = 
RDS_DISPLAY_INTERVAL
;

134 
	`£ndRdsD©a2Ui
(
Ãw
 
by‹
[0], 
RDS_TYPE_UNKNOWN
);

135 
	}
}

137 
public
 
	$­³ndRdsRawD©a
(
by‹
[] 
¿w
) {

138 ià(
¿w
 =ğ
nuÎ
 ||„aw.
Ëngth
 <= 0) {

139 
Log
.
	`e
(
LOGTAG
, "appendRdsRawData:„eset„ds");

140 
	`»£tRds
();

144 ià(
DebugFÏgs
.
LOG_RDS
) {

145 
Log
.
	`i
(
LOGTAG
, "­³ndRdsRawD©a: " + 
¿w
.
Ëngth
);

149 [] 
»s
 = 
Ãw
 [4];

150 
i
 = 0; i < 4; i++) {

151 
»s
[
i
] = (
¿w
[2 * i] & 0xFF) | ((raw[2 * i + 1] & 0xFF) << 8);

153 ià(
DebugFÏgs
.
LOG_RDS
) {

154 
Log
.
	`i
(
LOGTAG
,

155 "group: " + 
i
 + ", 0x" + 
IÁeg”
.
	`toHexSŒšg
(
»s
[i]));

159 
Œy
 {

160 
mGroupDecod”
.
	`´oûssOÃGroup
(
Ãw
 
	`GroupEv’t
Òew 
	`R—lTime
(), 
»s
,

161 
çl£
));

162 
	`scheduËRdsDi¥Ïy
();

163 } 
	`ÿtch
 (
java
.
io
.
IOExû±iÚ
 
iÛ
) {

164 
Log
.
	`e
(
LOGTAG
, "", 
iÛ
);

166 
	}
}

168 
´iv©e
 
	$scheduËRdsDi¥Ïy
() {

170 ià(
mDi¥ÏyCouÁ”
 > 0) {

171 
mDi¥ÏyCouÁ”
--;

174 
mDi¥ÏyCouÁ”
 = 
RDS_DISPLAY_INTERVAL
;

176 ià(
DebugFÏgs
.
LOG_RDS
) {

177 
Log
.
	`i
(
LOGTAG
, "scheduleRdsDisplay begin");

180 
TuÃdStiÚ
 
¡©iÚ
 = 
mGroupDecod”
.
	`g‘TuÃdStiÚ
();

182 
Text
 
ps
 = 
¡©iÚ
.
	`g‘PS
();

183 ià(
ps
.
	`isCom¶‘e
()) {

185 ià(
mLa¡Ty³
 !ğ
RDS_TYPE_PS
) {

186 
mLa¡Ty³
 = 
RDS_TYPE_PS
;

187 
	`£ndRdsD©a2Ui
(
ps
.
	`g‘RawBy‹s
(), 0);

192 
Text
 
¹
 = 
¡©iÚ
.
	`g‘RT
();

193 ià(
¹
.
	`isCom¶‘e
()) {

195 ià(
mLa¡Ty³
 !ğ
RDS_TYPE_RT_A
) {

196 
mLa¡Ty³
 = 
RDS_TYPE_RT_A
;

197 
	`£ndRdsD©a2Ui
(
¹
.
	`g‘RawBy‹s
(), 0);

202 
Text
 
¹B
 = 
¡©iÚ
.
	`g‘RTV”siÚB
();

203 ià(
¹B
.
	`isCom¶‘e
()) {

205 ià(
mLa¡Ty³
 !ğ
RDS_TYPE_RT_B
) {

206 
mLa¡Ty³
 = 
RDS_TYPE_RT_B
;

207 
	`£ndRdsD©a2Ui
(
¹B
.
	`g‘RawBy‹s
(), 0);

211 
	}
}

	@src/com/pekall/fmradio/RecordListActivity.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

20 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

21 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

22 
impÜt
 
	gªdroid
.
	g­p
.
	gProg»ssDŸlog
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

24 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
.
	gOnKeyLi¡’”
;

25 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

26 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

27 
impÜt
 
	gªdroid
.
	gos
.
	gAsyncTask
;

28 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

29 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

30 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

31 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

32 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

33 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

34 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

36 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

37 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
.
	gOnClickLi¡’”
;

38 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

39 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

40 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
;

41 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
.
	gOnI‹mClickLi¡’”
;

42 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBa£Ad­‹r
;

43 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

44 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

45 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCompoundBu‰Ú
;

46 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCompoundBu‰Ú
.
	gOnCheckedChªgeLi¡’”
;

47 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLi¡V›w
;

48 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

49 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

51 
impÜt
 
	gjava
.
	gio
.
	gFe
;

52 
impÜt
 
	gjava
.
	gio
.
	gFeF‹r
;

53 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

54 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

59 
public
 cÏs 
	cRecÜdLi¡Aùiv™y
 
ex‹nds
 
	mAùiv™y
 {

61 
´iv©e
 
fš®
 
SŒšg
 
	mRECORDS_PATH_NAME
 = "FmRecords/";

62 
´iv©e
 
Fe
 
	mmRecÜdsFŞd”
 = 
Ãw
 Fe(
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
(),

63 
RECORDS_PATH_NAME
);

64 
´iv©e
 
FeF‹r
 
	mmFeF‹r
 = 
Ãw
 
	$FeF‹r
() {

65 
public
 
boŞ—n
 
	`acû±
(
Fe
 
·thÇme
) {

66 ià(
·thÇme
.
	`g‘Name
().
	`’dsW™h
(".amr")) {

67  
Œue
;

69  
çl£
;

73 
´iv©e
 
A¼ayLi¡
<
Fe
> 
mRecÜds
;

74 
´iv©e
 
A¼ayLi¡
<
Fe
> 
mD–‘eRecÜds
 = 
Ãw
 ArrayList<File>();

75 
´iv©e
 
LayoutInæ©”
 
mInæ©”
;

76 
´iv©e
 
RecÜdLi¡Ad­‹r
 
mRecÜdLi¡Ad­‹r
;

78 
´iv©e
 
Li¡V›w
 
mRecÜdLi¡
;

79 
´iv©e
 
V›w
 
mCÚŒŞB¬
;

80 
´iv©e
 
Bu‰Ú
 
mD–‘e
;

81 
´iv©e
 
Bu‰Ú
 
mCªşe
;

82 
´iv©e
 
Prog»ssDŸlog
 
mProg»ssDŸlog
;

83 
´iv©e
 
TextV›w
 
mNoRecÜds
;

84 
´iv©e
 
HªdËr
 
mHªdËr
;

86 
´iv©e
 
D–‘eTask
 
mD–‘eTask
;

88 
´iv©e
 
	eS‹
 {

89 
PLAY_STATE
,

90 
DELETE_STATE


91 
	}
}

93 
´iv©e
 
S‹
 
	gmS‹
;

94 
´iv©e
 
boŞ—n
 
	gmIsD–‘šg
 = 
çl£
;

95 
´iv©e
 
boŞ—n
 
	gmIsS–eùAÎ
 = 
çl£
;

96 
´iv©e
 
fš®
 
	gUPDATE
 = 0;

97 
´iv©e
 
fš®
 
	gDELETE_END
 = 1;

98 
´iv©e
 
fš®
 
	gDELETE_CANCEL
 = 2;

100 @
Ov”ride


101 
´Ùeùed
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

102 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

104 
mHªdËr
 = 
Ãw
 
	`IÁ”ÇlHªdË
(
this
);

106 
	`ü—‹RecÜdFŞd”
();

107 
mRecÜds
 = 
	`g‘RecÜdsLi¡
(
mRecÜdsFŞd”
, 
mFeF‹r
);

108 
mS‹
 = 
S‹
.
PLAY_STATE
;

109 
mInæ©”
 = 
	`g‘LayoutInæ©”
();

110 
	`»que¡WšdowF—tu»
(
Wšdow
.
FEATURE_NO_TITLE
);

111 
	`£tCÚ‹ÁV›w
(
R
.
Ïyout
.
»cÜd_f–i¡
);

113 
mRecÜdLi¡
 = (
Li¡V›w
è
	`fšdV›wById
(
R
.
id
.
»cÜd_li¡
);

114 
mCÚŒŞB¬
 = 
	`fšdV›wById
(
R
.
id
.
cÚŒŞ_b¬
);

115 
mD–‘e
 = (
Bu‰Ú
è
	`fšdV›wById
(
R
.
id
.
d–‘e
);

116 
mCªşe
 = (
Bu‰Ú
è
	`fšdV›wById
(
R
.
id
.
ÿnûl
);

117 
mProg»ssDŸlog
 = 
Ãw
 
	`Prog»ssDŸlog
(
RecÜdLi¡Aùiv™y
.
this
);

118 
mNoRecÜds
 = (
TextV›w
è
	`fšdV›wById
(
R
.
id
.
no_»cÜds
);

120 
mRecÜdLi¡Ad­‹r
 = 
Ãw
 
	`RecÜdLi¡Ad­‹r
();

121 
mRecÜdLi¡Ad­‹r
.
	`£tFes
(
mRecÜds
);

122 
mRecÜdLi¡
.
	`£tAd­‹r
(
mRecÜdLi¡Ad­‹r
);

123 
mRecÜdLi¡
.
	`£tOnI‹mClickLi¡’”
(
Ãw
 
	`OnI‹mClickLi¡’”
() {

124 @
Ov”ride


125 
public
 
	`ÚI‹mClick
(
Ad­‹rV›w
<?> 
¬g0
, 
V›w
 
¬g1
, 
pos™iÚ
, 
¬g3
) {

126 ià(
mS‹
 =ğ
S‹
.
PLAY_STATE
) {

127 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_VIEW
);

128 
Fe
 
audioFe
 = 
mRecÜds
.
	`g‘
(
pos™iÚ
);

129 
Uri
 
audioUri
 = Uri.
	`äomFe
(
audioFe
);

130 
š‹Á
.
	`£tD©aAndTy³
(
audioUri
, "audio/*");

131 
	`¡¬tAùiv™y
(
š‹Á
);

136 
mD–‘e
.
	`£tOnClickLi¡’”
(
Ãw
 
	`OnClickLi¡’”
() {

137 @
Ov”ride


138 
public
 
	`ÚClick
(
V›w
 
v
) {

139 ià(
mD–‘eRecÜds
.
	`size
() > 0) {

140 
DŸlog
 
d–‘eCÚfœm
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
RecÜdLi¡Aùiv™y
.
this
)

141 .
	`£tT™Ë
(
R
.
¡ršg
.
d–‘e_»cÜds
)

142 .
	`£tMes§ge
(
R
.
¡ršg
.
d–‘e_£Ëùed_»cÜds
)

143 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
ok
, 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

144 @
Ov”ride


145 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

146 
mProg»ssDŸlog
.
	`£tMes§ge
(
	`g‘SŒšg
(
R
.
¡ršg
.
d–‘šg
));

147 
mProg»ssDŸlog
.
	`£tOnKeyLi¡’”
(
Ãw
 
	`OnKeyLi¡’”
() {

148 @
Ov”ride


149 
public
 
boŞ—n
 
	`ÚKey
(
DŸlogIÁ”çû
 
dŸlog
, 
keyCode
,

150 
KeyEv’t
 
ev’t
) {

151 ià(
mIsD–‘šg


152 && 
ev’t
.
	`g‘AùiÚ
(è=ğ
KeyEv’t
.
ACTION_UP


153 && 
keyCode
 =ğ
KeyEv’t
.
KEYCODE_BACK


154 && 
mD–‘eTask
 !ğ
nuÎ
) {

155 
mD–‘eTask
.
	`ÿnûl
(
Œue
);

156 
mIsD–‘šg
 = 
çl£
;

157 
mHªdËr
.
	`£ndEm±yMes§ge
(
DELETE_CANCEL
);

159  
çl£
;

162 
mProg»ssDŸlog
.
	`show
();

163 
mIsS–eùAÎ
 = 
çl£
;

164 
mD–‘eTask
 = 
Ãw
 
	`D–‘eTask
();

165 
mD–‘eTask
.
	`execu‹
();

168 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
,

169 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

170 @
Ov”ride


171 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

172 
dŸlog
.
	`dismiss
();

174 }).
	`ü—‹
();

175 
d–‘eCÚfœm
.
	`show
();

180 
mCªşe
.
	`£tOnClickLi¡’”
(
Ãw
 
	`OnClickLi¡’”
() {

181 @
Ov”ride


182 
public
 
	`ÚClick
(
V›w
 
v
) {

183 
mIsS–eùAÎ
 = 
çl£
;

184 
mS‹
 = 
S‹
.
PLAY_STATE
;

185 
	`toggËS‹
(
mS‹
);

188 
	`toggËS‹
(
mS‹
);

189 
	}
}

191 @
Ov”ride


192 
public
 
boŞ—n
 
	$ÚP»·»O±iÚsM’u
(
M’u
 
m’u
) {

193 
m’u
.
	`ş—r
();

194 ià(
mS‹
 =ğ
S‹
.
PLAY_STATE
) {

195 ià(
mRecÜds
.
	`size
() == 0) {

196  
çl£
;

198 
m’u
.
	`add
(0, 0, 0, 
	`g‘SŒšg
(
R
.
¡ršg
.
d–‘e
));

199 } ià(
mS‹
 =ğ
S‹
.
DELETE_STATE
) {

200 ià(!
mIsS–eùAÎ
) {

201 
m’u
.
	`add
(0, 0, 0, 
	`g‘SŒšg
(
R
.
¡ršg
.
£Ëù_®l
));

203 
m’u
.
	`add
(0, 0, 0, 
	`g‘SŒšg
(
R
.
¡ršg
.
un£Ëù_®l
));

206  
su³r
.
	`ÚP»·»O±iÚsM’u
(
m’u
);

207 
	}
}

209 @
Ov”ride


210 
public
 
boŞ—n
 
	$ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

211 ià(
mS‹
 =ğ
S‹
.
PLAY_STATE
) {

212 
mS‹
 = 
S‹
.
DELETE_STATE
;

213 
	`toggËS‹
(
mS‹
);

215 
	`toggËS–eùAÎ
();

217  
su³r
.
	`ÚO±iÚsI‹mS–eùed
(
™em
);

218 
	}
}

220 @
Ov”ride


221 
public
 
boŞ—n
 
	$ÚKeyUp
(
keyCode
, 
KeyEv’t
 
ev’t
) {

222 ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_BACK
 && 
mS‹
 =ğ
S‹
.
DELETE_STATE
) {

223 
mS‹
 = 
S‹
.
PLAY_STATE
;

224 
	`toggËS‹
(
mS‹
);

225  
Œue
;

227  
su³r
.
	`ÚKeyUp
(
keyCode
, 
ev’t
);

228 
	}
}

230 
´iv©e
 
	gA¼ayLi¡
<
	gFe
> 
	$g‘RecÜdsLi¡
(
Fe
 
»cÜdsFŞd”
, 
FeF‹r
 
feF‹r
) {

231 ià(
»cÜdsFŞd”
 =ğ
nuÎ
) {

232  
Ãw
 
A¼ayLi¡
<
Fe
>();

234 
Fe
[] 
li¡Fes
 = 
»cÜdsFŞd”
.
	`li¡Fes
(
feF‹r
);

235 ià(
li¡Fes
 =ğ
nuÎ
) {

236  
Ãw
 
A¼ayLi¡
<
Fe
>();

238  
Ãw
 
A¼ayLi¡
<
Fe
>(
A¼ays
.
	`asLi¡
(
li¡Fes
));

239 
	}
}

241 @
Suµ»ssW¬nšgs
("unchecked")

242 
´iv©e
 
	$toggËS–eùAÎ
() {

243 ià(!
mIsS–eùAÎ
) {

244 
mD–‘eRecÜds
 = (
A¼ayLi¡
<
Fe
>è
mRecÜds
.
	`şÚe
();

246 
mD–‘eRecÜds
.
	`ş—r
();

248 
mIsS–eùAÎ
 = !mIsSelectAll;

249 
mHªdËr
.
	`£ndEm±yMes§ge
(
UPDATE
);

250 
	}
}

252 
´iv©e
 
	$toggËS‹
(
S‹
 
¡©e
) {

253 ià(
¡©e
 =ğ
S‹
.
PLAY_STATE
) {

254 
mD–‘eRecÜds
.
	`ş—r
();

255 
mCÚŒŞB¬
.
	`£tVisib™y
(
V›w
.
GONE
);

256 ià(
mRecÜds
.
	`size
() == 0) {

257 
mNoRecÜds
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

258 
mRecÜdLi¡
.
	`£tVisib™y
(
V›w
.
GONE
);

260 
mNoRecÜds
.
	`£tVisib™y
(
V›w
.
GONE
);

261 
mRecÜdLi¡
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

264 
mCÚŒŞB¬
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

266 
	}
}

268 
´iv©e
 
	$d–‘eS–eùRecÜds
() {

269 
Fe
 
»cÜd
 = 
nuÎ
;

270 
šdex
;

271 
i
 = 0; i < 
mD–‘eRecÜds
.
	`size
();) {

272 ià(
mD–‘eTask
.
	`isCªûÎed
()) {

275 
»cÜd
 = 
mD–‘eRecÜds
.
	`g‘
(
i
);

276 
šdex
 = 
mRecÜds
.
	`šdexOf
(
»cÜd
);

277 
mRecÜds
.
	`g‘
(
šdex
).
	`d–‘e
();

278 
mD–‘eRecÜds
.
	`»move
(
i
);

280 
	`®lSÿn
();

281 
	}
}

283 
´iv©e
 
	$®lSÿn
() {

284 
	`£ndBrßdÿ¡
(
Ãw
 
	`IÁ’t
(
IÁ’t
.
ACTION_MEDIA_MOUNTED
, 
Uri
.
	`·r£
("file://"

285 + 
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
())));

286 
	}
}

288 
´iv©e
 
	$ü—‹RecÜdFŞd”
() {

289 ià(!
mRecÜdsFŞd”
.
	`exi¡s
()) {

290 
mRecÜdsFŞd”
.
	`mkdœ
();

292 
	}
}

294 
´iv©e
 
	$upd©eAd­‹rD©aS‘
() {

295 
mRecÜds
 = 
	`g‘RecÜdsLi¡
(
mRecÜdsFŞd”
, 
mFeF‹r
);

296 
mRecÜdLi¡Ad­‹r
.
	`£tFes
(
mRecÜds
);

297 
mRecÜdLi¡Ad­‹r
.
	`nÙifyD©aS‘Chªged
();

298 
	}
}

300 
´iv©e
 
	$showTß¡
(
SŒšg
 
v®ue
, 
timeL’gth
) {

301 
Tß¡
 
ts
 = 
nuÎ
;

302 ià(
timeL’gth
 =ğ
Tß¡
.
LENGTH_SHORT
) {

303 
ts
 = 
Tß¡
.
	`makeText
(
RecÜdLi¡Aùiv™y
.
this
, 
v®ue
, Tß¡.
LENGTH_SHORT
);

305 
ts
 = 
Tß¡
.
	`makeText
(
RecÜdLi¡Aùiv™y
.
this
, 
v®ue
, Tß¡.
LENGTH_LONG
);

307 
ts
.
	`show
();

308 
	}
}

310 
´iv©e
 şas 
	cIÁ”ÇlHªdË
 
ex‹nds
 
	gHªdËr
 {

311 
´iv©e
 
RecÜdLi¡Aùiv™y
 
	gmAùiv™y
;

313 
public
 
IÁ”ÇlHªdË
(
RecÜdLi¡Aùiv™y
 
aùiv™y
) {

314 
	gthis
.
	gmAùiv™y
 = 
aùiv™y
;

317 @
Ov”ride


318 
public
 
hªdËMes§ge
(
Mes§ge
 
msg
) {

319 
	gmsg
.
	gwh©
) {

320 
	gUPDATE
:

321 
mAùiv™y
.
mRecÜdLi¡Ad­‹r
.
nÙifyD©aS‘Chªged
();

323 
	gDELETE_END
:

324 
mAùiv™y
.
upd©eAd­‹rD©aS‘
();

325 
	gmAùiv™y
.
	gmS‹
 = 
S‹
.
PLAY_STATE
;

326 
	gmAùiv™y
.
toggËS‹
(
mAùiv™y
.
mS‹
);

327 
	gmAùiv™y
.
	gmProg»ssDŸlog
.
dismiss
();

328 
	gmAùiv™y
.
showTß¡
(
mAùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
d–‘e_com¶‘e
),

329 
Tß¡
.
LENGTH_SHORT
);

331 
	gDELETE_CANCEL
:

332 
mAùiv™y
.
mD–‘eRecÜds
.
ş—r
();

333 
	gmAùiv™y
.
upd©eAd­‹rD©aS‘
();

334 
	gmAùiv™y
.
	gmS‹
 = 
S‹
.
PLAY_STATE
;

335 
	gmAùiv™y
.
toggËS‹
(
mAùiv™y
.
mS‹
);

336 
	gmAùiv™y
.
showTß¡
(
mAùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
ÿnûl_d–‘šg
),

337 
Tß¡
.
LENGTH_SHORT
);

343 şas 
	cRecÜdLi¡Ad­‹r
 
ex‹nds
 
	gBa£Ad­‹r
 {

344 
´iv©e
 
	gA¼ayLi¡
<
	gFe
> 
	gfes
;

346 
public
 
£tFes
(
A¼ayLi¡
<
Fe
> 
fes
) {

347 
	gthis
.
	gfes
 = 
fes
;

350 @
Ov”ride


351 
public
 
g‘CouÁ
() {

352  
	gfes
.
size
();

355 @
Ov”ride


356 
public
 
Objeù
 
g‘I‹m
(
pos™iÚ
) {

357  
	gfes
.
g‘
(
pos™iÚ
);

360 @
Ov”ride


361 
public
 
g‘I‹mId
(
pos™iÚ
) {

365 @
Ov”ride


366 
public
 
V›w
 
g‘V›w
(
fš®
 
pos™iÚ
, V›w 
cÚv”tV›w
, 
V›wGroup
 
·»Á
) {

367 
V›wHŞd”
 
	ghŞd”
;

368 ià(
	gcÚv”tV›w
 =ğ
nuÎ
) {

369 
hŞd”
 = 
Ãw
 
V›wHŞd”
();

370 
	gcÚv”tV›w
 = 
mInæ©”
.
šæ©e
(
R
.
Ïyout
.
»cÜd_li¡_™em
, 
nuÎ
);

371 
	ghŞd”
.
	gfeName
 = (
TextV›w
è
cÚv”tV›w
.
fšdV›wById
(
R
.
id
.
»cÜd_f’ame
);

372 
	ghŞd”
.
	gcheckBox
 = (
CheckBox
è
cÚv”tV›w
.
fšdV›wById
(
R
.
id
.
»cÜd_checkbox
);

373 
	gcÚv”tV›w
.
£tTag
(
hŞd”
);

375 
	ghŞd”
 = (
V›wHŞd”
è
cÚv”tV›w
.
g‘Tag
();

377 ià(
	gmS‹
 =ğ
S‹
.
PLAY_STATE
) {

378 
hŞd”
.
checkBox
.
£tVisib™y
(
V›w
.
INVISIBLE
);

380 
	ghŞd”
.
	gcheckBox
.
£tVisib™y
(
V›w
.
VISIBLE
);

382 
fš®
 
Fe
 
	g»cÜd
 = 
fes
.
g‘
(
pos™iÚ
);

383 
SŒšg
 
	gfeName
 = 
»cÜd
.
g‘Name
();

384 
	ghŞd”
.
	gfeName
.
£tText
(
feName
.
sub¡ršg
(0, feName.
Ëngth
() - 4));

385 
	ghŞd”
.
	gcheckBox
.
£tOnCheckedChªgeLi¡’”
(
Ãw
 
OnCheckedChªgeLi¡’”
() {

386 @
Ov”ride


387 
public
 
ÚCheckedChªged
(
CompoundBu‰Ú
 
bu‰ÚV›w
, 
boŞ—n
 
isChecked
) {

389 ià(
isChecked
) {

390 ià(!
mIsS–eùAÎ
) {

391 
mD–‘eRecÜds
.
add
(
»cÜd
);

394 
mD–‘eRecÜds
.
»move
(
»cÜd
);

399 ià(
	gmD–‘eRecÜds
.
cÚšs
(
»cÜd
)) {

400 
	ghŞd”
.
	gcheckBox
.
£tChecked
(
Œue
);

402 
	ghŞd”
.
	gcheckBox
.
£tChecked
(
çl£
);

404  
	gcÚv”tV›w
;

409 şas 
	cV›wHŞd”
 {

410 
TextV›w
 
	gfeName
;

411 
CheckBox
 
	gcheckBox
;

414 
şass
 
D–‘eTask
 
ex‹nds
 
	gAsyncTask
<
	gVoid
, Void, Void> {

415 @
Ov”ride


416 
´Ùeùed
 
Void
 
doInBackground
(Void... 
·¿ms
) {

417 
	gmIsD–‘šg
 = 
Œue
;

418 
d–‘eS–eùRecÜds
();

419  
	gnuÎ
;

422 @
Ov”ride


423 
´Ùeùed
 
ÚPo¡Execu‹
(
Void
 
»suÉ
) {

424 
	gmIsD–‘šg
 = 
çl£
;

425 
	gmHªdËr
.
£ndEm±yMes§ge
(
DELETE_END
);

426 
	gsu³r
.
ÚPo¡Execu‹
(
»suÉ
);

	@src/com/pekall/fmradio/TunerView.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

22 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

27 
public
 cÏs 
	cTuÃrV›w
 
ex‹nds
 
	mImageV›w
 {

29 
public
 
š‹rçû
 
	mOnMoveLi¡’”
 {

38 
ÚMove
(
TuÃrV›w
 
tuÃrV›w
, 
¡•
);

41 
´iv©e
 
fš®
 
	gMOVE_RIGHT_THRESHOLD
 = 5;

42 
´iv©e
 
fš®
 
	gMOVE_LEFT_THRESHOLD
 = -5;

44 
´iv©e
 
	gmTÙ®Move
 = 0;

46 
´iv©e
 
	gmLa¡MÙiÚX
 = 0;

48 
´iv©e
 
OnMoveLi¡’”
 
	gmLi¡’”
;

50 
´iv©e
 
	gmIndex
 = 0;

51 
´iv©e
 
fš®
 
	gMININDEX
 = 0;

52 
´iv©e
 
fš®
 
	gMAXINDEX
 = 2;

53 
´iv©e
 [] 
	gTuÃrV›wBackgrounds
 = 
Ãw
 [] {

54 
R
.
d¿wabË
.
tuÃr_v›w_0
, R.d¿wabË.
tuÃr_v›w_1
,

55 
R
.
d¿wabË
.
tuÃr_v›w_2


58 
public
 
	$TuÃrV›w
(
CÚ‹xt
 
cÚ‹xt
) {

59 
	`su³r
(
cÚ‹xt
);

60 
	`£tClickabË
(
Œue
);

61 
	}
}

63 
public
 
	$TuÃrV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

64 
	`su³r
(
cÚ‹xt
, 
©Œs
);

65 
	`£tClickabË
(
Œue
);

66 
	}
}

68 
public
 
	$TuÃrV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyË
) {

69 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyË
);

70 
	}
}

77 
public
 
	$£tOnMoveLi¡’”
(
OnMoveLi¡’”
 
l
) {

78 
mLi¡’”
 = 
l
;

79 
	}
}

81 @
Ov”ride


82 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

83 
fš®
 
aùiÚ
 = 
ev’t
.
	`g‘AùiÚ
();

84 
fš®
 
x
 = (è
ev’t
.
	`g‘X
();

86 
aùiÚ
) {

87 
MÙiÚEv’t
.
ACTION_MOVE
: {

88 ià(
mLa¡MÙiÚX
 == 0) {

89 
mLa¡MÙiÚX
 = 
x
;

91 
fš®
 
süŞlX
 = 
x
 - 
mLa¡MÙiÚX
;

92 
mLa¡MÙiÚX
 = 
x
;

93 ià(
mLi¡’”
 !ğ
nuÎ
 && 
süŞlX
 != 0) {

94 
mTÙ®Move
 +ğ
süŞlX
;

95 ià(
mTÙ®Move
 > 
MOVE_RIGHT_THRESHOLD
) {

96 
mLi¡’”
.
	`ÚMove
(
this
, 1);

97 
	`moveRightUI
();

98 
mTÙ®Move
 = 0;

99 } ià(
mTÙ®Move
 < 
MOVE_LEFT_THRESHOLD
) {

100 
mLi¡’”
.
	`ÚMove
(
this
, -1);

101 
	`moveLeáUI
();

102 
mTÙ®Move
 = 0;

106  
Œue
;

108 
MÙiÚEv’t
.
ACTION_UP
:

109 
MÙiÚEv’t
.
ACTION_CANCEL
:

111 
mLa¡MÙiÚX
 = 0;

113  
su³r
.
	`ÚTouchEv’t
(
ev’t
);

115 
	}
}

117 
´iv©e
 
	$moveRightUI
() {

118 
mIndex
++;

119 ià(
mIndex
 > 
MAXINDEX
) {

120 
mIndex
 = 
MININDEX
;

122 
	`£tImageResourû
(
TuÃrV›wBackgrounds
[
mIndex
]);

123 
	}
}

125 
´iv©e
 
	$moveLeáUI
() {

126 
mIndex
--;

127 ià(
mIndex
 < 
MININDEX
) {

128 
mIndex
 = 
MAXINDEX
;

130 
	`£tImageResourû
(
TuÃrV›wBackgrounds
[
mIndex
]);

131 
	}
}

	@src/com/pekall/fmradio/Util.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioSy¡em
;

21 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gS‘tšgs
;

22 
impÜt
 
	gªdroid
.
	g‹ËphÚy
.
	gT–•hÚyMªag”
;

27 
public
 cÏs 
	cUt
 {

31 
fš®
 
	mMAX_CHANNEL_NUM
 = 40;

39 
public
 
boŞ—n
 
	$isAœ¶ªeModeOn
(
CÚ‹xt
 
cÚ‹xt
) {

40  
S‘tšgs
.
Sy¡em
.
	`g‘IÁ
(
cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
(),

41 
S‘tšgs
.
Glob®
.
AIRPLANE_MODE_ON
, 0) == 1;

50 
public
 
boŞ—n
 
	$isInC®lS‹
(
CÚ‹xt
 
cÚ‹xt
) {

51 
T–•hÚyMªag”
 
‹Ëmgr
 = (T–•hÚyMªag”è
cÚ‹xt


52 .
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
TELEPHONY_SERVICE
);

59  ((
‹Ëmgr
.
	`g‘C®lS‹
(è!ğ
T–•hÚyMªag”
.
CALL_STATE_IDLE
));

60 
	}
}

67 
public
 
boŞ—n
 
	$suµÜtIÁ”ÇlAÁ’Ç
(
CÚ‹xt
 
cÚ‹xt
) {

68  
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘BoŞ—n
(
R
.
boŞ
.
suµÜt_š‹º®_ª‹Âa
);

69 
	}
}

76 
public
 
boŞ—n
 
	$showCİyright
(
CÚ‹xt
 
cÚ‹xt
) {

77  
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘BoŞ—n
(
R
.
boŞ
.
show_cİyright
);

78 
	}
}

85 
public
 
boŞ—n
 
	$di¥ÏyP»£tChªÃls
(
CÚ‹xt
 
cÚ‹xt
) {

86  
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘BoŞ—n
(
R
.
boŞ
.
di¥Ïy_´e£t_chªÃls
);

87 
	}
}

94 
public
 
boŞ—n
 
	$isWœedH—d£tOn
() {

95 ià(
AudioSy¡em
.
	`g‘DeviûCÚÃùiÚS‹
(AudioSy¡em.
DEVICE_OUT_WIRED_HEADSET
, "")

96 =ğ
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
) {

97  
Œue
;

99 ià(
AudioSy¡em
.
	`g‘DeviûCÚÃùiÚS‹
(AudioSy¡em.
DEVICE_OUT_WIRED_HEADPHONE
, "")

100 =ğ
AudioSy¡em
.
DEVICE_STATE_AVAILABLE
) {

101  
Œue
;

103  
çl£
;

104 
	}
}

111 
public
 
boŞ—n
 
	$isEx‹º®StÜageS‹MouÁed
() {

112  
ªdroid
.
os
.
EnvœÚm’t
.
	`g‘Ex‹º®StÜageS‹
().
	`equ®s
(

113 
ªdroid
.
os
.
EnvœÚm’t
.
MEDIA_MOUNTED
);

114 
	}
}

	@src/com/pekall/fmradio/test/FMAudioStubTest.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	g‹¡
;

19 
impÜt
 
	gªdroid
.
	g‹¡
.
	gAndroidTe¡Ca£
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

22 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMAudioIÁ”çû
;

23 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
;

24 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFaùÜy
;

30 
public
 cÏs 
	cFMAudioStubTe¡
 
ex‹nds
 
	mAndroidTe¡Ca£
 {

33 
´Ùeùed
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMAudioInterfaceTest";

34 
´iv©e
 
FMAudioIÁ”çû
 
	mmAudio
;

36 @
Ov”ride


37 
´Ùeùed
 
	$£tUp
(è
throws
 
Exû±iÚ
 {

38 
su³r
.
	`£tUp
();

39 
Log
.
	`i
(
LOGTAG
, "setUp");

41 
FaùÜy
.
	`u£StubIÁ”çû
(
Œue
);

42 
mAudio
 = 
FaùÜy
.
	`g‘AudioIÁ”çû
(
Ãw
 
	`FMRadioS”viû
(), 
	`g‘CÚ‹xt
());

45 
public
 
	$‹¡In™
() {

46 
	`as£¹Equ®s
(
mAudio
.
	`g‘AudioP©h
(), 
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
);

47 
	`as£¹Equ®s
(
mAudio
.
	`isAudioOn
(), 
çl£
);

48 
	`as£¹Equ®s
(
mAudio
.
	`g‘Mu‹
(), 
çl£
);

49 
	}
}

51 
public
 
	$‹¡Pow”OnAudio
() {

52 
mAudio
.
	`pow”OnAudio
();

53 
	`as£¹Equ®s
(
mAudio
.
	`g‘AudioP©h
(), 
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
);

54 
	`as£¹Equ®s
(
mAudio
.
	`isAudioOn
(), 
Œue
);

55 
	`as£¹Equ®s
(
mAudio
.
	`g‘Mu‹
(), 
çl£
);

56 
	}
}

58 
public
 
	$‹¡Pow”OffAudio
() {

59 
mAudio
.
	`pow”OnAudio
();

61 
mAudio
.
	`pow”OffAudio
();

62 
	`as£¹Equ®s
(
mAudio
.
	`g‘AudioP©h
(), 
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
);

63 
	`as£¹Equ®s
(
mAudio
.
	`isAudioOn
(), 
çl£
);

64 
	`as£¹Equ®s
(
mAudio
.
	`g‘Mu‹
(), 
çl£
);

65 
	}
}

67 
public
 
	$‹¡Mu‹
() {

68 
mAudio
.
	`pow”OnAudio
();

70 
mAudio
.
	`£tMu‹
(
Œue
);

71 
	`as£¹Equ®s
(
mAudio
.
	`g‘Mu‹
(), 
Œue
);

73 
mAudio
.
	`£tMu‹
(
çl£
);

74 
	`as£¹Equ®s
(
mAudio
.
	`g‘Mu‹
(), 
çl£
);

75 
	}
}

77 
public
 
	$‹¡S³ak”
() {

78 
mAudio
.
	`pow”OnAudio
();

80 
mAudio
.
	`£tAudioOnS³ak”
(
Œue
);

81 
	`as£¹Equ®s
(
mAudio
.
	`g‘AudioP©h
(), 
FMAudioIÁ”çû
.
ROUTE_FM_SPEAKER
);

83 
mAudio
.
	`£tAudioOnS³ak”
(
çl£
);

84 
	`as£¹Equ®s
(
mAudio
.
	`g‘AudioP©h
(), 
FMAudioIÁ”çû
.
ROUTE_FM_HEADSET
);

85 
	}
}

87 @
Ov”ride


88 
´Ùeùed
 
	$‹¬Down
(è
throws
 
Exû±iÚ
 {

89 
mAudio
.
	`pow”OffAudio
();

90 
mAudio
 = 
nuÎ
;

91 
su³r
.
	`‹¬Down
();

92 
	}
}

	@src/com/pekall/fmradio/test/FMAudioStubTestFocus.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	g‹¡
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioMªag”
;

21 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioMªag”
.
	gOnAudioFocusChªgeLi¡’”
;

22 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

23 
impÜt
 
	gªdroid
.
	gos
.
	gLoİ”
;

24 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

25 
impÜt
 
	gªdroid
.
	g‹¡
.
	gAndroidTe¡Ca£
;

26 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

28 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMAudioIÁ”çû
;

29 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
;

30 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFaùÜy
;

35 
public
 cÏs 
	cFMAudioStubTe¡Focus
 
ex‹nds
 
	mAndroidTe¡Ca£
 {

38 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMAudioInterfaceTest";

39 
´iv©e
 
FMAudioIÁ”çû
 
	mmAudio
;

41 
´iv©e
 
	mmTe¡Focus
;

42 
´iv©e
 
AudioMªag”
 
	mmAudioMgr
;

43 
´iv©e
 
Objeù
 
	mmLock
 = 
Ãw
 Object();

45 @
Ov”ride


46 
´Ùeùed
 
	$£tUp
(è
throws
 
Exû±iÚ
 {

47 
su³r
.
	`£tUp
();

48 
Log
.
	`i
(
LOGTAG
, "setUp");

50 
FaùÜy
.
	`u£StubIÁ”çû
(
Œue
);

51 
mAudio
 = 
FaùÜy
.
	`g‘AudioIÁ”çû
(
Ãw
 
	`FMRadioS”viû
(), 
	`g‘CÚ‹xt
());

52 
mAudioMgr
 = (
AudioMªag”
)

53 
	`g‘CÚ‹xt
().
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
AUDIO_SERVICE
);

54 
mTe¡Focus
 = 
AudioMªag”
.
AUDIOFOCUS_LOSS
;

57 
public
 
	$‹¡In™
() {

58 
Log
.
	`i
(
LOGTAG
, "testInit");

60 
fš®
 
OnAudioFocusChªgeLi¡’”
 
mAudioFocusLi¡’”
 = 
Ãw
 
	`OnAudioFocusChªgeLi¡’”
() {

61 
public
 
	`ÚAudioFocusChªge
(
focusChªge
) {

62 
Log
.
	`i
(
LOGTAG
, "ÚAudioFocusChªge: " + 
focusChªge
);

63 
mTe¡Focus
 = 
focusChªge
;

65 
	`synchrÚized
 (
mLock
) {

66 
mLock
.
	`nÙifyAÎ
();

72 
fš®
 
HªdËr
 
mašTh»adHªdËr
 = 
Ãw
 
	`HªdËr
(
Loİ”
.
	`g‘MašLoİ”
()) {

73 @
Ov”ride


74 
public
 
	`hªdËMes§ge
(
Mes§ge
 
msg
) {

75 
Log
.
	`i
(
LOGTAG
, "requestest focus");

76 
»suÉ
 = 
mAudioMgr
.
	`»que¡AudioFocus
(
mAudioFocusLi¡’”
,

77 
AudioMªag”
.
STREAM_MUSIC
,

78 
AudioMªag”
.
AUDIOFOCUS_GAIN
);

79 
	`as£¹Equ®s
(
»suÉ
, 
AudioMªag”
.
AUDIOFOCUS_REQUEST_GRANTED
);

84 
mašTh»adHªdËr
.
	`£ndEm±yMes§ge
(0);

86 
Log
.
	`i
(
LOGTAG
, "power on‡udio");

87 
mAudio
.
	`pow”OnAudio
();

89 
	`synchrÚized
 (
mLock
) {

90 
Œy
 {

91 
mLock
.
	`wa™
(10 * 1000);

92 } 
	`ÿtch
 (
IÁ”ru±edExû±iÚ
 
e
) {

93 
e
.
	`´štSckT¿û
();

96 
	`as£¹Equ®s
(
mTe¡Focus
, 
AudioMªag”
.
AUDIOFOCUS_LOSS
);

97 
	}
}

99 @
Ov”ride


100 
´Ùeùed
 
	$‹¬Down
(è
throws
 
Exû±iÚ
 {

101 
Log
.
	`i
(
LOGTAG
, "setUp");

102 
mAudio
.
	`pow”OffAudio
();

103 
su³r
.
	`‹¬Down
();

104 
	}
}

	@src/com/pekall/fmradio/test/FMDeviceStubTest.java

17 
·ckage
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	g‹¡
;

19 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

20 
impÜt
 
	gªdroid
.
	gos
.
	gMes§ge
;

21 
impÜt
 
	gªdroid
.
	g‹¡
.
	gAndroidTe¡Ca£
;

22 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

24 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioIÁ”çû
;

25 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFMRadioS”viû
;

26 
impÜt
 
	gcom
.
	g³k®l
.
	gfm¿dio
.
	gFaùÜy
;

32 
public
 cÏs 
	cFMDeviûStubTe¡
 
ex‹nds
 
	mAndroidTe¡Ca£
 {

33 
´iv©e
 
fš®
 
SŒšg
 
	mLOGTAG
 = "FMDeviceStubTest";

35 
´iv©e
 
fš®
 
	mFM_EVENT_CMD_DONE
 = 0;

36 
´iv©e
 
fš®
 
	mFM_EVENT_CMD_NONE
 = -1;

38 
FMRadioIÁ”çû
 
	mmDeviû
;

39 
	mmResuÉ
;

40 
	mmCmd
;

41 
	mmS‹
;

43 
Objeù
 
	mmLock
 = 
Ãw
 Object();

45 
´iv©e
 
	$wa™ResuÉ
() {

46 
	`synchrÚized
 (
mLock
) {

47 
Œy
 {

48 
mLock
.
	`wa™
(5000);

49 } 
	`ÿtch
 (
IÁ”ru±edExû±iÚ
 
e
) {

50 
e
.
	`´štSckT¿û
();

55 @
Ov”ride


56 
´Ùeùed
 
	$£tUp
(è
throws
 
Exû±iÚ
 {

57 
su³r
.
	`£tUp
();

59 
FaùÜy
.
	`u£StubIÁ”çû
(
Œue
);

61 
mDeviû
 = 
FaùÜy
.
	`g‘FMRadioIÁ”çû
(
Ãw
 
	`FMRadioS”viû
());

62 
mDeviû
.
	`£tResuÉHªdËr
(
mHªdËr
);

64 
mResuÉ
 = 
FM_EVENT_CMD_NONE
;

65 
mCmd
 = 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_NONE
;

66 
mS‹
 = 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_FAILED
;

67 
	}
}

69 
public
 
	$‹¡001Pow”On
() {

70 
mDeviû
.
	`pow”OnCh
();

72 
	`wa™ResuÉ
();

73 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

74 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_POWERON
);

75 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

76 
	}
}

78 
public
 
	$‹¡002Pow”Off
() {

79 
mDeviû
.
	`pow”OnCh
();

80 
	`wa™ResuÉ
();

82 
mDeviû
.
	`pow”OffCh
();

84 
	`wa™ResuÉ
();

85 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

86 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_POWEROFF
);

87 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

88 
	}
}

90 
public
 
	$‹¡003O³nFMR
() {

91 
mDeviû
.
	`pow”OnCh
();

92 
	`wa™ResuÉ
();

94 
mDeviû
.
	`İ’FMRadio
();

96 
	`wa™ResuÉ
();

97 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

98 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_OPEN
);

99 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

100 
	}
}

102 
public
 
	$‹¡003Clo£FMR
() {

103 
mDeviû
.
	`pow”OnCh
();

104 
	`wa™ResuÉ
();

106 
mDeviû
.
	`İ’FMRadio
();

107 
	`wa™ResuÉ
();

109 
mDeviû
.
	`şo£FMRadio
();

111 
	`wa™ResuÉ
();

112 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

113 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_CLOSE
);

114 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

115 
	}
}

117 
public
 
	$‹¡004Mu‹
() {

118 
mDeviû
.
	`pow”OnCh
();

119 
	`wa™ResuÉ
();

121 
mDeviû
.
	`İ’FMRadio
();

122 
	`wa™ResuÉ
();

124 
mDeviû
.
	`£tFMMu‹
(0);

125 
	`wa™ResuÉ
();

126 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

127 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SET_MUTE
);

128 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

130 
mDeviû
.
	`£tFMMu‹
(1);

131 
	`wa™ResuÉ
();

132 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

133 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SET_MUTE
);

134 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

135 
	}
}

137 
public
 
	$‹¡005G‘F»q
() {

138 
mDeviû
.
	`pow”OnCh
();

139 
	`wa™ResuÉ
();

141 
mDeviû
.
	`İ’FMRadio
();

142 
	`wa™ResuÉ
();

144 
mDeviû
.
	`g‘FMF»q
();

146 
	`wa™ResuÉ
();

147 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

148 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_GET_FREQ
);

149 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

150 
	}
}

152 
public
 
	$‹¡006S‘F»q
() {

153 
mDeviû
.
	`pow”OnCh
();

154 
	`wa™ResuÉ
();

156 
mDeviû
.
	`İ’FMRadio
();

157 
	`wa™ResuÉ
();

159 
mDeviû
.
	`£tFMF»q
(87800);

161 
	`wa™ResuÉ
();

162 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

163 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SET_FREQ
);

164 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

165 
	}
}

167 
public
 
	$‹¡006S“kStiÚ
() {

168 
mDeviû
.
	`pow”OnCh
();

169 
	`wa™ResuÉ
();

171 
mDeviû
.
	`İ’FMRadio
();

172 
	`wa™ResuÉ
();

174 
mDeviû
.
	`£ekFM
(-1, 0);

175 
	`wa™ResuÉ
();

177 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

178 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SEEK
);

179 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

181 
mDeviû
.
	`£ekFM
(-1, 1);

182 
	`wa™ResuÉ
();

184 
	`as£¹Equ®s
(
mResuÉ
, 
FM_EVENT_CMD_DONE
);

185 
	`as£¹Equ®s
(
mCmd
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_CMD_SEEK
);

186 
	`as£¹Equ®s
(
mS‹
, 
FMRadioIÁ”çû
.
OnCmdDÚeLi¡’”
.
FM_STATUS_SUCCESS
);

187 
	}
}

189 
public
 
	$‹¡007RdsC®lback
() {

190 
mDeviû
.
	`pow”OnCh
();

191 
	`wa™ResuÉ
();

193 
mDeviû
.
	`İ’FMRadio
();

194 
	`wa™ResuÉ
();

196 
mDeviû
.
	`£tRdsC®lback
(0);

198 
	}
}

200 
public
 
	$‹¡008EÇbËRds
() {

201 
mDeviû
.
	`pow”OnCh
();

202 
	`wa™ResuÉ
();

204 
mDeviû
.
	`İ’FMRadio
();

205 
	`wa™ResuÉ
();

207 
mDeviû
.
	`’abËRds
();

209 
	}
}

211 
public
 
	$‹¡009di§bËRds
() {

212 
mDeviû
.
	`pow”OnCh
();

213 
	`wa™ResuÉ
();

215 
mDeviû
.
	`İ’FMRadio
();

216 
	`wa™ResuÉ
();

218 
mDeviû
.
	`di§bËRds
();

220 
	}
}

222 @
Ov”ride


223 
´Ùeùed
 
	$‹¬Down
(è
throws
 
Exû±iÚ
 {

224 
mDeviû
.
	`şo£FMRadio
();

225 
mDeviû
.
	`pow”OffCh
();

226 
su³r
.
	`‹¬Down
();

227 
	}
}

229 
´iv©e
 
HªdËr
 
	gmHªdËr
 = 
Ãw
 
	$HªdËr
() {

231 @
Ov”ride


232 
public
 
	`hªdËMes§ge
(
Mes§ge
 
msg
) {

233 
Log
.
	`i
(
LOGTAG
, "hªdË mes§ge: " + 
msg
.
wh©
);

235 
mResuÉ
 = 
msg
.
wh©
;

236 
msg
.
wh©
) {

237 
FM_EVENT_CMD_DONE
:

238 
mCmd
 = 
msg
.
¬g1
;

239 
mS‹
 = 
msg
.
¬g2
;

242 
Log
.
	`e
(
LOGTAG
, "UnknowÀmes§gty³ " + 
msg
.
wh©
);

245 
	`synchrÚized
 (
mLock
) {

246 
mLock
.
	`nÙifyAÎ
();

250 
	}
};

	@
1
.
1
/usr/include
134
4870
Android.mk
AndroidManifest.xml
rds/rds/app/Application.java
rds/rds/app/ChangeListener.java
rds/rds/app/InHouse.java
rds/rds/app/Paging.java
rds/rds/app/oda/AlertC.java
rds/rds/app/oda/AlertCwithAlertPlus.java
rds/rds/app/oda/EN301700.java
rds/rds/app/oda/ODA.java
rds/rds/app/oda/RTPlus.java
rds/rds/core/BitStreamBreakOut.java
rds/rds/core/GroupLevelDecoder.java
rds/rds/core/OtherNetwork.java
rds/rds/core/RBDSCallsigns.java
rds/rds/core/RDS.java
rds/rds/core/Station.java
rds/rds/core/StreamLevelDecoder.java
rds/rds/core/Text.java
rds/rds/core/TunedStation.java
rds/rds/input/BinStringFileBitReader.java
rds/rds/input/BinaryFileBitReader.java
rds/rds/input/BitReader.java
rds/rds/input/DumpFileBitReader.java
rds/rds/input/GroupReader.java
rds/rds/input/HexFileGroupReader.java
rds/rds/input/InverterBitReader.java
rds/rds/input/RDSReader.java
rds/rds/input/SimpleV4LGroupReader.java
rds/rds/input/StationChangeDetector.java
rds/rds/input/SyncBinaryFileBitReader.java
rds/rds/input/TCPTunerGroupReader.java
rds/rds/input/TeeBitReader.java
rds/rds/input/TeeGroupReader.java
rds/rds/input/TunerGroupReader.java
rds/rds/input/USBFMRadioGroupReader.java
rds/rds/input/V4LTunerGroupReader.java
rds/rds/input/group/FrequencyChangeEvent.java
rds/rds/input/group/GroupEvent.java
rds/rds/input/group/GroupReaderEvent.java
rds/rds/input/group/GroupReaderEventVisitor.java
rds/rds/input/group/StationChangeEvent.java
rds/rds/log/ApplicationChanged.java
rds/rds/log/ClockTime.java
rds/rds/log/DefaultLogMessageVisitor.java
rds/rds/log/EONReturn.java
rds/rds/log/EONSwitch.java
rds/rds/log/EndOfStream.java
rds/rds/log/GroupReceived.java
rds/rds/log/Log.java
rds/rds/log/LogMessage.java
rds/rds/log/LogMessageVisitor.java
rds/rds/log/RDSTime.java
rds/rds/log/RealTime.java
rds/rds/log/SequentialTime.java
rds/rds/log/StationLost.java
rds/rds/log/StationTuned.java
res/drawable-hdpi/appwidget_button_center.xml
res/drawable-hdpi/appwidget_button_left.xml
res/drawable-hdpi/appwidget_button_right.xml
res/drawable-ldpi/appwidget_button_center.xml
res/drawable-ldpi/appwidget_button_left.xml
res/drawable-ldpi/appwidget_button_right.xml
res/drawable-mdpi/appwidget_button_center.xml
res/drawable-mdpi/appwidget_button_left.xml
res/drawable-mdpi/appwidget_button_right.xml
res/drawable-xhdpi/appwidget_button_center.xml
res/drawable-xhdpi/appwidget_button_left.xml
res/drawable-xhdpi/appwidget_button_right.xml
res/drawable/appwidget_button_center.xml
res/drawable/appwidget_button_left.xml
res/drawable/appwidget_button_right.xml
res/drawable/btn_play.xml
res/drawable/btn_stop.xml
res/drawable/channel_left.xml
res/drawable/channel_right.xml
res/drawable/favorite_button_bg.xml
res/drawable/freq_indicator_seek.xml
res/drawable/loadingbar.xml
res/layout-hdpi/action_bar_display_options_custom.xml
res/layout-hdpi/channel.xml
res/layout-hdpi/main.xml
res/layout-ldpi/action_bar_display_options_custom.xml
res/layout-ldpi/channel.xml
res/layout-ldpi/main.xml
res/layout-mdpi/action_bar_display_options_custom.xml
res/layout-mdpi/channel.xml
res/layout-mdpi/main.xml
res/layout-xhdpi/action_bar_display_options_custom.xml
res/layout-xhdpi/channel.xml
res/layout-xhdpi/main.xml
res/layout/action_bar_display_options_custom.xml
res/layout/channel.xml
res/layout/clear_ch.xml
res/layout/fmwidget.xml
res/layout/main.xml
res/layout/record_filelist.xml
res/layout/record_list_item.xml
res/layout/simple_list_item_multiple_choice.xml
res/values-zh-rCN/strings.xml
res/values-zh-rTW/strings.xml
res/values/config.xml
res/values/strings.xml
res/values/styles.xml
res/xml/fm_widget.xml
src/com/pekall/fmradio/ContentHelper.java
src/com/pekall/fmradio/DebugFlags.java
src/com/pekall/fmradio/FMAudioDefaultImpl.java
src/com/pekall/fmradio/FMAudioDeviceInterface.java
src/com/pekall/fmradio/FMAudioInterface.java
src/com/pekall/fmradio/FMAudioStubInterface.java
src/com/pekall/fmradio/FMClearChannel.java
src/com/pekall/fmradio/FMDataProvider.java
src/com/pekall/fmradio/FMHorizontalScrollView.java
src/com/pekall/fmradio/FMRadio.java
src/com/pekall/fmradio/FMRadioAppWidgetProvider.java
src/com/pekall/fmradio/FMRadioInterface.java
src/com/pekall/fmradio/FMRadioNativeInterface.java
src/com/pekall/fmradio/FMRadioService.java
src/com/pekall/fmradio/FMRadioStubInterface.java
src/com/pekall/fmradio/FMRecorder.java
src/com/pekall/fmradio/Factory.java
src/com/pekall/fmradio/FreqIndicator.java
src/com/pekall/fmradio/IFMRadioService.aidl
src/com/pekall/fmradio/IRemoteServiceCallback.aidl
src/com/pekall/fmradio/MarqueeText.java
src/com/pekall/fmradio/MediaButtonIntentReceiver.java
src/com/pekall/fmradio/RDSController.java
src/com/pekall/fmradio/RecordListActivity.java
src/com/pekall/fmradio/TunerView.java
src/com/pekall/fmradio/Util.java
src/com/pekall/fmradio/test/FMAudioStubTest.java
src/com/pekall/fmradio/test/FMAudioStubTestFocus.java
src/com/pekall/fmradio/test/FMDeviceStubTest.java
